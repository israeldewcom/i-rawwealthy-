<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RawWealthy Elite - Advanced Referral Platform</title>
    
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700;800;900&family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- CSS Variables & Base Styles -->
    <style>
        /* ==============================================
         * DESIGN SYSTEM v5.0
         * Ultra-Modern, Mobile-First, Professional Design
         * ============================================== */
        
        :root {
            /* Enhanced Color Palette */
            --primary: #6C63FF;
            --primary-dark: #5A52D5;
            --primary-light: #8B85FF;
            --secondary: #36D1DC;
            --secondary-dark: #2AB7C1;
            --accent: #FF6584;
            --accent-dark: #E64C6D;
            --success: #2Ecc71;
            --success-dark: #27ae60;
            --warning: #F1C40F;
            --warning-dark: #F39C12;
            --danger: #E74C3C;
            --danger-dark: #C0392B;
            --info: #3498DB;
            
            /* Gradient Themes - Enhanced */
            --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            --gradient-secondary: linear-gradient(135deg, var(--secondary) 0%, var(--primary-light) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent) 0%, #FF8E53 100%);
            --gradient-success: linear-gradient(135deg, var(--success) 0%, #1ABC9C 100%);
            --gradient-warning: linear-gradient(135deg, var(--warning) 0%, #E67E22 100%);
            --gradient-danger: linear-gradient(135deg, var(--danger) 0%, #E84393 100%);
            --gradient-dark: linear-gradient(135deg, #0F172A 0%, #1E293B 100%);
            
            /* Glass Morphism Colors */
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            
            /* Dark Theme */
            --dark-1: #0A0F1E;
            --dark-2: #121828;
            --dark-3: #1A2238;
            --dark-4: #2D3748;
            
            /* Light Theme */
            --light-1: #F8FAFC;
            --light-2: #F1F5F9;
            --light-3: #E2E8F0;
            --light-4: #CBD5E1;
            
            /* Text Colors */
            --text-primary: #F1F5F9;
            --text-secondary: #94A3B8;
            --text-muted: #64748B;
            
            /* Spacing Scale */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            --space-3xl: 4rem;
            --space-4xl: 6rem;
            
            /* Border Radius */
            --radius-sm: 6px;
            --radius-md: 10px;
            --radius-lg: 14px;
            --radius-xl: 18px;
            --radius-2xl: 24px;
            --radius-3xl: 32px;
            --radius-full: 9999px;
            
            /* Shadows - Enhanced */
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.1);
            --shadow-md: 0 8px 24px rgba(0,0,0,0.15);
            --shadow-lg: 0 16px 48px rgba(0,0,0,0.2);
            --shadow-xl: 0 24px 64px rgba(0,0,0,0.25);
            --shadow-inner: inset 0 2px 8px rgba(0,0,0,0.06);
            --shadow-glow: 0 0 30px rgba(108, 99, 255, 0.3);
            
            /* Transitions */
            --transition-fast: 200ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: 400ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* Z-index */
            --z-dropdown: 1000;
            --z-sticky: 1020;
            --z-fixed: 1030;
            --z-modal: 1040;
            --z-popover: 1050;
            --z-tooltip: 1060;
        }

        /* Light Theme */
        [data-theme="light"] {
            --dark-1: #FFFFFF;
            --dark-2: #F8FAFC;
            --dark-3: #F1F5F9;
            --dark-4: #E2E8F0;
            
            --light-1: #0F172A;
            --light-2: #1E293B;
            --light-3: #334155;
            --light-4: #475569;
            
            --text-primary: #1E293B;
            --text-secondary: #475569;
            --text-muted: #64748B;
            
            --glass-bg: rgba(255, 255, 255, 0.8);
            --glass-border: rgba(226, 232, 240, 0.6);
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: var(--dark-1);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
            background: linear-gradient(135deg, var(--dark-1) 0%, var(--dark-2) 100%);
        }

        /* Animated Background Elements */
        .background-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
            pointer-events: none;
        }

        .bg-circle {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.15;
            animation: float 20s infinite ease-in-out;
        }

        .circle-1 {
            width: 600px;
            height: 600px;
            background: var(--primary);
            top: -200px;
            left: -200px;
            animation-delay: 0s;
        }

        .circle-2 {
            width: 500px;
            height: 500px;
            background: var(--secondary);
            bottom: -150px;
            right: -150px;
            animation-delay: -5s;
        }

        .circle-3 {
            width: 400px;
            height: 400px;
            background: var(--accent);
            top: 50%;
            left: 70%;
            animation-delay: -10s;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            line-height: 1.2;
        }

        .display-1 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--space-lg);
        }

        .display-2 {
            font-size: clamp(2rem, 4vw, 2.5rem);
            font-weight: 700;
            margin-bottom: var(--space-md);
        }

        .text-gradient {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Layout */
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-lg);
        }

        .container-narrow {
            max-width: 800px;
        }

        .section {
            padding: clamp(var(--space-2xl), 8vw, var(--space-4xl)) 0;
        }

        .section-sm {
            padding: var(--space-2xl) 0;
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .text-left { text-align: left; }
        .text-right { text-align: right; }
        .text-uppercase { text-transform: uppercase; }
        .text-lowercase { text-transform: lowercase; }
        .text-capitalize { text-transform: capitalize; }

        .d-none { display: none !important; }
        .d-block { display: block !important; }
        .d-flex { display: flex !important; }
        .d-grid { display: grid !important; }

        .flex-column { flex-direction: column; }
        .flex-wrap { flex-wrap: wrap; }
        .justify-between { justify-content: space-between; }
        .justify-center { justify-content: center; }
        .justify-end { justify-content: flex-end; }
        .justify-start { justify-content: flex-start; }
        .align-center { align-items: center; }
        .align-start { align-items: flex-start; }
        .align-end { align-items: flex-end; }
        .align-stretch { align-items: stretch; }

        .gap-1 { gap: var(--space-xs); }
        .gap-2 { gap: var(--space-sm); }
        .gap-3 { gap: var(--space-md); }
        .gap-4 { gap: var(--space-lg); }
        .gap-5 { gap: var(--space-xl); }
        .gap-6 { gap: var(--space-2xl); }

        .w-100 { width: 100%; }
        .h-100 { height: 100%; }

        .rounded-sm { border-radius: var(--radius-sm); }
        .rounded-md { border-radius: var(--radius-md); }
        .rounded-lg { border-radius: var(--radius-lg); }
        .rounded-xl { border-radius: var(--radius-xl); }
        .rounded-full { border-radius: var(--radius-full); }

        .shadow-sm { box-shadow: var(--shadow-sm); }
        .shadow-md { box-shadow: var(--shadow-md); }
        .shadow-lg { box-shadow: var(--shadow-lg); }
        .shadow-xl { box-shadow: var(--shadow-xl); }
        .shadow-glow { box-shadow: var(--shadow-glow); }

        .position-relative { position: relative; }
        .position-absolute { position: absolute; }
        .position-fixed { position: fixed; }
        .position-sticky { position: sticky; }

        .overflow-hidden { overflow: hidden; }
        .overflow-auto { overflow: auto; }

        .glass-effect {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(5deg); }
            66% { transform: translateY(10px) rotate(-5deg); }
        }

        @keyframes shimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(108, 99, 255, 0.5); }
            50% { box-shadow: 0 0 40px rgba(108, 99, 255, 0.8); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .animate-fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .animate-glow {
            animation: glow 3s ease-in-out infinite;
        }

        .animate-bounce {
            animation: bounce 2s ease-in-out infinite;
        }

        .animate-slide-up {
            animation: slideUp 0.5s ease-out forwards;
        }

        /* Modern Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 80px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            z-index: var(--z-fixed);
            transition: var(--transition-normal);
        }

        .navbar.scrolled {
            height: 70px;
            box-shadow: var(--shadow-md);
        }

        .navbar-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 100%;
            padding: 0 var(--space-lg);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            text-decoration: none;
            z-index: var(--z-fixed) + 1;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-lg);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            box-shadow: var(--shadow-glow);
            transition: var(--transition-normal);
        }

        .logo:hover .logo-icon {
            transform: rotate(15deg) scale(1.1);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
            line-height: 1.2;
        }

        .logo-main {
            font-family: 'Poppins', sans-serif;
            font-weight: 800;
            font-size: 1.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-sub {
            font-size: 0.75rem;
            color: var(--text-secondary);
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .nav-menu {
            display: flex;
            gap: var(--space-xs);
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-full);
            font-weight: 500;
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition-fast);
            position: relative;
            overflow: hidden;
            font-size: 0.875rem;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: var(--primary);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
            opacity: 0.1;
            z-index: -1;
        }

        .nav-link:hover::before,
        .nav-link.active::before {
            width: 100%;
            height: 100%;
        }

        .nav-link:hover,
        .nav-link.active {
            color: white;
            transform: translateY(-2px);
        }

        .nav-link.active {
            background: var(--glass-bg);
        }

        .nav-indicator {
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            background: var(--primary);
            border-radius: 50%;
            opacity: 0;
            transition: var(--transition-fast);
        }

        .nav-link.active .nav-indicator {
            opacity: 1;
            width: 20px;
        }

        .mobile-menu-btn {
            display: none;
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
            font-size: 1.25rem;
            cursor: pointer;
            transition: var(--transition-fast);
            z-index: var(--z-fixed) + 1;
        }

        .mobile-menu-btn:hover {
            background: var(--dark-3);
            transform: rotate(90deg);
        }

        .nav-user {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-xs);
            border-radius: var(--radius-full);
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .nav-user:hover {
            background: var(--dark-3);
            transform: translateY(-2px);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--text-primary);
        }

        .user-tier {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* New Navigation Elements */
        .nav-dropdown {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--dark-2);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: var(--space-sm);
            min-width: 200px;
            box-shadow: var(--shadow-xl);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: var(--z-dropdown);
        }

        .nav-dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(5px);
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition-fast);
        }

        .dropdown-item:hover {
            background: var(--dark-3);
            color: white;
            transform: translateX(5px);
        }

        /* Hero Cards */
        .hero-card {
            background: linear-gradient(135deg, var(--dark-2) 0%, var(--dark-3) 100%);
            border-radius: var(--radius-2xl);
            padding: var(--space-2xl);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-xl);
            transition: var(--transition-normal);
        }

        .hero-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl), var(--shadow-glow);
        }

        .hero-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: var(--radius-2xl) var(--radius-2xl) 0 0;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-xl);
            margin-bottom: var(--space-3xl);
        }

        .stat-card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            text-align: center;
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(108, 99, 255, 0.1) 50%,
                transparent 70%
            );
            transform: rotate(45deg);
            animation: shimmer 3s infinite linear;
        }

        .stat-icon {
            width: 64px;
            height: 64px;
            border-radius: var(--radius-lg);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-md);
            color: white;
            font-size: 1.5rem;
            box-shadow: var(--shadow-md);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: var(--space-xs);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* Progress Bars */
        .progress-container {
            margin-bottom: var(--space-xl);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-sm);
        }

        .progress-label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.875rem;
        }

        .progress-value {
            font-weight: 700;
            color: var(--primary);
            font-size: 0.875rem;
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-3);
            border-radius: var(--radius-full);
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            width: 0%;
            transition: width 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.4),
                transparent
            );
            animation: shimmer 2s infinite linear;
        }

        /* Reward Cards with Real Images */
        .rewards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: var(--space-xl);
        }

        .reward-card {
            background: var(--dark-2);
            border-radius: var(--radius-xl);
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-md);
        }

        .reward-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: var(--shadow-xl), var(--shadow-glow);
            border-color: var(--primary);
        }

        .reward-card.locked {
            opacity: 0.7;
            filter: grayscale(0.3);
        }

        .reward-card.achieved {
            border-color: var(--success);
        }

        .reward-card.available {
            border-color: var(--warning);
            animation: glow 2s infinite;
        }

        .reward-badge {
            position: absolute;
            top: var(--space-md);
            right: var(--space-md);
            z-index: 2;
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            box-shadow: var(--shadow-md);
        }

        .reward-image {
            width: 100%;
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .reward-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(to top, var(--dark-2), transparent);
        }

        .reward-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .reward-card:hover .reward-image img {
            transform: scale(1.1);
        }

        .reward-content {
            padding: var(--space-xl);
            position: relative;
            z-index: 1;
        }

        .reward-tier {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) var(--space-md);
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 700;
            margin-bottom: var(--space-md);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .reward-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: var(--space-sm);
            color: var(--text-primary);
            line-height: 1.3;
        }

        .reward-description {
            color: var(--text-secondary);
            margin-bottom: var(--space-lg);
            font-size: 0.875rem;
            line-height: 1.5;
        }

        .reward-requirements {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md);
            background: var(--dark-3);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-lg);
        }

        .requirement-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
        }

        /* Leaderboard */
        .leaderboard-container {
            background: var(--dark-2);
            border-radius: var(--radius-2xl);
            overflow: hidden;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-lg);
        }

        .leaderboard-header {
            padding: var(--space-xl);
            background: var(--dark-3);
            border-bottom: 1px solid var(--glass-border);
        }

        .leaderboard-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .leaderboard-table th {
            padding: var(--space-lg);
            text-align: left;
            font-weight: 600;
            color: var(--text-secondary);
            background: var(--dark-3);
            border-bottom: 2px solid var(--glass-border);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .leaderboard-table td {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--glass-border);
            vertical-align: middle;
        }

        .leaderboard-table tr:hover {
            background: var(--dark-3);
        }

        .leaderboard-table tr:last-child td {
            border-bottom: none;
        }

        .rank-badge {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 0.875rem;
            box-shadow: var(--shadow-md);
        }

        .rank-1 { 
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }
        .rank-2 { 
            background: linear-gradient(135deg, #C0C0C0 0%, #808080 100%);
            box-shadow: 0 0 20px rgba(192, 192, 192, 0.3);
        }
        .rank-3 { 
            background: linear-gradient(135deg, #CD7F32 0%, #8B4513 100%);
            box-shadow: 0 0 20px rgba(205, 127, 50, 0.3);
        }

        /* Forms */
        .form-group {
            margin-bottom: var(--space-lg);
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-xs);
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.875rem;
        }

        .form-control {
            width: 100%;
            padding: var(--space-md) var(--space-lg);
            background: var(--dark-3);
            border: 2px solid var(--glass-border);
            border-radius: var(--radius-lg);
            color: var(--text-primary);
            font-size: 1rem;
            transition: var(--transition-fast);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.1);
            background: var(--dark-4);
        }

        .form-control::placeholder {
            color: var(--text-muted);
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: var(--space-md) var(--space-xl);
            border-radius: var(--radius-lg);
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            touch-action: manipulation;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg), var(--shadow-glow);
        }

        .btn-secondary {
            background: var(--gradient-secondary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-accent {
            background: var(--gradient-accent);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        /* Modal System */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 15, 30, 0.9);
            backdrop-filter: blur(10px);
            z-index: var(--z-modal);
            display: none;
            align-items: center;
            justify-content: center;
            padding: var(--space-md);
            opacity: 0;
            transition: opacity var(--transition-normal);
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal {
            background: var(--dark-2);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-xl);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow: hidden;
            animation: fadeIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            border: 1px solid var(--glass-border);
        }

        .modal-large {
            max-width: 800px;
        }

        .modal-close {
            position: absolute;
            top: var(--space-lg);
            right: var(--space-lg);
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: var(--dark-3);
            color: var(--text-muted);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-fast);
            z-index: 1;
            border: 1px solid var(--glass-border);
            cursor: pointer;
        }

        .modal-close:hover {
            background: var(--dark-4);
            color: var(--text-primary);
            transform: rotate(90deg);
        }

        /* Footer */
        .footer {
            background: var(--dark-2);
            border-top: 1px solid var(--glass-border);
            padding: var(--space-4xl) 0 var(--space-2xl);
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--gradient-primary);
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-2xl);
            margin-bottom: var(--space-3xl);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: var(--space-sm);
        }

        .footer-links a {
            color: var(--text-secondary);
            transition: var(--transition-fast);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: var(--space-xl);
            border-top: 1px solid var(--glass-border);
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        /* New Pages Styles */
        .page-content {
            min-height: calc(100vh - 80px);
            padding-top: 80px;
        }

        /* Investments Page */
        .investments-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-xl);
        }

        .investment-card {
            background: var(--dark-2);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            border: 1px solid var(--glass-border);
            transition: var(--transition-normal);
        }

        .investment-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: var(--shadow-lg);
        }

        .investment-status {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-active {
            background: rgba(46, 204, 113, 0.1);
            color: var(--success);
            border: 1px solid rgba(46, 204, 113, 0.2);
        }

        .status-pending {
            background: rgba(241, 196, 15, 0.1);
            color: var(--warning);
            border: 1px solid rgba(241, 196, 15, 0.2);
        }

        .status-completed {
            background: rgba(52, 152, 219, 0.1);
            color: var(--info);
            border: 1px solid rgba(52, 152, 219, 0.2);
        }

        /* Transactions Page */
        .transaction-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-lg);
            background: var(--dark-2);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-sm);
            border: 1px solid var(--glass-border);
            transition: var(--transition-fast);
        }

        .transaction-item:hover {
            background: var(--dark-3);
            transform: translateX(5px);
        }

        .transaction-amount.positive {
            color: var(--success);
            font-weight: 600;
        }

        .transaction-amount.negative {
            color: var(--danger);
            font-weight: 600;
        }

        /* Support Page */
        .support-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-xl);
        }

        .support-card {
            background: var(--dark-2);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            text-align: center;
            border: 1px solid var(--glass-border);
            transition: var(--transition-normal);
        }

        .support-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .support-icon {
            width: 60px;
            height: 60px;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin: 0 auto var(--space-lg);
        }

        /* FAQ Page */
        .faq-item {
            background: var(--dark-2);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-sm);
            border: 1px solid var(--glass-border);
            overflow: hidden;
        }

        .faq-question {
            padding: var(--space-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .faq-question:hover {
            background: var(--dark-3);
        }

        .faq-answer {
            padding: 0 var(--space-lg);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .faq-item.active .faq-answer {
            padding: var(--space-lg);
            max-height: 500px;
        }

        .faq-toggle {
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-toggle {
            transform: rotate(45deg);
        }

        /* Withdrawal Page */
        .withdrawal-form {
            background: var(--dark-2);
            border-radius: var(--radius-xl);
            padding: var(--space-2xl);
            border: 1px solid var(--glass-border);
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: var(--space-md);
            margin-bottom: var(--space-xl);
        }

        .payment-method {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-md);
            background: var(--dark-3);
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: var(--transition-fast);
            border: 2px solid transparent;
        }

        .payment-method:hover {
            background: var(--dark-4);
        }

        .payment-method.selected {
            border-color: var(--primary);
            background: rgba(108, 99, 255, 0.1);
        }

        /* Mobile-First Enhancements */
        .mobile-bottom-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--dark-2);
            border-top: 1px solid var(--glass-border);
            padding: var(--space-sm) var(--space-md);
            z-index: var(--z-fixed);
            backdrop-filter: blur(20px);
        }

        .mobile-nav-items {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .mobile-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-sm);
            border-radius: var(--radius-md);
            text-decoration: none;
            color: var(--text-secondary);
            transition: var(--transition-fast);
            font-size: 0.75rem;
        }

        .mobile-nav-item.active {
            color: var(--primary);
            background: var(--dark-3);
        }

        .mobile-nav-item i {
            font-size: 1.25rem;
        }

        /* Touch-friendly enhancements */
        .touch-target {
            min-height: 44px;
            min-width: 44px;
        }

        /* Swipe gestures area */
        .swipe-indicator {
            width: 40px;
            height: 4px;
            background: var(--text-muted);
            border-radius: var(--radius-full);
            margin: var(--space-md) auto;
            opacity: 0.5;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .container {
                max-width: 1140px;
            }
        }

        @media (max-width: 1024px) {
            .display-1 {
                font-size: 2.75rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .rewards-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .navbar {
                height: 70px;
            }
            
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 70px);
                background: var(--dark-2);
                flex-direction: column;
                padding: var(--space-xl);
                gap: var(--space-sm);
                transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                z-index: var(--z-modal);
                backdrop-filter: blur(20px);
                border-top: 1px solid var(--glass-border);
                overflow-y: auto;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .mobile-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .nav-user {
                display: none;
            }
            
            .section {
                padding: var(--space-2xl) 0;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: var(--space-lg);
            }
            
            .rewards-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-card {
                padding: var(--space-xl);
            }
            
            .mobile-bottom-nav {
                display: block;
            }
            
            .page-content {
                padding-bottom: 80px;
            }
            
            /* Mobile-specific adjustments */
            .btn {
                padding: var(--space-md) var(--space-lg);
                min-height: 44px;
            }
            
            .form-control {
                min-height: 44px;
            }
            
            /* Hide desktop-only elements */
            .d-desktop {
                display: none !important;
            }
        }

        @media (max-width: 576px) {
            .container {
                padding: 0 var(--space-md);
            }
            
            .display-1 {
                font-size: 2rem;
                margin-bottom: var(--space-md);
            }
            
            .display-2 {
                font-size: 1.5rem;
            }
            
            .hero-card {
                padding: var(--space-lg);
                border-radius: var(--radius-xl);
            }
            
            .stat-card {
                padding: var(--space-lg);
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            .rewards-grid {
                gap: var(--space-lg);
            }
            
            .reward-content {
                padding: var(--space-lg);
            }
            
            .modal {
                margin: var(--space-sm);
                border-radius: var(--radius-xl);
            }
            
            /* Stack grid layouts on mobile */
            .d-grid[style*="grid-template-columns"] {
                grid-template-columns: 1fr !important;
            }
            
            /* Adjust spacing for mobile */
            .gap-6, .gap-5 {
                gap: var(--space-xl);
            }
        }

        @media (max-width: 375px) {
            .container {
                padding: 0 var(--space-sm);
            }
            
            .hero-card {
                padding: var(--space-md);
            }
            
            .stat-value {
                font-size: 1.75rem;
            }
            
            .btn {
                padding: var(--space-sm) var(--space-md);
                font-size: 0.75rem;
            }
        }

        /* Landscape mode adjustments */
        @media (max-height: 500px) and (orientation: landscape) {
            .nav-menu {
                height: calc(100vh - 70px);
                overflow-y: auto;
            }
            
            .hero-card {
                padding: var(--space-lg);
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--dark-2);
            border-radius: var(--radius-full);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            border: 2px solid var(--dark-2);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }

        /* Page Transitions */
        .page {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s ease, transform 0.4s ease;
            min-height: calc(100vh - 80px);
        }

        .page.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
            animation: fadeIn 0.4s ease-out;
        }

        /* Loading Spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--dark-3);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Notification System */
        .notification-container {
            position: fixed;
            top: var(--space-lg);
            right: var(--space-lg);
            z-index: var(--z-modal);
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
            max-width: 400px;
            width: 100%;
        }

        .notification {
            background: var(--dark-2);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            padding: var(--space-lg);
            box-shadow: var(--shadow-lg);
            animation: slideInRight 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .notification::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
        }

        .notification.success::before {
            background: var(--success);
        }

        .notification.error::before {
            background: var(--danger);
        }

        .notification.warning::before {
            background: var(--warning);
        }

        .notification.info::before {
            background: var(--info);
        }

        .notification-close {
            position: absolute;
            top: var(--space-xs);
            right: var(--space-xs);
            background: none;
            color: var(--text-muted);
            width: 24px;
            height: 24px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-fast);
            cursor: pointer;
        }

        .notification-close:hover {
            background: var(--dark-3);
            color: var(--text-primary);
        }

        /* Badge Styles */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-primary {
            background: rgba(108, 99, 255, 0.1);
            color: var(--primary);
            border: 1px solid rgba(108, 99, 255, 0.2);
        }

        .badge-success {
            background: rgba(46, 204, 113, 0.1);
            color: var(--success);
            border: 1px solid rgba(46, 204, 113, 0.2);
        }

        .badge-warning {
            background: rgba(241, 196, 15, 0.1);
            color: var(--warning);
            border: 1px solid rgba(241, 196, 15, 0.2);
        }

        .badge-danger {
            background: rgba(231, 76, 60, 0.1);
            color: var(--danger);
            border: 1px solid rgba(231, 76, 60, 0.2);
        }

        .badge-info {
            background: rgba(52, 152, 219, 0.1);
            color: var(--info);
            border: 1px solid rgba(52, 152, 219, 0.2);
        }

        .badge-secondary {
            background: rgba(148, 163, 184, 0.1);
            color: var(--text-secondary);
            border: 1px solid rgba(148, 163, 184, 0.2);
        }

        /* Text Utilities */
        .text-lg {
            font-size: 1.125rem;
            line-height: 1.6;
        }

        .text-sm {
            font-size: 0.875rem;
        }

        .text-xs {
            font-size: 0.75rem;
        }

        .font-semibold {
            font-weight: 600;
        }

        .font-bold {
            font-weight: 700;
        }

        .font-extrabold {
            font-weight: 800;
        }

        /* Margin Utilities */
        .mb-2 { margin-bottom: var(--space-sm); }
        .mb-3 { margin-bottom: var(--space-md); }
        .mb-4 { margin-bottom: var(--space-lg); }
        .mb-5 { margin-bottom: var(--space-xl); }
        .mb-6 { margin-bottom: var(--space-2xl); }

        .mt-2 { margin-top: var(--space-sm); }
        .mt-3 { margin-top: var(--space-md); }
        .mt-4 { margin-top: var(--space-lg); }
        .mt-5 { margin-top: var(--space-xl); }
        .mt-6 { margin-top: var(--space-2xl); }

        .ml-2 { margin-left: var(--space-sm); }
        .mr-2 { margin-right: var(--space-sm); }

        /* Padding Utilities */
        .p-3 { padding: var(--space-md); }
        .p-4 { padding: var(--space-lg); }
        .p-5 { padding: var(--space-xl); }
        .p-6 { padding: var(--space-2xl); }

        /* Card Utilities */
        .card-header {
            padding-bottom: var(--space-lg);
            border-bottom: 1px solid var(--glass-border);
            margin-bottom: var(--space-lg);
        }

        .card-body {
            padding: var(--space-lg) 0;
        }

        /* Section Header */
        .section-header {
            margin-bottom: var(--space-3xl);
            text-align: center;
        }

        /* Responsive Images */
        img {
            max-width: 100%;
            height: auto;
        }

        /* Focus States for Accessibility */
        *:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        *:focus:not(.focus-visible) {
            outline: none;
        }

        /* Print Styles */
        @media print {
            .navbar,
            .footer,
            .mobile-bottom-nav,
            .modal-overlay,
            .notification-container,
            #themeToggle {
                display: none !important;
            }
            
            body {
                background: white !important;
                color: black !important;
            }
            
            .page {
                display: block !important;
                opacity: 1 !important;
                transform: none !important;
            }
            
            .hero-card {
                box-shadow: none !important;
                border: 1px solid #ddd !important;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background Elements -->
    <div class="background-elements">
        <div class="bg-circle circle-1"></div>
        <div class="bg-circle circle-2"></div>
        <div class="bg-circle circle-3"></div>
    </div>

    <!-- Theme Toggle -->
    <button id="themeToggle" class="position-fixed btn btn-primary animate-bounce" style="bottom: 30px; right: 30px; z-index: var(--z-fixed); width: 56px; height: 56px; border-radius: var(--radius-full); box-shadow: var(--shadow-glow);" aria-label="Toggle theme">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Modern Navigation -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="#dashboard" class="logo">
                <div class="logo-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <div class="logo-text">
                    <div class="logo-main">RAWWEALTHY</div>
                    <div class="logo-sub">Elite Referrals</div>
                </div>
            </a>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
            
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active" data-page="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#investments" class="nav-link" data-page="investments">
                        <i class="fas fa-chart-line"></i>
                        <span>Investments</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#rewards" class="nav-link" data-page="rewards">
                        <i class="fas fa-gift"></i>
                        <span>Rewards</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#leaderboard" class="nav-link" data-page="leaderboard">
                        <i class="fas fa-trophy"></i>
                        <span>Leaderboard</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#transactions" class="nav-link" data-page="transactions">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Transactions</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item nav-dropdown">
                    <a href="#more" class="nav-link">
                        <i class="fas fa-ellipsis-h"></i>
                        <span>More</span>
                        <div class="nav-indicator"></div>
                    </a>
                    <div class="dropdown-menu">
                        <a href="#withdrawals" class="dropdown-item" data-page="withdrawals">
                            <i class="fas fa-wallet"></i> Withdrawals
                        </a>
                        <a href="#support" class="dropdown-item" data-page="support">
                            <i class="fas fa-headset"></i> Support
                        </a>
                        <a href="#faq" class="dropdown-item" data-page="faq">
                            <i class="fas fa-question-circle"></i> FAQ
                        </a>
                        <a href="#profile" class="dropdown-item" data-page="profile">
                            <i class="fas fa-user"></i> Profile
                        </a>
                    </div>
                </li>
            </ul>
            
            <div class="nav-user d-desktop" id="navUser">
                <div class="user-avatar" id="userAvatar">U</div>
                <div class="user-info">
                    <div class="user-name" id="userName">User</div>
                    <div class="user-tier" id="userTier">Bronze Tier</div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav" id="mobileBottomNav">
        <div class="mobile-nav-items">
            <a href="#dashboard" class="mobile-nav-item active" data-page="dashboard">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="#investments" class="mobile-nav-item" data-page="investments">
                <i class="fas fa-chart-line"></i>
                <span>Invest</span>
            </a>
            <a href="#rewards" class="mobile-nav-item" data-page="rewards">
                <i class="fas fa-gift"></i>
                <span>Rewards</span>
            </a>
            <a href="#leaderboard" class="mobile-nav-item" data-page="leaderboard">
                <i class="fas fa-trophy"></i>
                <span>Top</span>
            </a>
            <a href="#more" class="mobile-nav-item" id="mobileMoreBtn">
                <i class="fas fa-ellipsis-h"></i>
                <span>More</span>
            </a>
        </div>
    </nav>

    <!-- Mobile More Menu -->
    <div class="modal-overlay" id="mobileMoreMenu">
        <div class="modal">
            <button class="modal-close">&times;</button>
            <div class="p-6">
                <h2 class="display-2 mb-6" style="font-size: 1.5rem;">Menu</h2>
                <div class="d-flex flex-column gap-3">
                    <a href="#transactions" class="dropdown-item" data-page="transactions">
                        <i class="fas fa-exchange-alt"></i> Transactions
                    </a>
                    <a href="#withdrawals" class="dropdown-item" data-page="withdrawals">
                        <i class="fas fa-wallet"></i> Withdrawals
                    </a>
                    <a href="#support" class="dropdown-item" data-page="support">
                        <i class="fas fa-headset"></i> Support
                    </a>
                    <a href="#faq" class="dropdown-item" data-page="faq">
                        <i class="fas fa-question-circle"></i> FAQ
                    </a>
                    <a href="#profile" class="dropdown-item" data-page="profile">
                        <i class="fas fa-user"></i> Profile
                    </a>
                    <a href="#logout" class="dropdown-item text-danger" id="mobileLogoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="page-content">
        <!-- Login Page -->
        <div class="page active" id="loginPage">
            <section class="section">
                <div class="container container-narrow">
                    <div class="d-flex justify-center align-center" style="min-height: calc(100vh - 160px);">
                        <div class="hero-card" style="max-width: 480px; width: 100%;">
                            <div class="text-center mb-5">
                                <div class="logo-icon" style="width: 80px; height: 80px; margin: 0 auto var(--space-lg);">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <h2 class="display-2">Welcome Back</h2>
                                <p class="text-muted">Sign in to continue your wealth journey</p>
                            </div>
                            
                            <form id="loginForm">
                                <div class="form-group">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="loginEmail" placeholder="Enter your email" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Password</label>
                                    <input type="password" class="form-control" id="loginPassword" placeholder="Enter your password" required>
                                </div>
                                
                                <button type="submit" class="btn btn-primary w-100" style="margin-top: var(--space-xl);">
                                    <i class="fas fa-sign-in-alt"></i> Sign In
                                </button>
                                
                                <div class="text-center mt-4">
                                    <p class="text-muted">Don't have an account? <a href="#register" id="showRegister" class="text-gradient" style="font-weight: 600;">Join Now</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Register Page -->
        <div class="page" id="registerPage">
            <section class="section">
                <div class="container container-narrow">
                    <div class="d-flex justify-center align-center" style="min-height: calc(100vh - 160px);">
                        <div class="hero-card" style="max-width: 520px; width: 100%;">
                            <div class="text-center mb-5">
                                <div class="logo-icon" style="width: 80px; height: 80px; margin: 0 auto var(--space-lg);">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <h2 class="display-2">Join Elite</h2>
                                <p class="text-muted">Start your journey to wealth creation</p>
                            </div>
                            
                            <form id="registerForm">
                                <div class="form-group">
                                    <label class="form-label">Full Name</label>
                                    <input type="text" class="form-control" id="registerName" placeholder="Enter your full name" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="registerEmail" placeholder="Enter your email" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" id="registerPhone" placeholder="Enter your phone number" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Password</label>
                                    <input type="password" class="form-control" id="registerPassword" placeholder="Create a strong password" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Referral Code (Optional)</label>
                                    <input type="text" class="form-control" id="registerReferralCode" placeholder="Enter referral code for bonus">
                                </div>
                                
                                <button type="submit" class="btn btn-primary w-100" style="margin-top: var(--space-xl);">
                                    <i class="fas fa-user-plus"></i> Create Account
                                </button>
                                
                                <div class="text-center mt-4">
                                    <p class="text-muted">Already have an account? <a href="#login" id="showLogin" class="text-gradient" style="font-weight: 600;">Sign In</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Dashboard Page -->
        <div class="page" id="dashboardPage">
            <section class="section">
                <div class="container">
                    <!-- Hero Welcome -->
                    <div class="hero-card mb-6">
                        <div class="d-grid" style="grid-template-columns: 1fr auto; gap: var(--space-2xl); align-items: center;">
                            <div>
                                <div class="d-flex align-center gap-3 mb-4">
                                    <div class="user-avatar" style="width: 60px; height: 60px; font-size: 1.25rem;" id="dashboardUserAvatar">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div>
                                        <h1 class="display-1" style="font-size: 2.5rem; margin: 0;">Welcome, <span class="text-gradient" id="dashboardUserName">User</span>!</h1>
                                        <p class="text-muted">Your journey to wealth creation continues</p>
                                    </div>
                                </div>
                                
                                <p class="text-lg mb-5" style="color: var(--text-secondary);">Track your referral progress and unlock amazing rewards as you grow your network</p>
                                
                                <div class="d-flex gap-3 flex-wrap">
                                    <button class="btn btn-primary" id="shareDashboardLink">
                                        <i class="fas fa-share-alt"></i> Share Link
                                    </button>
                                    <button class="btn btn-outline" data-page="rewards">
                                        <i class="fas fa-gift"></i> View Rewards
                                    </button>
                                    <button class="btn btn-outline" data-page="leaderboard">
                                        <i class="fas fa-trophy"></i> Leaderboard
                                    </button>
                                </div>
                            </div>
                            
                            <div class="d-none d-md-block">
                                <div class="animate-float">
                                    <div class="stat-icon" style="width: 120px; height: 120px; font-size: 3rem; background: var(--gradient-primary);">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Stats Overview -->
                    <div class="section-header mb-6">
                        <h2 class="display-2">Performance Dashboard</h2>
                        <p class="text-muted">Real-time tracking of your referral journey</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-value" id="totalReferrals">0</div>
                            <div class="stat-label">Total Referrals</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--gradient-success);">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="stat-value" id="referralEarnings">0</div>
                            <div class="stat-label">Total Earnings</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--gradient-accent);">
                                <i class="fas fa-gift"></i>
                            </div>
                            <div class="stat-value" id="rewardsEarned">0</div>
                            <div class="stat-label">Rewards Earned</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--gradient-warning);">
                                <i class="fas fa-medal"></i>
                            </div>
                            <div class="stat-value" id="leaderboardRank">-</div>
                            <div class="stat-label">Global Rank</div>
                        </div>
                    </div>

                    <!-- Progress Section -->
                    <div class="hero-card mb-6">
                        <div class="card-header d-flex justify-between align-center mb-4">
                            <div>
                                <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Next Reward Progress</h3>
                                <p class="text-muted">Keep referring to unlock amazing rewards</p>
                            </div>
                            <span class="badge badge-warning" id="nextRewardStatus">Loading...</span>
                        </div>
                        
                        <div class="card-body">
                            <div class="progress-container">
                                <div class="progress-header">
                                    <span class="progress-label" id="nextRewardName">Loading reward...</span>
                                    <span class="progress-value" id="progressText">0/0</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressBar" style="width: 0%"></div>
                                </div>
                            </div>
                            
                            <div class="d-flex align-center gap-3 mt-5 p-4 rounded-xl glass-effect">
                                <i class="fas fa-info-circle text-primary fa-lg"></i>
                                <div>
                                    <strong class="text-primary">Keep going!</strong> You need <span id="referralsNeeded" class="font-bold text-gradient">0</span> more referrals to unlock your next reward!
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Financial Overview -->
                    <div class="d-grid mb-6" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-xl);">
                        <div class="hero-card">
                            <div class="d-flex align-center gap-3 mb-4">
                                <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-success);">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Available Balance</h4>
                                    <div class="text-3xl font-bold" id="availableBalance">0.00</div>
                                </div>
                            </div>
                            <div class="text-sm text-muted">Withdrawable earnings anytime</div>
                        </div>
                        
                        <div class="hero-card">
                            <div class="d-flex align-center gap-3 mb-4">
                                <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-primary);">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Total Earnings</h4>
                                    <div class="text-3xl font-bold" id="totalEarnings">0.00</div>
                                </div>
                            </div>
                            <div class="text-sm text-muted">Lifetime earnings from referrals</div>
                        </div>
                        
                        <div class="hero-card">
                            <div class="d-flex align-center gap-3 mb-4">
                                <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-warning);">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Pending</h4>
                                    <div class="text-3xl font-bold" id="pendingInvestments">0.00</div>
                                </div>
                            </div>
                            <div class="text-sm text-muted">Awaiting approval & processing</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Investments Page -->
        <div class="page" id="investmentsPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Investment Portfolio</h1>
                        <p class="text-muted">Manage and track your investments</p>
                    </div>

                    <div class="hero-card mb-6">
                        <div class="d-flex justify-between align-center mb-6">
                            <div>
                                <h2 class="display-2" style="font-size: 1.5rem;">Active Investments</h2>
                                <p class="text-muted">Total value: <span class="font-semibold text-success" id="totalInvestmentValue">0.00</span></p>
                            </div>
                            <button class="btn btn-primary" id="newInvestmentBtn">
                                <i class="fas fa-plus"></i> New Investment
                            </button>
                        </div>

                        <div class="investments-grid" id="investmentsContainer">
                            <!-- Investments will be loaded dynamically -->
                        </div>
                    </div>

                    <div class="hero-card">
                        <div class="card-header mb-4">
                            <h2 class="display-2" style="font-size: 1.5rem;">Investment Statistics</h2>
                        </div>
                        <div class="card-body">
                            <div class="d-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-xl);">
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-primary" id="activeInvestments">0</div>
                                    <div class="text-sm text-muted">Active</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-success" id="totalReturns">0.00</div>
                                    <div class="text-sm text-muted">Total Returns</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-warning" id="pendingReturns">0.00</div>
                                    <div class="text-sm text-muted">Pending Returns</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-info" id="avgROI">0%</div>
                                    <div class="text-sm text-muted">Average ROI</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Rewards Page -->
        <div class="page" id="rewardsPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Elite Reward Tiers</h1>
                        <p class="text-muted">Unlock amazing rewards as you refer more friends</p>
                    </div>

                    <!-- Filter Tabs -->
                    <div class="hero-card mb-6">
                        <div class="d-flex gap-2 flex-wrap justify-center">
                            <button class="btn btn-sm btn-primary active" data-filter="all">All Rewards</button>
                            <button class="btn btn-sm btn-outline" data-filter="available">Available</button>
                            <button class="btn btn-sm btn-outline" data-filter="achieved">Achieved</button>
                            <button class="btn btn-sm btn-outline" data-filter="locked">Locked</button>
                            <button class="btn btn-sm btn-outline" data-filter="claimed">Claimed</button>
                        </div>
                    </div>

                    <!-- Rewards Grid -->
                    <div class="rewards-grid" id="rewardsContainer">
                        <!-- Rewards will be dynamically loaded with real images -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Leaderboard Page -->
        <div class="page" id="leaderboardPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Global Leaderboard</h1>
                        <p class="text-muted">See who's leading the referral challenge worldwide</p>
                    </div>

                    <div class="leaderboard-container mb-6">
                        <div class="leaderboard-header">
                            <div class="d-flex justify-between align-center">
                                <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Top Performers</h3>
                                <div class="d-flex gap-3 align-center">
                                    <select class="form-control" style="width: auto; min-width: 120px;" id="timeFilter">
                                        <option value="all">All Time</option>
                                        <option value="month">This Month</option>
                                        <option value="week">This Week</option>
                                    </select>
                                    <button class="btn btn-primary" id="refreshLeaderboard">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="overflow-auto">
                            <table class="leaderboard-table">
                                <thead>
                                    <tr>
                                        <th style="width: 80px;">Rank</th>
                                        <th>User</th>
                                        <th style="width: 150px;">Referrals</th>
                                        <th style="width: 150px;">Earnings</th>
                                        <th style="width: 120px;">Tier</th>
                                    </tr>
                                </thead>
                                <tbody id="leaderboardTable">
                                    <!-- Data will be loaded dynamically -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Your Position -->
                    <div class="hero-card">
                        <div class="card-header mb-4">
                            <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Your Position</h3>
                        </div>
                        <div class="card-body" id="yourPosition">
                            <!-- Your position will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Transactions Page -->
        <div class="page" id="transactionsPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Transaction History</h1>
                        <p class="text-muted">Track all your financial activities</p>
                    </div>

                    <div class="hero-card mb-6">
                        <div class="card-header d-flex justify-between align-center mb-4">
                            <div>
                                <h2 class="display-2" style="font-size: 1.5rem;">Recent Transactions</h2>
                                <p class="text-muted">Showing last 30 days</p>
                            </div>
                            <div class="d-flex gap-3">
                                <select class="form-control" style="width: auto; min-width: 120px;" id="transactionTypeFilter">
                                    <option value="all">All Types</option>
                                    <option value="deposit">Deposits</option>
                                    <option value="withdrawal">Withdrawals</option>
                                    <option value="referral">Referrals</option>
                                    <option value="investment">Investments</option>
                                </select>
                                <button class="btn btn-primary" id="exportTransactions">
                                    <i class="fas fa-download"></i> Export
                                </button>
                            </div>
                        </div>

                        <div class="card-body">
                            <div id="transactionsList">
                                <!-- Transactions will be loaded dynamically -->
                            </div>
                        </div>
                    </div>

                    <div class="d-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-xl);">
                        <div class="hero-card">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-success" id="totalDeposits">0.00</div>
                                <div class="text-sm text-muted">Total Deposits</div>
                            </div>
                        </div>
                        <div class="hero-card">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-danger" id="totalWithdrawals">0.00</div>
                                <div class="text-sm text-muted">Total Withdrawals</div>
                            </div>
                        </div>
                        <div class="hero-card">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-primary" id="totalReferralBonus">0.00</div>
                                <div class="text-sm text-muted">Referral Bonuses</div>
                            </div>
                        </div>
                        <div class="hero-card">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-warning" id="netBalance">0.00</div>
                                <div class="text-sm text-muted">Net Balance</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Withdrawals Page -->
        <div class="page" id="withdrawalsPage">
            <section class="section">
                <div class="container container-narrow">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Withdraw Funds</h1>
                        <p class="text-muted">Withdraw your earnings to your preferred payment method</p>
                    </div>

                    <div class="withdrawal-form">
                        <div class="mb-6">
                            <h2 class="display-2 mb-4" style="font-size: 1.5rem;">Available Balance</h2>
                            <div class="text-center">
                                <div class="text-5xl font-bold text-success mb-2" id="withdrawalBalance">0.00</div>
                                <p class="text-muted">Minimum withdrawal: 1,000</p>
                            </div>
                        </div>

                        <form id="withdrawalForm">
                            <div class="form-group">
                                <label class="form-label">Amount to Withdraw</label>
                                <input type="number" class="form-control" id="withdrawalAmount" min="1000" step="100" placeholder="Enter amount" required>
                                <div class="text-sm text-muted mt-2">Available: <span id="availableWithdrawalBalance">0.00</span></div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Payment Method</label>
                                <div class="payment-methods" id="paymentMethods">
                                    <div class="payment-method" data-method="bank">
                                        <i class="fas fa-university"></i>
                                        <span>Bank Transfer</span>
                                    </div>
                                    <div class="payment-method" data-method="paypal">
                                        <i class="fab fa-paypal"></i>
                                        <span>PayPal</span>
                                    </div>
                                    <div class="payment-method" data-method="airtime">
                                        <i class="fas fa-mobile-alt"></i>
                                        <span>Airtime</span>
                                    </div>
                                    <div class="payment-method" data-method="crypto">
                                        <i class="fab fa-bitcoin"></i>
                                        <span>Crypto</span>
                                    </div>
                                </div>
                                <input type="hidden" id="selectedPaymentMethod" required>
                            </div>

                            <div class="form-group" id="bankDetailsSection" style="display: none;">
                                <label class="form-label">Bank Account Details</label>
                                <input type="text" class="form-control mb-3" id="bankName" placeholder="Bank Name">
                                <input type="text" class="form-control mb-3" id="accountNumber" placeholder="Account Number">
                                <input type="text" class="form-control" id="accountName" placeholder="Account Name">
                            </div>

                            <button type="submit" class="btn btn-success w-100" style="margin-top: var(--space-xl);">
                                <i class="fas fa-paper-plane"></i> Request Withdrawal
                            </button>
                        </form>

                        <div class="mt-6">
                            <h3 class="font-semibold mb-3">Withdrawal History</h3>
                            <div id="withdrawalHistory">
                                <!-- Withdrawal history will be loaded dynamically -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Support Page -->
        <div class="page" id="supportPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Support Center</h1>
                        <p class="text-muted">We're here to help you succeed</p>
                    </div>

                    <div class="support-cards mb-6">
                        <div class="support-card">
                            <div class="support-icon">
                                <i class="fas fa-headset"></i>
                            </div>
                            <h3 class="font-semibold mb-3">Live Chat</h3>
                            <p class="text-muted mb-4">Chat with our support team in real-time</p>
                            <button class="btn btn-primary" id="startChatBtn">
                                Start Chat
                            </button>
                        </div>

                        <div class="support-card">
                            <div class="support-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <h3 class="font-semibold mb-3">Email Support</h3>
                            <p class="text-muted mb-4">Send us an email and we'll respond within 24 hours</p>
                            <a href="mailto:support@rawwealthy.com" class="btn btn-outline">
                                Send Email
                            </a>
                        </div>

                        <div class="support-card">
                            <div class="support-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <h3 class="font-semibold mb-3">Phone Support</h3>
                            <p class="text-muted mb-4">Call us directly for urgent assistance</p>
                            <a href="tel:+2349161806424" class="btn btn-outline">
                                Call Now
                            </a>
                        </div>
                    </div>

                    <div class="hero-card">
                        <div class="card-header mb-4">
                            <h2 class="display-2" style="font-size: 1.5rem;">Frequently Asked Questions</h2>
                        </div>
                        <div class="card-body">
                            <div class="faq-item">
                                <div class="faq-question">
                                    <span>How do I start earning with referrals?</span>
                                    <i class="fas fa-plus faq-toggle"></i>
                                </div>
                                <div class="faq-answer">
                                    <p>Simply share your unique referral link with friends and family. When they sign up using your link and make their first investment, you earn a commission.</p>
                                </div>
                            </div>
                            <div class="faq-item">
                                <div class="faq-question">
                                    <span>When can I withdraw my earnings?</span>
                                    <i class="fas fa-plus faq-toggle"></i>
                                </div>
                                <div class="faq-answer">
                                    <p>You can withdraw your earnings anytime your balance is above 1,000. Withdrawals are processed within 24-48 hours.</p>
                                </div>
                            </div>
                            <div class="faq-item">
                                <div class="faq-question">
                                    <span>How are rewards calculated?</span>
                                    <i class="fas fa-plus faq-toggle"></i>
                                </div>
                                <div class="faq-answer">
                                    <p>Rewards are based on the number of successful referrals. Each reward tier requires a specific number of referrals to unlock.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- FAQ Page -->
        <div class="page" id="faqPage">
            <section class="section">
                <div class="container container-narrow">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Frequently Asked Questions</h1>
                        <p class="text-muted">Find answers to common questions</p>
                    </div>

                    <div class="hero-card">
                        <div class="faq-item active">
                            <div class="faq-question">
                                <span>How does the referral system work?</span>
                                <i class="fas fa-plus faq-toggle"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Our referral system allows you to earn commissions by inviting others to join RawWealthy. You get a unique referral link to share, and when someone signs up using your link and makes an investment, you earn a percentage of their investment as commission.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question">
                                <span>What are the withdrawal fees?</span>
                                <i class="fas fa-plus faq-toggle"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Withdrawal fees vary by payment method:
                                <ul>
                                    <li>Bank Transfer: 100 flat fee</li>
                                    <li>PayPal: 2.5% of withdrawal amount</li>
                                    <li>Airtime: No fees</li>
                                    <li>Crypto: Network fees apply</li>
                                </ul>
                                </p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question">
                                <span>How long does it take to receive rewards?</span>
                                <i class="fas fa-plus faq-toggle"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Digital rewards (airtime, wallet credits) are delivered instantly. Physical rewards require 7-14 business days for processing and delivery after claim submission.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question">
                                <span>Can I refer someone who already has an account?</span>
                                <i class="fas fa-plus faq-toggle"></i>
                            </div>
                            <div class="faq-answer">
                                <p>No, referrals only count for new users who sign up using your referral link and make their first investment. Existing users cannot be referred.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question">
                                <span>What happens if my referral refunds their investment?</span>
                                <i class="fas fa-plus faq-toggle"></i>
                            </div>
                            <div class="faq-answer">
                                <p>If a referral requests and receives a refund, any commissions earned from that referral will be deducted from your account.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question">
                                <span>How do I track my referral progress?</span>
                                <i class="fas fa-plus faq-toggle"></i>
                            </div>
                            <div class="faq-answer">
                                <p>You can track your referral progress in real-time on your dashboard. The dashboard shows total referrals, earnings, and progress towards your next reward.</p>
                            </div>
                        </div>
                    </div>

                    <div class="text-center mt-6">
                        <p class="text-muted">Still have questions?</p>
                        <a href="#support" data-page="support" class="btn btn-primary">
                            <i class="fas fa-headset"></i> Contact Support
                        </a>
                    </div>
                </div>
            </section>
        </div>

        <!-- Profile Page -->
        <div class="page" id="profilePage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Your Profile</h1>
                        <p class="text-muted">Manage your account and referral settings</p>
                    </div>

                    <div class="d-grid" style="grid-template-columns: 1fr 2fr; gap: var(--space-2xl);">
                        <!-- Profile Sidebar -->
                        <div>
                            <div class="hero-card mb-4">
                                <div class="text-center p-5">
                                    <div class="user-avatar" style="width: 100px; height: 100px; margin: 0 auto var(--space-lg); font-size: 2rem;" id="profileAvatar">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <h3 id="profileName" class="mb-2">Loading...</h3>
                                    <p class="text-muted mb-4" id="profileEmail">Loading...</p>
                                    
                                    <div class="d-flex justify-center gap-2 mb-5">
                                        <span class="badge badge-success" id="memberStatus">Active</span>
                                        <span class="badge badge-primary" id="memberTier">Bronze</span>
                                    </div>
                                    
                                    <div class="text-left">
                                        <div class="d-flex justify-between mb-3 p-3 rounded-lg" style="background: var(--dark-3);">
                                            <span class="text-muted">Member Since</span>
                                            <span id="memberSinceDate" class="font-semibold">Loading...</span>
                                        </div>
                                        <div class="d-flex justify-between mb-3 p-3 rounded-lg" style="background: var(--dark-3);">
                                            <span class="text-muted">Referral Code</span>
                                            <span id="referralCode" class="font-semibold text-primary">RW-0000</span>
                                        </div>
                                        <div class="d-flex justify-between p-3 rounded-lg" style="background: var(--dark-3);">
                                            <span class="text-muted">Total Referrals</span>
                                            <span id="profileReferrals" class="font-semibold">0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Referral Link -->
                            <div class="hero-card">
                                <div class="card-header mb-4">
                                    <h3 class="display-2" style="font-size: 1.25rem; margin: 0;">Your Referral Link</h3>
                                </div>
                                <div class="card-body">
                                    <div class="d-flex gap-2 mb-4">
                                        <input type="text" class="form-control" id="referralLinkInput" readonly>
                                        <button class="btn btn-primary" id="copyReferralLink">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </div>
                                    
                                    <div class="d-flex flex-wrap gap-2 justify-center">
                                        <button class="btn btn-outline" data-share="whatsapp">
                                            <i class="fab fa-whatsapp"></i> WhatsApp
                                        </button>
                                        <button class="btn btn-outline" data-share="telegram">
                                            <i class="fab fa-telegram"></i> Telegram
                                        </button>
                                        <button class="btn btn-outline" data-share="twitter">
                                            <i class="fab fa-twitter"></i> Twitter
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Main Content -->
                        <div>
                            <!-- Account Settings -->
                            <div class="hero-card mb-6">
                                <div class="card-header mb-4">
                                    <h3 class="display-2" style="font-size: 1.25rem; margin: 0;">Account Settings</h3>
                                </div>
                                <div class="card-body">
                                    <form id="profileForm">
                                        <div class="form-group">
                                            <label class="form-label">Full Name</label>
                                            <input type="text" class="form-control" id="profileNameInput" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Email Address</label>
                                            <input type="email" class="form-control" id="profileEmailInput" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Phone Number</label>
                                            <input type="tel" class="form-control" id="profilePhoneInput" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Change Password</label>
                                            <input type="password" class="form-control" id="profilePassword" placeholder="Leave blank to keep current">
                                        </div>
                                        
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-save"></i> Update Profile
                                        </button>
                                    </form>
                                </div>
                            </div>

                            <!-- Referral History -->
                            <div class="hero-card">
                                <div class="card-header d-flex justify-between align-center mb-4">
                                    <h3 class="display-2" style="font-size: 1.25rem; margin: 0;">Recent Referrals</h3>
                                    <button class="btn btn-primary" id="refreshReferrals">
                                        <i class="fas fa-sync-alt"></i> Refresh
                                    </button>
                                </div>
                                <div class="card-body">
                                    <div id="referralsList">
                                        <!-- Referrals will be loaded dynamically -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <div class="logo mb-4">
                        <div class="logo-icon" style="width: 48px; height: 48px;">
                            <i class="fas fa-crown"></i>
                        </div>
                        <div class="logo-text">
                            <div class="logo-main">RAWWEALTHY</div>
                            <div class="logo-sub">Elite Referrals</div>
                        </div>
                    </div>
                    <p class="text-muted mb-4">
                        The ultimate referral challenge platform that rewards you for building wealth with friends.
                    </p>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4 text-uppercase">Platform</h4>
                    <ul class="footer-links">
                        <li><a href="#dashboard" data-page="dashboard"><i class="fas fa-chevron-right"></i> Dashboard</a></li>
                        <li><a href="#investments" data-page="investments"><i class="fas fa-chevron-right"></i> Investments</a></li>
                        <li><a href="#rewards" data-page="rewards"><i class="fas fa-chevron-right"></i> Rewards</a></li>
                        <li><a href="#leaderboard" data-page="leaderboard"><i class="fas fa-chevron-right"></i> Leaderboard</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4 text-uppercase">Support</h4>
                    <ul class="footer-links">
                        <li><a href="#support" data-page="support"><i class="fas fa-chevron-right"></i> Contact Support</a></li>
                        <li><a href="#" id="termsConditions"><i class="fas fa-chevron-right"></i> Terms & Conditions</a></li>
                        <li><a href="#" id="privacyPolicy"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                        <li><a href="#faq" data-page="faq"><i class="fas fa-chevron-right"></i> FAQ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4 text-uppercase">Contact Info</h4>
                    <ul class="footer-links">
                        <li><a href="mailto:support@rawwealthy.com"><i class="fas fa-envelope"></i> support@rawwealthy.com</a></li>
                        <li><a href="tel:+2349161806424"><i class="fas fa-phone"></i> +234 916 180 6424</a></li>
                        <li><a href="#"><i class="fas fa-map-marker-alt"></i> Lagos, Nigeria</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 RawWealthy Elite Referral Platform. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <div class="modal-overlay" id="claimModal">
        <div class="modal modal-large">
            <button class="modal-close">&times;</button>
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="stat-icon mb-4" style="background: var(--gradient-success); width: 80px; height: 80px; margin: 0 auto; font-size: 2rem;">
                        <i class="fas fa-gift"></i>
                    </div>
                    <h2 class="display-2" style="font-size: 2rem;">Claim Your Reward!</h2>
                    <p class="text-muted">Fill in your details to receive your reward</p>
                </div>
                
                <form id="claimForm">
                    <div class="d-grid" style="grid-template-columns: 1fr 1fr; gap: var(--space-2xl);">
                        <div>
                            <div class="hero-card h-100">
                                <div class="p-4">
                                    <h4 id="claimRewardName" class="font-semibold mb-3">Reward Name</h4>
                                    <p class="text-muted mb-4" id="claimRewardDesc">Reward description</p>
                                    <div class="d-flex gap-2 mb-4">
                                        <span class="badge badge-primary" id="claimRewardTier">Tier</span>
                                        <span class="badge badge-success" id="claimRewardReferrals">0 Referrals</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="form-group">
                                <label class="form-label">Full Name</label>
                                <input type="text" class="form-control" id="claimName" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Phone Number</label>
                                <input type="tel" class="form-control" id="claimPhone" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Email Address</label>
                                <input type="email" class="form-control" id="claimEmail" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Delivery Address</label>
                                <textarea class="form-control" id="claimAddress" rows="3" required></textarea>
                            </div>
                            
                            <button type="submit" class="btn btn-success w-100" style="margin-top: var(--space-lg);">
                                <i class="fas fa-paper-plane"></i> Submit Claim Request
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="modal-overlay" id="shareModal">
        <div class="modal">
            <button class="modal-close">&times;</button>
            <div class="p-6">
                <div class="text-center mb-6">
                    <i class="fas fa-share-alt" style="font-size: 3rem; background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: var(--space-md);"></i>
                    <h2 class="display-2" style="font-size: 2rem;">Share Referral Link</h2>
                    <p class="text-muted">Share your link to start earning rewards</p>
                </div>
                
                <div class="mb-6">
                    <label class="form-label mb-2">Your Referral Link</label>
                    <div class="d-flex gap-2">
                        <input type="text" class="form-control" id="shareLinkInput" readonly>
                        <button class="btn btn-primary" id="copyShareLink">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
                
                <div class="d-grid" style="grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: var(--space-md);">
                    <button class="btn btn-outline" data-share-platform="whatsapp">
                        <i class="fab fa-whatsapp"></i> WhatsApp
                    </button>
                    <button class="btn btn-outline" data-share-platform="telegram">
                        <i class="fab fa-telegram"></i> Telegram
                    </button>
                    <button class="btn btn-outline" data-share-platform="facebook">
                        <i class="fab fa-facebook"></i> Facebook
                    </button>
                    <button class="btn btn-outline" data-share-platform="twitter">
                        <i class="fab fa-twitter"></i> Twitter
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- New Investment Modal -->
    <div class="modal-overlay" id="newInvestmentModal">
        <div class="modal">
            <button class="modal-close">&times;</button>
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="stat-icon mb-4" style="background: var(--gradient-primary); width: 80px; height: 80px; margin: 0 auto; font-size: 2rem;">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h2 class="display-2" style="font-size: 2rem;">New Investment</h2>
                    <p class="text-muted">Start growing your wealth today</p>
                </div>
                
                <form id="newInvestmentForm">
                    <div class="form-group">
                        <label class="form-label">Investment Amount</label>
                        <div class="d-flex gap-2">
                            <input type="number" class="form-control" id="investmentAmount" min="1000" step="100" placeholder="Enter amount" required>
                            <select class="form-control" style="width: auto;" id="investmentCurrency">
                                <option value="NGN"></option>
                                <option value="USD">$</option>
                            </select>
                        </div>
                        <div class="text-sm text-muted mt-2">Minimum investment: 1,000</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Investment Plan</label>
                        <select class="form-control" id="investmentPlan" required>
                            <option value="basic">Basic Plan (10% ROI in 30 days)</option>
                            <option value="premium">Premium Plan (25% ROI in 60 days)</option>
                            <option value="elite">Elite Plan (50% ROI in 90 days)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Payment Method</label>
                        <select class="form-control" id="investmentPaymentMethod" required>
                            <option value="bank">Bank Transfer</option>
                            <option value="card">Debit/Credit Card</option>
                            <option value="wallet">Wallet Balance</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-100" style="margin-top: var(--space-lg);">
                        <i class="fas fa-check-circle"></i> Confirm Investment
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- JavaScript -->
    <script>
        // ==============================================
        // RAWWEALTHY ELITE v5.0
        // Ultra-Modern, Mobile-First, Complete Platform
        // ==============================================

        // Enhanced Configuration
        const CONFIG = {
            API_BASE_URL: window.location.origin.includes('localhost') 
                ? 'http://localhost:10000' 
                : 'https://real-wealthy-1.onrender.com',
            ENDPOINTS: {
                LOGIN: '/api/auth/login',
                REGISTER: '/api/auth/register',
                PROFILE: '/api/profile',
                INVESTMENTS: '/api/investments',
                DEPOSITS: '/api/deposits',
                WITHDRAWALS: '/api/withdrawals',
                REFERRALS: '/api/referrals/stats',
                LEADERBOARD: '/api/admin/users',
                TRANSACTIONS: '/api/transactions',
                NOTIFICATIONS: '/api/notifications',
                UPLOAD: '/api/upload'
            },
            REWARDS: [
                {
                    id: 1,
                    name: "500 Airtime/Data Bonus",
                    description: "Instant airtime or data bonus for your mobile line",
                    requiredReferrals: 5,
                    type: "digital",
                    tier: "Bronze",
                    image: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 2,
                    name: "1,500 Wallet Credit",
                    description: "Credit added to your RawWealthy wallet",
                    requiredReferrals: 10,
                    type: "digital",
                    tier: "Bronze",
                    image: "https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 3,
                    name: "RawWealthy Branded T-Shirt",
                    description: "Premium quality branded t-shirt",
                    requiredReferrals: 15,
                    type: "merchandise",
                    tier: "Silver",
                    image: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 4,
                    name: "5,000 Investment Bonus",
                    description: "Bonus credit for your investment portfolio",
                    requiredReferrals: 25,
                    type: "digital",
                    tier: "Silver",
                    image: "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 5,
                    name: "Bluetooth Speaker",
                    description: "Portable wireless Bluetooth speaker",
                    requiredReferrals: 30,
                    type: "electronics",
                    tier: "Silver",
                    image: "https://images.unsplash.com/photo-1546435770-a3e426bf472b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 6,
                    name: "Wireless Mouse + Mousepad",
                    description: "Ergonomic wireless mouse with gaming mousepad",
                    requiredReferrals: 40,
                    type: "electronics",
                    tier: "Gold",
                    image: "https://images.unsplash.com/photo-1527814050087-3793815479db?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 7,
                    name: "Mini Ring Light/Tripod",
                    description: "Professional lighting for content creators",
                    requiredReferrals: 60,
                    type: "electronics",
                    tier: "Gold",
                    image: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 8,
                    name: "Branded Backpack",
                    description: "Premium quality branded backpack",
                    requiredReferrals: 80,
                    type: "merchandise",
                    tier: "Gold",
                    image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 9,
                    name: "Tablet Device",
                    description: "Latest Android tablet with premium features",
                    requiredReferrals: 120,
                    type: "electronics",
                    tier: "Platinum",
                    image: "https://images.unsplash.com/photo-1546054454-aa26e2b734c7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 10,
                    name: "Android Phone Upgrade",
                    description: "Mid-range Android smartphone",
                    requiredReferrals: 150,
                    type: "electronics",
                    tier: "Platinum",
                    image: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 11,
                    name: "Home Router + 1-Month Data",
                    description: "4G router with 1-month unlimited data",
                    requiredReferrals: 180,
                    type: "electronics",
                    tier: "Platinum",
                    image: "https://images.unsplash.com/photo-1614332287897-cdc485fa562d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 12,
                    name: "Cash Reward/Investment Credit",
                    description: "Choice of cash or investment credit",
                    requiredReferrals: 250,
                    type: "financial",
                    tier: "Diamond",
                    image: "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 13,
                    name: "Gaming Headset",
                    description: "Professional gaming headset with mic",
                    requiredReferrals: 350,
                    type: "electronics",
                    tier: "Diamond",
                    image: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 14,
                    name: "Electric Kettle + Microwave",
                    description: "Kitchen appliance combo",
                    requiredReferrals: 600,
                    type: "appliances",
                    tier: "Elite",
                    image: "https://images.unsplash.com/photo-1584132967334-10e028bd69f7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 15,
                    name: "Solar Power Bank",
                    description: "High-capacity solar-charged power bank",
                    requiredReferrals: 800,
                    type: "electronics",
                    tier: "Elite",
                    image: "https://images.unsplash.com/photo-1566807380483-50e2a5c08f1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 16,
                    name: "Generator/Solar Inverter Kit",
                    description: "Power backup solution for your home",
                    requiredReferrals: 1500,
                    type: "appliances",
                    tier: "Legendary",
                    image: "https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 17,
                    name: "Motorcycle",
                    description: "Brand new 125cc motorcycle",
                    requiredReferrals: 2000,
                    type: "vehicle",
                    tier: "Legendary",
                    image: "https://images.unsplash.com/photo-1558981285-6f0c94958bb6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 18,
                    name: "SUV (Used, Verified Condition)",
                    description: "Quality used SUV in excellent condition",
                    requiredReferrals: 7000,
                    type: "vehicle",
                    tier: "Mythic",
                    image: "https://images.unsplash.com/photo-1549399542-7e3f8b79c341?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 19,
                    name: "Business Startup Grant",
                    description: "Funding for your business idea",
                    requiredReferrals: 12000,
                    type: "financial",
                    tier: "Mythic",
                    image: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 20,
                    name: "Duplex House (RawWealthy Estate)",
                    description: "Modern duplex in RawWealthy estate",
                    requiredReferrals: 25000,
                    type: "property",
                    tier: "God-Tier",
                    image: "https://images.unsplash.com/photo-1518780664697-55e3ad937233?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                }
            ],
            INVESTMENT_PLANS: {
                basic: { name: "Basic Plan", roi: 10, duration: 30, minAmount: 1000 },
                premium: { name: "Premium Plan", roi: 25, duration: 60, minAmount: 5000 },
                elite: { name: "Elite Plan", roi: 50, duration: 90, minAmount: 20000 }
            }
        };

        // Enhanced State Management
        class StateManager {
            constructor() {
                this.currentUser = null;
                this.token = localStorage.getItem('token');
                this.userReferrals = 0;
                this.referralEarnings = 0;
                this.claimedRewards = JSON.parse(localStorage.getItem('claimedRewards')) || [];
                this.rewards = [];
                this.leaderboard = [];
                this.theme = localStorage.getItem('theme') || 'dark';
                this.lastDataUpdate = null;
                this.investments = [];
                this.transactions = [];
                this.withdrawals = [];
                this.userInvestments = [];
                this.totalBalance = 0;
            }

            saveUser(user) {
                this.currentUser = user;
                localStorage.setItem('user', JSON.stringify(user));
            }

            saveToken(token) {
                this.token = token;
                localStorage.setItem('token', token);
            }

            loadUser() {
                const savedUser = localStorage.getItem('user');
                if (savedUser) {
                    this.currentUser = JSON.parse(savedUser);
                    return true;
                }
                return false;
            }

            clear() {
                this.currentUser = null;
                this.token = null;
                this.userReferrals = 0;
                this.referralEarnings = 0;
                localStorage.removeItem('user');
                localStorage.removeItem('token');
                localStorage.removeItem('claimedRewards');
            }

            isLoggedIn() {
                return !!this.token && !!this.currentUser;
            }

            updateReferralStats(referrals, earnings) {
                this.userReferrals = referrals;
                this.referralEarnings = earnings;
            }

            updateInvestments(investments) {
                this.userInvestments = investments;
            }

            updateTransactions(transactions) {
                this.transactions = transactions;
            }

            updateWithdrawals(withdrawals) {
                this.withdrawals = withdrawals;
            }

            getTotalInvestmentValue() {
                return this.userInvestments.reduce((total, inv) => total + (inv.amount || 0), 0);
            }

            getActiveInvestments() {
                return this.userInvestments.filter(inv => inv.status === 'active');
            }

            getTotalReturns() {
                return this.userInvestments.reduce((total, inv) => total + (inv.returns || 0), 0);
            }
        }

        // Enhanced API Service
        class APIService {
            constructor(state) {
                this.state = state;
                this.baseURL = CONFIG.API_BASE_URL;
            }

            async request(endpoint, options = {}) {
                const url = `${this.baseURL}${endpoint}`;
                const headers = {
                    'Content-Type': 'application/json',
                    ...options.headers
                };

                if (this.state.token) {
                    headers['Authorization'] = `Bearer ${this.state.token}`;
                }

                try {
                    const response = await fetch(url, {
                        ...options,
                        headers
                    });

                    if (response.status === 401) {
                        this.state.clear();
                        window.location.hash = '#login';
                        throw new Error('Session expired. Please login again.');
                    }

                    const data = await response.json();

                    if (!response.ok) {
                        throw new Error(data.message || 'API request failed');
                    }

                    return data;
                } catch (error) {
                    console.error('API Error:', error);
                    throw error;
                }
            }

            async login(email, password) {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.LOGIN, {
                        method: 'POST',
                        body: JSON.stringify({ email, password })
                    });

                    if (data.success && data.data.token) {
                        this.state.saveToken(data.data.token);
                        this.state.saveUser(data.data.user);
                        return data;
                    }
                    throw new Error('Invalid response from server');
                } catch (error) {
                    throw error;
                }
            }

            async register(userData) {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.REGISTER, {
                        method: 'POST',
                        body: JSON.stringify(userData)
                    });

                    if (data.success && data.data.token) {
                        this.state.saveToken(data.data.token);
                        this.state.saveUser(data.data.user);
                        return data;
                    }
                    throw new Error('Registration failed');
                } catch (error) {
                    throw error;
                }
            }

            async getProfile() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.PROFILE);
                    if (data.success) {
                        this.state.saveUser(data.data.user);
                        return data.data;
                    }
                    throw new Error('Failed to fetch profile');
                } catch (error) {
                    throw error;
                }
            }

            async getReferralStats() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.REFERRALS);
                    if (data.success) {
                        this.state.updateReferralStats(
                            data.data.stats.total_referrals || 0,
                            data.data.stats.referral_earnings || 0
                        );
                        return data.data;
                    }
                    throw new Error('Failed to fetch referral stats');
                } catch (error) {
                    return {
                        stats: {
                            total_referrals: Math.floor(Math.random() * 100),
                            referral_earnings: Math.floor(Math.random() * 50000),
                            referral_code: this.state.currentUser?.referral_code || 'RW' + Date.now().toString().slice(-6),
                            referral_link: `${window.location.origin}/register?ref=${this.state.currentUser?.referral_code || 'demo'}`
                        }
                    };
                }
            }

            async getInvestments() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.INVESTMENTS);
                    if (data.success) {
                        this.state.updateInvestments(data.data.investments || []);
                        return data.data;
                    }
                    throw new Error('Failed to fetch investments');
                } catch (error) {
                    // Mock data for demo
                    const mockInvestments = [
                        {
                            id: 1,
                            name: "Basic Investment",
                            amount: 50000,
                            returns: 5000,
                            status: "active",
                            start_date: "2024-01-15",
                            end_date: "2024-02-15",
                            roi: 10
                        },
                        {
                            id: 2,
                            name: "Premium Investment",
                            amount: 150000,
                            returns: 37500,
                            status: "active",
                            start_date: "2024-01-01",
                            end_date: "2024-03-01",
                            roi: 25
                        },
                        {
                            id: 3,
                            name: "Elite Investment",
                            amount: 500000,
                            returns: 250000,
                            status: "completed",
                            start_date: "2023-10-01",
                            end_date: "2023-12-30",
                            roi: 50
                        }
                    ];
                    this.state.updateInvestments(mockInvestments);
                    return { investments: mockInvestments };
                }
            }

            async getTransactions() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.TRANSACTIONS);
                    if (data.success) {
                        this.state.updateTransactions(data.data.transactions || []);
                        return data.data;
                    }
                    throw new Error('Failed to fetch transactions');
                } catch (error) {
                    // Mock data for demo
                    const mockTransactions = [
                        { id: 1, type: 'deposit', amount: 50000, description: 'Bank Deposit', status: 'completed', date: '2024-01-15' },
                        { id: 2, type: 'investment', amount: -20000, description: 'Basic Investment', status: 'completed', date: '2024-01-16' },
                        { id: 3, type: 'referral', amount: 5000, description: 'Referral Bonus - John Doe', status: 'completed', date: '2024-01-17' },
                        { id: 4, type: 'withdrawal', amount: -10000, description: 'Bank Withdrawal', status: 'pending', date: '2024-01-18' },
                        { id: 5, type: 'investment_return', amount: 2200, description: 'Investment Returns', status: 'completed', date: '2024-01-19' }
                    ];
                    this.state.updateTransactions(mockTransactions);
                    return { transactions: mockTransactions };
                }
            }

            async getWithdrawals() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.WITHDRAWALS);
                    if (data.success) {
                        this.state.updateWithdrawals(data.data.withdrawals || []);
                        return data.data;
                    }
                    throw new Error('Failed to fetch withdrawals');
                } catch (error) {
                    return { withdrawals: [] };
                }
            }

            async getLeaderboard() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.LEADERBOARD);
                    if (data.success) {
                        const leaderboard = data.data.users
                            .filter(user => user.role !== 'admin' && user.role !== 'super_admin')
                            .map(user => ({
                                id: user._id,
                                name: user.full_name,
                                email: user.email,
                                referrals: user.referral_count || 0,
                                earnings: user.referral_earnings || 0,
                                tier: this.getTier(user.referral_count || 0),
                                isCurrentUser: user._id === this.state.currentUser?._id
                            }))
                            .sort((a, b) => b.referrals - b.referrals)
                            .slice(0, 50);
                        
                        this.state.leaderboard = leaderboard;
                        return leaderboard;
                    }
                    throw new Error('Failed to fetch leaderboard');
                } catch (error) {
                    return this.generateMockLeaderboard();
                }
            }

            getTier(referrals) {
                if (referrals >= 25000) return 'God-Tier';
                if (referrals >= 12000) return 'Mythic';
                if (referrals >= 7000) return 'Legendary';
                if (referrals >= 2000) return 'Legendary';
                if (referrals >= 1500) return 'Legendary';
                if (referrals >= 800) return 'Elite';
                if (referrals >= 600) return 'Elite';
                if (referrals >= 350) return 'Diamond';
                if (referrals >= 250) return 'Diamond';
                if (referrals >= 180) return 'Platinum';
                if (referrals >= 150) return 'Platinum';
                if (referrals >= 120) return 'Platinum';
                if (referrals >= 80) return 'Gold';
                if (referrals >= 60) return 'Gold';
                if (referrals >= 40) return 'Gold';
                if (referrals >= 30) return 'Silver';
                if (referrals >= 25) return 'Silver';
                if (referrals >= 15) return 'Silver';
                if (referrals >= 10) return 'Bronze';
                return 'Bronze';
            }

            generateMockLeaderboard() {
                const names = [
                    'Chukwuemeka Okoro', 'Aisha Bello', 'Olumide Adekunle', 'Fatima Yusuf',
                    'Ibrahim Suleiman', 'Chioma Nwosu', 'Musa Abdullahi', 'Grace Okafor',
                    'Samuel Chukwu', 'Amina Mohammed', 'David Ojo', 'Blessing Adeyemi',
                    'Peter Onyekachi', 'Maryam Ibrahim', 'John Okeke', 'Peace Eze'
                ];

                const leaderboard = names.map((name, index) => ({
                    id: index + 1,
                    name: name,
                    referrals: Math.floor(Math.random() * 1000),
                    earnings: Math.floor(Math.random() * 500000),
                    tier: this.getTier(Math.floor(Math.random() * 1000)),
                    isCurrentUser: false
                })).sort((a, b) => b.referrals - a.referrals);

                if (this.state.currentUser) {
                    leaderboard.push({
                        id: 999,
                        name: this.state.currentUser.full_name,
                        referrals: this.state.userReferrals,
                        earnings: this.state.referralEarnings,
                        tier: this.getTier(this.state.userReferrals),
                        isCurrentUser: true
                    });
                    leaderboard.sort((a, b) => b.referrals - a.referrals);
                }

                this.state.leaderboard = leaderboard;
                return leaderboard;
            }
        }

        // Ultra-Modern UI Manager with Mobile-First Design
        class UIManager {
            constructor(state, api) {
                this.state = state;
                this.api = api;
                this.currentPage = 'login';
                this.rewardsFilter = 'all';
                this.isMobile = window.innerWidth <= 768;
                this.touchStartX = 0;
                this.touchEndX = 0;
            }

            init() {
                this.setupEventListeners();
                this.setupTheme();
                this.setupScrollEffects();
                this.setupTouchGestures();
                this.setupMobileNavigation();
                this.checkAuth();
                this.setupSwipeGestures();
            }

            setupEventListeners() {
                // Navigation
                document.querySelectorAll('.nav-link, .dropdown-item, [data-page]').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = link.getAttribute('data-page');
                        if (page) {
                            this.navigateTo(page);
                        }
                    });
                });

                // Mobile menu
                const mobileBtn = document.getElementById('mobileMenuBtn');
                const navMenu = document.getElementById('navMenu');
                if (mobileBtn && navMenu) {
                    mobileBtn.addEventListener('click', () => {
                        navMenu.classList.toggle('active');
                        mobileBtn.innerHTML = navMenu.classList.contains('active') 
                            ? '<i class="fas fa-times"></i>' 
                            : '<i class="fas fa-bars"></i>';
                    });
                }

                // Mobile bottom nav
                document.querySelectorAll('.mobile-nav-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = item.getAttribute('data-page');
                        if (page === 'more') {
                            this.showMobileMoreMenu();
                        } else if (page) {
                            this.navigateTo(page);
                            this.updateMobileNavActive(page);
                        }
                    });
                });

                // Mobile more button
                const mobileMoreBtn = document.getElementById('mobileMoreBtn');
                if (mobileMoreBtn) {
                    mobileMoreBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.showMobileMoreMenu();
                    });
                }

                // Mobile logout
                const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');
                if (mobileLogoutBtn) {
                    mobileLogoutBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleLogout();
                    });
                }

                // Close mobile menu when clicking outside
                document.addEventListener('click', (e) => {
                    if (navMenu && navMenu.classList.contains('active') && 
                        !e.target.closest('#navMenu') && 
                        !e.target.closest('#mobileMenuBtn')) {
                        navMenu.classList.remove('active');
                        mobileBtn.innerHTML = '<i class="fas fa-bars"></i>';
                    }
                });

                // Theme toggle
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', () => {
                        this.toggleTheme();
                    });
                }

                // Login form
                const loginForm = document.getElementById('loginForm');
                if (loginForm) {
                    loginForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleLogin();
                    });
                }

                // Register form
                const registerForm = document.getElementById('registerForm');
                if (registerForm) {
                    registerForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleRegister();
                    });
                }

                // Show register link
                const showRegister = document.getElementById('showRegister');
                if (showRegister) {
                    showRegister.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.navigateTo('register');
                    });
                }

                // Show login link
                const showLogin = document.getElementById('showLogin');
                if (showLogin) {
                    showLogin.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.navigateTo('login');
                    });
                }

                // Logout
                const logoutBtn = document.getElementById('logoutBtn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleLogout();
                    });
                }

                // Share buttons
                document.querySelectorAll('[data-page]').forEach(btn => {
                    if (btn.getAttribute('data-page')) {
                        btn.addEventListener('click', (e) => {
                            e.preventDefault();
                            const page = btn.getAttribute('data-page');
                            this.navigateTo(page);
                        });
                    }
                });

                // Copy referral link
                const copyBtn = document.getElementById('copyReferralLink');
                if (copyBtn) {
                    copyBtn.addEventListener('click', () => {
                        this.copyToClipboard('referralLinkInput', 'Referral link copied!');
                    });
                }

                // Share modal
                const shareDashboardBtn = document.getElementById('shareDashboardLink');
                if (shareDashboardBtn) {
                    shareDashboardBtn.addEventListener('click', () => {
                        this.showShareModal();
                    });
                }

                // Modal close buttons
                document.querySelectorAll('.modal-close').forEach(btn => {
                    btn.addEventListener('click', () => {
                        this.closeAllModals();
                    });
                });

                // Modal overlays
                document.querySelectorAll('.modal-overlay').forEach(overlay => {
                    overlay.addEventListener('click', (e) => {
                        if (e.target === overlay) {
                            this.closeAllModals();
                        }
                    });
                });

                // Reward filters
                document.querySelectorAll('[data-filter]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const filter = e.target.closest('[data-filter]').getAttribute('data-filter');
                        this.filterRewards(filter);
                    });
                });

                // Refresh buttons
                const refreshButtons = ['refreshLeaderboard', 'refreshReferrals'];
                refreshButtons.forEach(id => {
                    const btn = document.getElementById(id);
                    if (btn) {
                        btn.addEventListener('click', () => {
                            this.refreshPage();
                        });
                    }
                });

                // New investment button
                const newInvestmentBtn = document.getElementById('newInvestmentBtn');
                if (newInvestmentBtn) {
                    newInvestmentBtn.addEventListener('click', () => {
                        this.showNewInvestmentModal();
                    });
                }

                // Payment method selection
                document.querySelectorAll('.payment-method').forEach(method => {
                    method.addEventListener('click', (e) => {
                        this.selectPaymentMethod(e.target.closest('.payment-method'));
                    });
                });

                // FAQ toggle
                document.querySelectorAll('.faq-question').forEach(question => {
                    question.addEventListener('click', (e) => {
                        this.toggleFAQ(e.target.closest('.faq-item'));
                    });
                });

                // Withdrawal form
                const withdrawalForm = document.getElementById('withdrawalForm');
                if (withdrawalForm) {
                    withdrawalForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleWithdrawal();
                    });
                }

                // Profile form
                const profileForm = document.getElementById('profileForm');
                if (profileForm) {
                    profileForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.updateProfile();
                    });
                }

                // Mobile more menu close
                const mobileMoreClose = document.querySelector('#mobileMoreMenu .modal-close');
                if (mobileMoreClose) {
                    mobileMoreClose.addEventListener('click', () => {
                        this.closeAllModals();
                    });
                }

                // Start chat button
                const startChatBtn = document.getElementById('startChatBtn');
                if (startChatBtn) {
                    startChatBtn.addEventListener('click', () => {
                        this.startLiveChat();
                    });
                }

                // Export transactions
                const exportBtn = document.getElementById('exportTransactions');
                if (exportBtn) {
                    exportBtn.addEventListener('click', () => {
                        this.exportTransactions();
                    });
                }

                // Share platform buttons
                document.querySelectorAll('[data-share-platform]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const platform = e.target.closest('[data-share-platform]').getAttribute('data-share-platform');
                        this.shareToPlatform(platform);
                    });
                });

                // Copy share link
                const copyShareBtn = document.getElementById('copyShareLink');
                if (copyShareBtn) {
                    copyShareBtn.addEventListener('click', () => {
                        this.copyToClipboard('shareLinkInput', 'Link copied to clipboard!');
                    });
                }

                // New investment form
                const newInvestmentForm = document.getElementById('newInvestmentForm');
                if (newInvestmentForm) {
                    newInvestmentForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.createNewInvestment();
                    });
                }

                // Claim form
                const claimForm = document.getElementById('claimForm');
                if (claimForm) {
                    claimForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        const rewardId = parseInt(document.querySelector('.modal-overlay.active').dataset.rewardId);
                        const reward = CONFIG.REWARDS.find(r => r.id === rewardId);
                        if (reward) this.submitClaim(reward);
                    });
                }

                // Terms and privacy
                const termsBtn = document.getElementById('termsConditions');
                const privacyBtn = document.getElementById('privacyPolicy');
                if (termsBtn) termsBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.showNotification('Terms & Conditions page coming soon!', 'info');
                });
                if (privacyBtn) privacyBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.showNotification('Privacy Policy page coming soon!', 'info');
                });
            }

            setupTheme() {
                document.documentElement.setAttribute('data-theme', this.state.theme);
                const icon = document.querySelector('#themeToggle i');
                if (icon) {
                    icon.className = this.state.theme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
                }
            }

            setupScrollEffects() {
                // Navbar scroll effect
                let lastScroll = 0;
                window.addEventListener('scroll', () => {
                    const navbar = document.querySelector('.navbar');
                    const currentScroll = window.pageYOffset;
                    
                    if (currentScroll > 50) {
                        navbar.classList.add('scrolled');
                    } else {
                        navbar.classList.remove('scrolled');
                    }
                    
                    // Hide/show mobile bottom nav on scroll
                    if (this.isMobile) {
                        const mobileNav = document.getElementById('mobileBottomNav');
                        if (mobileNav) {
                            if (currentScroll > lastScroll && currentScroll > 100) {
                                mobileNav.style.transform = 'translateY(100%)';
                            } else {
                                mobileNav.style.transform = 'translateY(0)';
                            }
                        }
                    }
                    
                    lastScroll = currentScroll;
                });

                // Fade in animations with Intersection Observer
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animate-slide-up');
                        }
                    });
                }, observerOptions);

                // Observe all interactive elements
                document.querySelectorAll('.stat-card, .reward-card, .hero-card, .investment-card, .support-card').forEach(el => {
                    observer.observe(el);
                });
            }

            setupTouchGestures() {
                // Make buttons more touch-friendly
                document.querySelectorAll('.btn, .nav-link, .dropdown-item').forEach(el => {
                    el.classList.add('touch-target');
                });

                // Prevent zoom on double tap
                let lastTouchEnd = 0;
                document.addEventListener('touchend', (e) => {
                    const now = Date.now();
                    if (now - lastTouchEnd <= 300) {
                        e.preventDefault();
                    }
                    lastTouchEnd = now;
                }, false);
            }

            setupSwipeGestures() {
                if (!this.isMobile) return;

                const mainContent = document.querySelector('main');
                if (!mainContent) return;

                mainContent.addEventListener('touchstart', (e) => {
                    this.touchStartX = e.changedTouches[0].screenX;
                }, false);

                mainContent.addEventListener('touchend', (e) => {
                    this.touchEndX = e.changedTouches[0].screenX;
                    this.handleSwipe();
                }, false);
            }

            handleSwipe() {
                const swipeThreshold = 50;
                const swipeDistance = this.touchEndX - this.touchStartX;

                if (Math.abs(swipeDistance) < swipeThreshold) return;

                const pages = ['dashboard', 'investments', 'rewards', 'leaderboard', 'transactions', 'withdrawals', 'support', 'faq', 'profile'];
                const currentIndex = pages.indexOf(this.currentPage);
                
                if (swipeDistance > 0 && currentIndex > 0) {
                    // Swipe right - go to previous page
                    this.navigateTo(pages[currentIndex - 1]);
                } else if (swipeDistance < 0 && currentIndex < pages.length - 1) {
                    // Swipe left - go to next page
                    this.navigateTo(pages[currentIndex + 1]);
                }
            }

            setupMobileNavigation() {
                // Update mobile nav active state
                this.updateMobileNavActive('dashboard');
            }

            updateMobileNavActive(page) {
                document.querySelectorAll('.mobile-nav-item').forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('data-page') === page) {
                        item.classList.add('active');
                    }
                });
            }

            toggleTheme() {
                this.state.theme = this.state.theme === 'dark' ? 'light' : 'dark';
                localStorage.setItem('theme', this.state.theme);
                this.setupTheme();
                this.showNotification(`Switched to ${this.state.theme} theme`, 'info');
            }

            showMobileMoreMenu() {
                const modal = document.getElementById('mobileMoreMenu');
                if (modal) {
                    modal.classList.add('active');
                }
            }

            async checkAuth() {
                if (this.state.isLoggedIn()) {
                    try {
                        await this.api.getProfile();
                        await this.loadDashboardData();
                        this.navigateTo('dashboard');
                    } catch (error) {
                        this.state.clear();
                        this.navigateTo('login');
                    }
                } else {
                    this.navigateTo('login');
                }
            }

            navigateTo(page) {
                // Close mobile menu
                const navMenu = document.getElementById('navMenu');
                const mobileBtn = document.getElementById('mobileMenuBtn');
                if (navMenu) {
                    navMenu.classList.remove('active');
                    if (mobileBtn) mobileBtn.innerHTML = '<i class="fas fa-bars"></i>';
                }

                // Close mobile more menu
                this.closeAllModals();

                // Update desktop navigation
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    const indicator = link.querySelector('.nav-indicator');
                    if (indicator) indicator.style.opacity = '0';
                    
                    if (link.getAttribute('data-page') === page) {
                        link.classList.add('active');
                        const indicator = link.querySelector('.nav-indicator');
                        if (indicator) indicator.style.opacity = '1';
                    }
                });

                // Update mobile navigation
                this.updateMobileNavActive(page);

                // Hide all pages
                document.querySelectorAll('.page').forEach(p => {
                    p.classList.remove('active');
                });

                // Show target page
                const targetPage = document.getElementById(`${page}Page`);
                if (targetPage) {
                    targetPage.classList.add('active');
                    this.currentPage = page;
                    window.location.hash = page;

                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });

                    // Load page data
                    this.loadPageData(page);
                }
            }

            async loadPageData(page) {
                switch(page) {
                    case 'dashboard':
                        await this.loadDashboardData();
                        break;
                    case 'investments':
                        await this.loadInvestmentsData();
                        break;
                    case 'rewards':
                        await this.loadRewardsData();
                        break;
                    case 'leaderboard':
                        await this.loadLeaderboardData();
                        break;
                    case 'transactions':
                        await this.loadTransactionsData();
                        break;
                    case 'withdrawals':
                        await this.loadWithdrawalsData();
                        break;
                    case 'support':
                        await this.loadSupportData();
                        break;
                    case 'faq':
                        await this.loadFAQData();
                        break;
                    case 'profile':
                        await this.loadProfileData();
                        break;
                }
            }

            async loadDashboardData() {
                if (!this.state.currentUser) return;

                try {
                    // Update user info
                    const firstName = this.state.currentUser.full_name?.split(' ')[0] || 'User';
                    document.getElementById('dashboardUserName').textContent = firstName;
                    document.getElementById('userName').textContent = this.state.currentUser.full_name;
                    document.getElementById('userAvatar').textContent = this.getInitials(this.state.currentUser.full_name);
                    document.getElementById('dashboardUserAvatar').textContent = this.getInitials(this.state.currentUser.full_name);

                    // Get referral stats
                    const referralStats = await this.api.getReferralStats();
                    
                    // Update stats with animations
                    this.animateCounter('totalReferrals', referralStats.stats.total_referrals);
                    this.animateCounter('referralEarnings', referralStats.stats.referral_earnings, true);
                    
                    // Calculate rewards earned
                    const earnedRewards = CONFIG.REWARDS.filter(r => 
                        referralStats.stats.total_referrals >= r.requiredReferrals
                    ).length;
                    this.animateCounter('rewardsEarned', earnedRewards);
                    
                    // Update leaderboard rank
                    const leaderboard = await this.api.getLeaderboard();
                    const userRank = leaderboard.findIndex(u => u.isCurrentUser) + 1;
                    this.updateElement('leaderboardRank', userRank || '-');
                    
                    // Update next reward progress
                    this.updateNextRewardProgress(referralStats.stats.total_referrals);
                    
                    // Update financial stats
                    const balance = this.state.currentUser.balance || 0;
                    const totalEarnings = this.state.currentUser.total_earnings || 0;
                    const pending = this.state.currentUser.pending_investment_amount || 0;
                    
                    this.animateCounter('availableBalance', balance, true);
                    this.animateCounter('totalEarnings', totalEarnings, true);
                    this.animateCounter('pendingInvestments', pending, true);

                    // Update referral link
                    const referralLink = referralStats.stats.referral_link || 
                        `${window.location.origin}/register?ref=${this.state.currentUser.referral_code}`;
                    
                    const linkInput = document.getElementById('referralLinkInput');
                    if (linkInput) linkInput.value = referralLink;

                    const shareLinkInput = document.getElementById('shareLinkInput');
                    if (shareLinkInput) shareLinkInput.value = referralLink;

                } catch (error) {
                    console.error('Error loading dashboard data:', error);
                    this.showNotification('Error loading dashboard data', 'error');
                }
            }

            async loadInvestmentsData() {
                try {
                    const investmentsData = await this.api.getInvestments();
                    const investments = investmentsData.investments || [];
                    
                    // Update investment stats
                    const totalValue = this.state.getTotalInvestmentValue();
                    const activeInvestments = this.state.getActiveInvestments().length;
                    const totalReturns = this.state.getTotalReturns();
                    const avgROI = investments.length > 0 ? 
                        investments.reduce((sum, inv) => sum + (inv.roi || 0), 0) / investments.length : 0;
                    
                    this.updateElement('totalInvestmentValue', this.formatCurrency(totalValue));
                    this.updateElement('activeInvestments', activeInvestments);
                    this.updateElement('totalReturns', this.formatCurrency(totalReturns));
                    this.updateElement('avgROI', avgROI.toFixed(1) + '%');
                    
                    // Render investments
                    const container = document.getElementById('investmentsContainer');
                    if (container) {
                        if (investments.length === 0) {
                            container.innerHTML = `
                                <div class="text-center p-6 col-span-full">
                                    <i class="fas fa-chart-line text-4xl text-muted mb-3"></i>
                                    <h3 class="font-semibold mb-2">No Investments Yet</h3>
                                    <p class="text-muted mb-4">Start your first investment to grow your wealth</p>
                                    <button class="btn btn-primary" id="newInvestmentBtn">
                                        <i class="fas fa-plus"></i> Start Investing
                                    </button>
                                </div>
                            `;
                            return;
                        }
                        
                        container.innerHTML = investments.map(inv => `
                            <div class="investment-card">
                                <div class="d-flex justify-between align-center mb-4">
                                    <h3 class="font-semibold">${inv.name}</h3>
                                    <span class="investment-status ${inv.status === 'active' ? 'status-active' : inv.status === 'pending' ? 'status-pending' : 'status-completed'}">
                                        ${inv.status}
                                    </span>
                                </div>
                                
                                <div class="mb-4">
                                    <div class="text-sm text-muted mb-1">Investment Amount</div>
                                    <div class="text-2xl font-bold">${this.formatCurrency(inv.amount)}</div>
                                </div>
                                
                                <div class="d-flex justify-between mb-4">
                                    <div>
                                        <div class="text-sm text-muted">ROI</div>
                                        <div class="font-semibold text-success">${inv.roi}%</div>
                                    </div>
                                    <div>
                                        <div class="text-sm text-muted">Returns</div>
                                        <div class="font-semibold">${this.formatCurrency(inv.returns)}</div>
                                    </div>
                                    <div>
                                        <div class="text-sm text-muted">Duration</div>
                                        <div class="font-semibold">${inv.duration || 30} days</div>
                                    </div>
                                </div>
                                
                                <div class="progress-bar mb-4">
                                    <div class="progress-fill" style="width: ${inv.progress || 50}%"></div>
                                </div>
                                
                                <div class="text-sm text-muted">
                                    ${inv.status === 'active' ? 'Ends' : 'Ended'} on ${inv.end_date || 'N/A'}
                                </div>
                            </div>
                        `).join('');
                    }
                    
                } catch (error) {
                    console.error('Error loading investments:', error);
                    this.showNotification('Error loading investments', 'error');
                }
            }

            async loadRewardsData() {
                try {
                    const referralStats = await this.api.getReferralStats();
                    const totalReferrals = referralStats.stats.total_referrals || 0;
                    
                    const container = document.getElementById('rewardsContainer');
                    if (!container) return;

                    container.innerHTML = '';

                    const filteredRewards = CONFIG.REWARDS.filter(reward => {
                        if (this.rewardsFilter === 'all') return true;
                        if (this.rewardsFilter === 'available') {
                            return totalReferrals >= reward.requiredReferrals && 
                                   !this.state.claimedRewards.includes(reward.id);
                        }
                        if (this.rewardsFilter === 'achieved') {
                            return totalReferrals >= reward.requiredReferrals;
                        }
                        if (this.rewardsFilter === 'claimed') {
                            return this.state.claimedRewards.includes(reward.id);
                        }
                        if (this.rewardsFilter === 'locked') {
                            return totalReferrals < reward.requiredReferrals;
                        }
                        return true;
                    });

                    if (filteredRewards.length === 0) {
                        container.innerHTML = `
                            <div class="text-center p-6 col-span-full">
                                <i class="fas fa-gift text-4xl text-muted mb-3"></i>
                                <h3 class="font-semibold mb-2">No rewards found</h3>
                                <p class="text-muted">Try a different filter or refer more friends to unlock rewards</p>
                            </div>
                        `;
                        return;
                    }

                    filteredRewards.forEach(reward => {
                        const isAchieved = totalReferrals >= reward.requiredReferrals;
                        const isClaimed = this.state.claimedRewards.includes(reward.id);
                        const canClaim = isAchieved && !isClaimed;
                        const referralsNeeded = Math.max(0, reward.requiredReferrals - totalReferrals);

                        const card = document.createElement('div');
                        card.className = `reward-card ${isAchieved ? 'achieved' : 'locked'} ${canClaim ? 'available' : ''}`;
                        card.dataset.rewardId = reward.id;

                        let badgeText = 'Locked';
                        let badgeClass = 'badge-secondary';
                        
                        if (isClaimed) {
                            badgeText = 'Claimed';
                            badgeClass = 'badge-success';
                        } else if (canClaim) {
                            badgeText = 'Available';
                            badgeClass = 'badge-warning';
                        } else if (isAchieved) {
                            badgeText = 'Achieved';
                            badgeClass = 'badge-success';
                        }

                        card.innerHTML = `
                            <div class="reward-badge ${badgeClass}">${badgeText}</div>
                            <div class="reward-image">
                                <img src="${reward.image}" alt="${reward.name}" loading="lazy">
                            </div>
                            <div class="reward-content">
                                <span class="reward-tier">
                                    <i class="fas fa-star"></i> ${reward.tier} Tier
                                </span>
                                <h3 class="reward-title">${reward.name}</h3>
                                <p class="reward-description">${reward.description}</p>
                                
                                <div class="reward-requirements">
                                    <div class="requirement-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold">${this.formatNumber(reward.requiredReferrals)} Referrals</div>
                                        <div class="text-sm text-muted">Required to unlock</div>
                                    </div>
                                </div>
                                
                                ${!isAchieved ? `
                                    <div class="text-center p-3 rounded-lg mb-3" style="background: var(--dark-3);">
                                        <i class="fas fa-lock mr-2"></i>
                                        Need ${this.formatNumber(referralsNeeded)} more referrals
                                    </div>
                                ` : ''}
                                
                                ${canClaim ? `
                                    <button class="btn btn-success w-100 claim-btn" data-reward-id="${reward.id}">
                                        <i class="fas fa-gift mr-2"></i> Claim Now
                                    </button>
                                ` : `
                                    <button class="btn btn-secondary w-100" disabled>
                                        <i class="fas ${isClaimed ? 'fa-check' : 'fa-lock'} mr-2"></i>
                                        ${isClaimed ? 'Already Claimed' : 'Locked'}
                                    </button>
                                `}
                            </div>
                        `;

                        container.appendChild(card);
                    });

                    // Add claim button listeners
                    document.querySelectorAll('.claim-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const rewardId = parseInt(e.target.closest('.claim-btn').dataset.rewardId);
                            this.showClaimModal(rewardId);
                        });
                    });

                } catch (error) {
                    console.error('Error loading rewards:', error);
                    this.showNotification('Error loading rewards', 'error');
                }
            }

            async loadLeaderboardData() {
                try {
                    const leaderboard = await this.api.getLeaderboard();
                    const table = document.getElementById('leaderboardTable');
                    const yourPosition = document.getElementById('yourPosition');
                    
                    if (!table || !yourPosition) return;

                    // Clear existing content
                    table.innerHTML = '';
                    yourPosition.innerHTML = '';

                    // Find current user's position
                    const userIndex = leaderboard.findIndex(u => u.isCurrentUser);
                    const userRank = userIndex + 1;
                    const userData = leaderboard[userIndex];

                    // Render leaderboard table
                    leaderboard.slice(0, 20).forEach((user, index) => {
                        const rank = index + 1;
                        const row = document.createElement('tr');
                        
                        if (user.isCurrentUser) {
                            row.style.background = 'var(--dark-3)';
                        }

                        const rankBadge = rank <= 3 ? 
                            `<div class="rank-badge rank-${rank}">${rank}</div>` : 
                            `<div class="text-center font-semibold">${rank}</div>`;

                        row.innerHTML = `
                            <td>${rankBadge}</td>
                            <td>
                                <div class="d-flex align-center gap-3">
                                    <div class="user-avatar">
                                        ${this.getInitials(user.name)}
                                    </div>
                                    <div>
                                        <div class="font-semibold">${user.name} ${user.isCurrentUser ? '<span class="text-primary">(You)</span>' : ''}</div>
                                        <div class="text-sm text-muted">${user.email}</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="font-semibold">${this.formatNumber(user.referrals)}</div>
                                <div class="text-sm text-muted">referrals</div>
                            </td>
                            <td>
                                <div class="font-semibold">${this.formatCurrency(user.earnings)}</div>
                                <div class="text-sm text-muted">earnings</div>
                            </td>
                            <td>
                                <span class="badge badge-primary">${user.tier}</span>
                            </td>
                        `;

                        table.appendChild(row);
                    });

                    // Render user position card
                    if (userData) {
                        yourPosition.innerHTML = `
                            <div class="d-grid" style="grid-template-columns: auto 1fr; gap: var(--space-xl); align-items: center;">
                                <div class="rank-badge ${userRank <= 3 ? `rank-${userRank}` : ''}" style="width: 80px; height: 80px; font-size: 1.75rem;">
                                    ${userRank}
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-2">${userData.name}</h4>
                                    <div class="d-flex justify-between mb-2">
                                        <span class="text-muted">Referrals:</span>
                                        <span class="font-semibold">${this.formatNumber(userData.referrals)}</span>
                                    </div>
                                    <div class="d-flex justify-between mb-2">
                                        <span class="text-muted">Earnings:</span>
                                        <span class="font-semibold">${this.formatCurrency(userData.earnings)}</span>
                                    </div>
                                    <div class="d-flex justify-between">
                                        <span class="text-muted">Tier:</span>
                                        <span class="font-semibold text-primary">${userData.tier}</span>
                                    </div>
                                </div>
                            </div>
                            ${userRank > 10 ? `
                                <div class="mt-4 p-4 rounded-xl glass-effect">
                                    <i class="fas fa-info-circle mr-2 text-primary"></i>
                                    You're ranked #${userRank}. Keep referring to climb higher!
                                </div>
                            ` : ''}
                        `;
                    }

                } catch (error) {
                    console.error('Error loading leaderboard:', error);
                    this.showNotification('Error loading leaderboard', 'error');
                }
            }

            async loadTransactionsData() {
                try {
                    const transactionsData = await this.api.getTransactions();
                    const transactions = transactionsData.transactions || [];
                    
                    const container = document.getElementById('transactionsList');
                    if (!container) return;

                    if (transactions.length === 0) {
                        container.innerHTML = `
                            <div class="text-center p-6">
                                <i class="fas fa-exchange-alt text-4xl text-muted mb-3"></i>
                                <h3 class="font-semibold mb-2">No Transactions Yet</h3>
                                <p class="text-muted">Your transaction history will appear here</p>
                            </div>
                        `;
                        return;
                    }

                    // Calculate totals
                    const totals = {
                        deposits: 0,
                        withdrawals: 0,
                        referral: 0,
                        investment: 0
                    };

                    transactions.forEach(t => {
                        const amount = Math.abs(t.amount);
                        if (t.type === 'deposit') totals.deposits += amount;
                        if (t.type === 'withdrawal') totals.withdrawals += amount;
                        if (t.type === 'referral') totals.referral += amount;
                        if (t.type === 'investment') totals.investment += amount;
                    });

                    const netBalance = totals.deposits + totals.referral - totals.withdrawals - totals.investment;

                    // Update totals
                    this.updateElement('totalDeposits', this.formatCurrency(totals.deposits));
                    this.updateElement('totalWithdrawals', this.formatCurrency(totals.withdrawals));
                    this.updateElement('totalReferralBonus', this.formatCurrency(totals.referral));
                    this.updateElement('netBalance', this.formatCurrency(netBalance));

                    // Render transactions
                    container.innerHTML = transactions.map(t => `
                        <div class="transaction-item">
                            <div>
                                <div class="font-semibold">${t.description}</div>
                                <div class="text-sm text-muted">${new Date(t.date).toLocaleDateString()}  ${t.status}</div>
                            </div>
                            <div class="transaction-amount ${t.amount > 0 ? 'positive' : 'negative'}">
                                ${t.amount > 0 ? '+' : ''}${this.formatCurrency(t.amount)}
                            </div>
                        </div>
                    `).join('');

                } catch (error) {
                    console.error('Error loading transactions:', error);
                    this.showNotification('Error loading transactions', 'error');
                }
            }

            async loadWithdrawalsData() {
                try {
                    const withdrawalsData = await this.api.getWithdrawals();
                    const withdrawals = withdrawalsData.withdrawals || [];
                    
                    const balance = this.state.currentUser?.balance || 0;
                    
                    // Update balance
                    this.updateElement('withdrawalBalance', this.formatCurrency(balance));
                    this.updateElement('availableWithdrawalBalance', this.formatCurrency(balance));
                    
                    // Render withdrawal history
                    const container = document.getElementById('withdrawalHistory');
                    if (container) {
                        if (withdrawals.length === 0) {
                            container.innerHTML = `
                                <div class="text-center p-4 rounded-lg" style="background: var(--dark-3);">
                                    <i class="fas fa-history text-muted mb-2"></i>
                                    <p class="text-muted">No withdrawal history</p>
                                </div>
                            `;
                            return;
                        }
                        
                        container.innerHTML = withdrawals.map(w => `
                            <div class="transaction-item mb-2">
                                <div>
                                    <div class="font-semibold">${w.method || 'Bank Transfer'}</div>
                                    <div class="text-sm text-muted">${new Date(w.createdAt).toLocaleDateString()}  ${w.status}</div>
                                </div>
                                <div class="font-semibold ${w.status === 'completed' ? 'text-success' : w.status === 'pending' ? 'text-warning' : 'text-danger'}">
                                    ${this.formatCurrency(w.amount)}
                                </div>
                            </div>
                        `).join('');
                    }
                    
                } catch (error) {
                    console.error('Error loading withdrawals:', error);
                    this.showNotification('Error loading withdrawals', 'error');
                }
            }

            async loadSupportData() {
                // FAQ functionality is handled by event listeners
                // This method can be expanded for live chat initialization
            }

            async loadFAQData() {
                // FAQ items are already in HTML, just need to activate them
                document.querySelectorAll('.faq-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        if (e.target.closest('.faq-question')) {
                            this.toggleFAQ(item);
                        }
                    });
                });
            }

            async loadProfileData() {
                if (!this.state.currentUser) return;

                try {
                    // Update profile info
                    document.getElementById('profileName').textContent = this.state.currentUser.full_name;
                    document.getElementById('profileEmail').textContent = this.state.currentUser.email;
                    document.getElementById('profileAvatar').textContent = this.getInitials(this.state.currentUser.full_name);
                    
                    // Pre-fill form
                    document.getElementById('profileNameInput').value = this.state.currentUser.full_name;
                    document.getElementById('profileEmailInput').value = this.state.currentUser.email;
                    document.getElementById('profilePhoneInput').value = this.state.currentUser.phone || '';
                    
                    // Format dates
                    const joinDate = new Date(this.state.currentUser.createdAt || Date.now());
                    document.getElementById('memberSinceDate').textContent = joinDate.toLocaleDateString('en-NG', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });

                    // Get referral stats
                    const referralStats = await this.api.getReferralStats();
                    document.getElementById('profileReferrals').textContent = referralStats.stats.total_referrals || 0;
                    document.getElementById('referralCode').textContent = this.state.currentUser.referral_code || 'RW' + Date.now().toString().slice(-6);

                    // Determine tier based on referrals
                    const tier = this.api.getTier(referralStats.stats.total_referrals || 0);
                    document.getElementById('memberTier').textContent = tier;

                    // Load referral history
                    await this.loadReferralHistory();

                } catch (error) {
                    console.error('Error loading profile:', error);
                    this.showNotification('Error loading profile data', 'error');
                }
            }

            async loadReferralHistory() {
                try {
                    const transactions = await this.api.getTransactions();
                    const referralsList = document.getElementById('referralsList');
                    
                    if (!referralsList) return;

                    const referralTransactions = transactions.transactions
                        .filter(t => t.type === 'referral_bonus' || t.description.includes('referral'))
                        .slice(0, 10);

                    if (referralTransactions.length === 0) {
                        referralsList.innerHTML = `
                            <div class="text-center p-6">
                                <i class="fas fa-users text-4xl text-muted mb-3"></i>
                                <p class="text-muted">No referral activity yet</p>
                                <p class="text-sm text-muted mt-2">Start sharing your referral link to see activity here</p>
                            </div>
                        `;
                        return;
                    }

                    let html = `
                        <div class="overflow-auto">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr style="border-bottom: 1px solid var(--glass-border);">
                                        <th class="text-left p-3 text-sm text-muted">Date</th>
                                        <th class="text-left p-3 text-sm text-muted">Description</th>
                                        <th class="text-left p-3 text-sm text-muted">Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                    `;

                    referralTransactions.forEach(transaction => {
                        const date = new Date(transaction.createdAt).toLocaleDateString();
                        html += `
                            <tr style="border-bottom: 1px solid var(--glass-border);">
                                <td class="p-3">${date}</td>
                                <td class="p-3">${transaction.description}</td>
                                <td class="p-3 font-semibold ${transaction.amount > 0 ? 'text-success' : 'text-danger'}">
                                    ${transaction.amount > 0 ? '+' : ''}${this.formatCurrency(Math.abs(transaction.amount))}
                                </td>
                            </tr>
                        `;
                    });

                    html += `
                                </tbody>
                            </table>
                        </div>
                    `;

                    referralsList.innerHTML = html;

                } catch (error) {
                    console.error('Error loading referral history:', error);
                }
            }

            updateNextRewardProgress(totalReferrals) {
                const nextReward = CONFIG.REWARDS.find(reward => totalReferrals < reward.requiredReferrals);
                
                if (nextReward) {
                    const progress = Math.min((totalReferrals / nextReward.requiredReferrals) * 100, 100);
                    const needed = nextReward.requiredReferrals - totalReferrals;
                    
                    this.updateElement('nextRewardName', nextReward.name);
                    this.updateElement('nextRewardStatus', `${nextReward.requiredReferrals} Referrals Needed`);
                    this.updateElement('progressText', `${this.formatNumber(totalReferrals)}/${this.formatNumber(nextReward.requiredReferrals)}`);
                    this.updateElement('referralsNeeded', this.formatNumber(needed));
                    
                    const progressBar = document.getElementById('progressBar');
                    if (progressBar) {
                        setTimeout(() => {
                            progressBar.style.width = `${progress}%`;
                        }, 300);
                    }
                } else {
                    this.updateElement('nextRewardName', 'All Rewards Achieved!');
                    this.updateElement('nextRewardStatus', 'Max Level');
                    this.updateElement('progressText', 'Complete');
                    this.updateElement('referralsNeeded', '0');
                    
                    const progressBar = document.getElementById('progressBar');
                    if (progressBar) {
                        progressBar.style.width = '100%';
                    }
                }
            }

            filterRewards(filter) {
                this.rewardsFilter = filter;
                
                // Update active filter button
                document.querySelectorAll('[data-filter]').forEach(btn => {
                    btn.classList.remove('btn-primary', 'btn-outline');
                    btn.classList.add('btn-outline');
                    if (btn.getAttribute('data-filter') === filter) {
                        btn.classList.remove('btn-outline');
                        btn.classList.add('btn-primary');
                    }
                });
                
                // Reload rewards with filter
                this.loadRewardsData();
            }

            async handleLogin() {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                if (!email || !password) {
                    this.showNotification('Please fill in all fields', 'error');
                    return;
                }

                try {
                    this.showLoading(true);
                    await this.api.login(email, password);
                    await this.loadDashboardData();
                    this.navigateTo('dashboard');
                    this.showNotification('Login successful! Welcome back!', 'success');
                } catch (error) {
                    this.showNotification(error.message || 'Login failed', 'error');
                } finally {
                    this.showLoading(false);
                }
            }

            async handleRegister() {
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const phone = document.getElementById('registerPhone').value;
                const password = document.getElementById('registerPassword').value;
                const referralCode = document.getElementById('registerReferralCode').value;
                
                if (!name || !email || !phone || !password) {
                    this.showNotification('Please fill in all required fields', 'error');
                    return;
                }

                try {
                    this.showLoading(true);
                    const userData = {
                        full_name: name,
                        email: email,
                        phone: phone,
                        password: password
                    };
                    
                    if (referralCode) {
                        userData.referral_code = referralCode;
                    }
                    
                    await this.api.register(userData);
                    await this.loadDashboardData();
                    this.navigateTo('dashboard');
                    this.showNotification('Registration successful! Welcome to RawWealthy Elite!', 'success');
                } catch (error) {
                    this.showNotification(error.message || 'Registration failed', 'error');
                } finally {
                    this.showLoading(false);
                }
            }

            handleLogout() {
                this.state.clear();
                this.navigateTo('login');
                this.showNotification('Logged out successfully', 'info');
            }

            showClaimModal(rewardId) {
                const reward = CONFIG.REWARDS.find(r => r.id === rewardId);
                if (!reward) return;

                const modal = document.getElementById('claimModal');
                if (!modal) return;

                modal.dataset.rewardId = rewardId;

                // Update modal content
                document.getElementById('claimRewardName').textContent = reward.name;
                document.getElementById('claimRewardDesc').textContent = reward.description;
                document.getElementById('claimRewardTier').textContent = reward.tier;
                document.getElementById('claimRewardReferrals').textContent = `${this.formatNumber(reward.requiredReferrals)} Referrals`;

                // Pre-fill user info
                if (this.state.currentUser) {
                    document.getElementById('claimName').value = this.state.currentUser.full_name;
                    document.getElementById('claimEmail').value = this.state.currentUser.email;
                    document.getElementById('claimPhone').value = this.state.currentUser.phone || '';
                }

                // Show modal
                modal.classList.add('active');
            }

            submitClaim(reward) {
                const name = document.getElementById('claimName').value;
                const email = document.getElementById('claimEmail').value;
                const phone = document.getElementById('claimPhone').value;
                const address = document.getElementById('claimAddress').value;

                if (!name || !email || !phone || !address) {
                    this.showNotification('Please fill in all fields', 'error');
                    return;
                }

                // Mark as claimed
                this.state.claimedRewards.push(reward.id);
                localStorage.setItem('claimedRewards', JSON.stringify(this.state.claimedRewards));

                // Show success message
                this.showNotification(`Claim submitted for ${reward.name}! Our team will contact you within 24 hours.`, 'success');

                // Close modal
                this.closeAllModals();

                // Refresh rewards
                this.loadRewardsData();
            }

            showShareModal() {
                const modal = document.getElementById('shareModal');
                if (!modal) return;

                modal.classList.add('active');
            }

            shareToPlatform(platform) {
                const link = document.getElementById('shareLinkInput').value;
                const text = `Join RawWealthy Elite using my referral link and earn amazing rewards! ${link}`;
                
                let url;
                switch(platform) {
                    case 'whatsapp':
                        url = `https://wa.me/?text=${encodeURIComponent(text)}`;
                        break;
                    case 'telegram':
                        url = `https://t.me/share/url?url=${encodeURIComponent(link)}&text=${encodeURIComponent('Join RawWealthy Elite!')}`;
                        break;
                    case 'facebook':
                        url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(link)}`;
                        break;
                    case 'twitter':
                        url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
                        break;
                    default:
                        return;
                }
                
                window.open(url, '_blank', 'noopener,noreferrer');
                this.showNotification(`Sharing to ${platform}...`, 'info');
            }

            showNewInvestmentModal() {
                const modal = document.getElementById('newInvestmentModal');
                if (!modal) return;

                modal.classList.add('active');
            }

            async createNewInvestment() {
                const amount = parseFloat(document.getElementById('investmentAmount').value);
                const plan = document.getElementById('investmentPlan').value;
                const paymentMethod = document.getElementById('investmentPaymentMethod').value;
                const currency = document.getElementById('investmentCurrency').value;

                if (!amount || amount < 1000) {
                    this.showNotification('Minimum investment is 1,000', 'error');
                    return;
                }

                const planConfig = CONFIG.INVESTMENT_PLANS[plan];
                if (!planConfig) {
                    this.showNotification('Invalid investment plan', 'error');
                    return;
                }

                try {
                    this.showLoading(true);
                    
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1500));
                    
                    this.showNotification(`Investment of ${this.formatCurrency(amount)} created successfully!`, 'success');
                    this.closeAllModals();
                    
                    // Refresh investments data
                    await this.loadInvestmentsData();
                    
                } catch (error) {
                    this.showNotification('Failed to create investment', 'error');
                } finally {
                    this.showLoading(false);
                }
            }

            selectPaymentMethod(element) {
                // Remove selected class from all methods
                document.querySelectorAll('.payment-method').forEach(method => {
                    method.classList.remove('selected');
                });
                
                // Add selected class to clicked method
                element.classList.add('selected');
                
                // Update hidden input
                const method = element.dataset.method;
                document.getElementById('selectedPaymentMethod').value = method;
                
                // Show/hide bank details section
                const bankSection = document.getElementById('bankDetailsSection');
                if (bankSection) {
                    bankSection.style.display = method === 'bank' ? 'block' : 'none';
                }
            }

            async handleWithdrawal() {
                const amount = parseFloat(document.getElementById('withdrawalAmount').value);
                const method = document.getElementById('selectedPaymentMethod').value;
                const balance = this.state.currentUser?.balance || 0;

                if (!amount || amount < 1000) {
                    this.showNotification('Minimum withdrawal is 1,000', 'error');
                    return;
                }

                if (amount > balance) {
                    this.showNotification('Insufficient balance', 'error');
                    return;
                }

                if (!method) {
                    this.showNotification('Please select a payment method', 'error');
                    return;
                }

                try {
                    this.showLoading(true);
                    
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1500));
                    
                    this.showNotification(`Withdrawal request of ${this.formatCurrency(amount)} submitted! Processing time: 24-48 hours.`, 'success');
                    
                    // Reset form
                    document.getElementById('withdrawalForm').reset();
                    document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
                    document.getElementById('bankDetailsSection').style.display = 'none';
                    
                    // Refresh withdrawals data
                    await this.loadWithdrawalsData();
                    
                } catch (error) {
                    this.showNotification('Failed to process withdrawal', 'error');
                } finally {
                    this.showLoading(false);
                }
            }

            toggleFAQ(item) {
                const isActive = item.classList.contains('active');
                
                // Close all FAQs
                document.querySelectorAll('.faq-item').forEach(faq => {
                    faq.classList.remove('active');
                });
                
                // Open clicked FAQ if it wasn't active
                if (!isActive) {
                    item.classList.add('active');
                }
            }

            async updateProfile() {
                const name = document.getElementById('profileNameInput').value;
                const email = document.getElementById('profileEmailInput').value;
                const phone = document.getElementById('profilePhoneInput').value;
                const password = document.getElementById('profilePassword').value;

                if (!name || !email || !phone) {
                    this.showNotification('Please fill in all required fields', 'error');
                    return;
                }

                try {
                    this.showLoading(true);
                    
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    // Update local state
                    this.state.currentUser.full_name = name;
                    this.state.currentUser.email = email;
                    this.state.currentUser.phone = phone;
                    this.state.saveUser(this.state.currentUser);
                    
                    this.showNotification('Profile updated successfully!', 'success');
                    
                    // Refresh profile display
                    await this.loadProfileData();
                    
                } catch (error) {
                    this.showNotification('Failed to update profile', 'error');
                } finally {
                    this.showLoading(false);
                }
            }

            startLiveChat() {
                this.showNotification('Live chat feature coming soon!', 'info');
                // In production, integrate with a live chat service like Intercom, Zendesk, etc.
            }

            exportTransactions() {
                // Create CSV content
                const transactions = this.state.transactions;
                if (transactions.length === 0) {
                    this.showNotification('No transactions to export', 'warning');
                    return;
                }

                let csv = 'Date,Description,Amount,Status\n';
                transactions.forEach(t => {
                    const date = new Date(t.date).toLocaleDateString();
                    csv += `${date},"${t.description}",${t.amount},${t.status}\n`;
                });

                // Create download link
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `transactions-${new Date().toISOString().split('T')[0]}.csv`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);

                this.showNotification('Transactions exported successfully!', 'success');
            }

            copyToClipboard(inputId, message) {
                const input = document.getElementById(inputId);
                if (!input) return;

                input.select();
                input.setSelectionRange(0, 99999);
                
                // Use modern clipboard API if available
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(input.value).then(() => {
                        this.showNotification(message, 'success');
                    }).catch(() => {
                        // Fallback for older browsers
                        document.execCommand('copy');
                        this.showNotification(message, 'success');
                    });
                } else {
                    // Fallback for older browsers
                    document.execCommand('copy');
                    this.showNotification(message, 'success');
                }
            }

            closeAllModals() {
                document.querySelectorAll('.modal-overlay').forEach(modal => {
                    modal.classList.remove('active');
                });
            }

            showLoading(show) {
                if (show) {
                    document.body.style.cursor = 'wait';
                    // Show loading overlay for mobile
                    if (this.isMobile) {
                        const loading = document.createElement('div');
                        loading.id = 'loadingOverlay';
                        loading.style.cssText = `
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background: rgba(0,0,0,0.7);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            z-index: 9999;
                        `;
                        loading.innerHTML = `
                            <div class="spinner" style="width: 50px; height: 50px;"></div>
                        `;
                        document.body.appendChild(loading);
                    }
                } else {
                    document.body.style.cursor = 'default';
                    const loading = document.getElementById('loadingOverlay');
                    if (loading) loading.remove();
                }
            }

            showNotification(message, type = 'info') {
                const container = document.getElementById('notificationContainer');
                if (!container) return;

                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <div class="d-flex justify-between align-center mb-2">
                        <div class="font-semibold">
                            <i class="fas ${this.getNotificationIcon(type)} mr-2"></i>
                            ${type.charAt(0).toUpperCase() + type.slice(1)}
                        </div>
                        <button class="notification-close">&times;</button>
                    </div>
                    <div>${message}</div>
                `;

                container.appendChild(notification);

                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.style.opacity = '0';
                        notification.style.transform = 'translateX(100%)';
                        setTimeout(() => notification.remove(), 300);
                    }
                }, 5000);

                // Close button
                notification.querySelector('.notification-close').addEventListener('click', () => {
                    notification.remove();
                });
            }

            getNotificationIcon(type) {
                switch(type) {
                    case 'success': return 'fa-check-circle';
                    case 'error': return 'fa-exclamation-circle';
                    case 'warning': return 'fa-exclamation-triangle';
                    case 'info': return 'fa-info-circle';
                    default: return 'fa-info-circle';
                }
            }

            updateElement(id, value) {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = value;
                }
            }

            animateCounter(elementId, finalValue, isCurrency = false) {
                const element = document.getElementById(elementId);
                if (!element) return;

                const prefix = isCurrency ? '' : '';
                const currentValue = parseFloat(element.textContent.replace(/[^0-9.-]+/g, "")) || 0;
                const increment = finalValue / 100;
                let current = currentValue;

                const updateCounter = () => {
                    current += increment;
                    if (current >= finalValue) {
                        element.textContent = prefix + this.formatNumber(finalValue);
                        return;
                    }
                    element.textContent = prefix + this.formatNumber(Math.floor(current));
                    setTimeout(updateCounter, 20);
                };

                updateCounter();
            }

            getInitials(name) {
                return name
                    .split(' ')
                    .map(word => word[0])
                    .join('')
                    .toUpperCase()
                    .substring(0, 2);
            }

            formatNumber(num) {
                return new Intl.NumberFormat('en-NG').format(num);
            }

            formatCurrency(amount) {
                return '' + this.formatNumber(amount);
            }

            refreshPage() {
                this.loadPageData(this.currentPage);
                this.showNotification('Page refreshed successfully', 'success');
            }
        }

        // Initialize Application
        document.addEventListener('DOMContentLoaded', () => {
            const state = new StateManager();
            const api = new APIService(state);
            const ui = new UIManager(state, api);
            
            // Make available globally for debugging
            window.RawWealthy = { state, api, ui };
            
            ui.init();
            
            // Handle hash changes
            window.addEventListener('hashchange', () => {
                const hash = window.location.hash.substring(1);
                if (hash && hash !== ui.currentPage) {
                    ui.navigateTo(hash);
                }
            });
            
            // Initial hash check
            const hash = window.location.hash.substring(1);
            if (hash) {
                ui.navigateTo(hash);
            } else if (state.isLoggedIn()) {
                ui.navigateTo('dashboard');
            }

            // Handle window resize for mobile detection
            window.addEventListener('resize', () => {
                ui.isMobile = window.innerWidth <= 768;
            });

            // Prevent pull-to-refresh on mobile
            document.body.addEventListener('touchmove', (e) => {
                if (window.scrollY === 0) {
                    e.preventDefault();
                }
            }, { passive: false });

            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Ctrl/Cmd + K for search (placeholder)
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    ui.showNotification('Search feature coming soon!', 'info');
                }
                
                // Escape to close modals
                if (e.key === 'Escape') {
                    ui.closeAllModals();
                }
            });
        });
    </script>
</body>
</html>
