<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>RawWealthy Elite - Advanced Referral Platform</title>
    
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700;800;900&family=Montserrat:wght@400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- CSS Variables & Base Styles (unchanged) -->
    <style>
        /* ==============================================
         * DESIGN SYSTEM v5.0 - Ultra Modern Mobile First
         * ============================================== */
        
        :root {
            /* Enhanced Color Palette */
            --primary: #6C63FF;
            --primary-dark: #5A52D5;
            --primary-light: #8B85FF;
            --secondary: #36D1DC;
            --secondary-dark: #2AB7C1;
            --accent: #FF6584;
            --accent-dark: #E64C6D;
            --success: #00E676;
            --success-dark: #00C853;
            --warning: #FFC107;
            --warning-dark: #FF9800;
            --danger: #FF5252;
            --danger-dark: #D32F2F;
            --info: #40C4FF;
            --purple: #9C27B0;
            --teal: #00BFA5;
            
            /* Gradient Themes - Enhanced */
            --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            --gradient-secondary: linear-gradient(135deg, var(--secondary) 0%, var(--primary-light) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent) 0%, #FF8E53 100%);
            --gradient-success: linear-gradient(135deg, var(--success) 0%, #1DE9B6 100%);
            --gradient-warning: linear-gradient(135deg, var(--warning) 0%, #FF9100 100%);
            --gradient-danger: linear-gradient(135deg, var(--danger) 0%, #FF4081 100%);
            --gradient-purple: linear-gradient(135deg, var(--purple) 0%, #E040FB 100%);
            --gradient-teal: linear-gradient(135deg, var(--teal) 0%, #64FFDA 100%);
            --gradient-dark: linear-gradient(135deg, #0F172A 0%, #1E293B 100%);
            --gradient-neon: linear-gradient(135deg, #00F5FF 0%, #00FF9D 100%);
            
            /* Glass Morphism Colors */
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.12);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
            
            /* Dark Theme */
            --dark-1: #0A0F1E;
            --dark-2: #121828;
            --dark-3: #1A2238;
            --dark-4: #2D3748;
            --dark-5: #3c4557;
            
            /* Light Theme */
            --light-1: #F8FAFC;
            --light-2: #F1F5F9;
            --light-3: #E2E8F0;
            --light-4: #CBD5E1;
            --light-5: #94A3B8;
            
            /* Text Colors */
            --text-primary: #F1F5F9;
            --text-secondary: #94A3B8;
            --text-muted: #64748B;
            
            /* Spacing Scale - Mobile First */
            --space-xxs: 0.125rem;
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 0.75rem;
            --space-lg: 1rem;
            --space-xl: 1.5rem;
            --space-2xl: 2rem;
            --space-3xl: 3rem;
            --space-4xl: 4rem;
            --space-5xl: 6rem;
            --space-6xl: 8rem;
            
            /* Border Radius */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-2xl: 20px;
            --radius-3xl: 24px;
            --radius-full: 9999px;
            
            /* Shadows - Enhanced */
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.16);
            --shadow-lg: 0 10px 28px rgba(0,0,0,0.2);
            --shadow-xl: 0 20px 48px rgba(0,0,0,0.3);
            --shadow-inner: inset 0 2px 4px rgba(0,0,0,0.06);
            --shadow-glow: 0 0 40px rgba(108, 99, 255, 0.4);
            --shadow-glow-success: 0 0 40px rgba(0, 230, 118, 0.4);
            --shadow-glow-warning: 0 0 40px rgba(255, 193, 7, 0.4);
            
            /* Transitions */
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 400ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* Z-index */
            --z-background: -10;
            --z-base: 1;
            --z-dropdown: 1000;
            --z-sticky: 1020;
            --z-fixed: 1030;
            --z-modal: 1040;
            --z-popover: 1050;
            --z-tooltip: 1060;
            --z-toast: 1070;
            
            /* Typography Scale */
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            --text-5xl: 3rem;
            --text-6xl: 3.75rem;
            
            /* Layout */
            --header-height: 72px;
            --header-height-scrolled: 64px;
            --sidebar-width: 280px;
            --sidebar-width-collapsed: 80px;
            --container-padding: 1rem;
            --section-padding: 4rem 1rem;
        }

        /* Light Theme */
        [data-theme="light"] {
            --dark-1: #FFFFFF;
            --dark-2: #F8FAFC;
            --dark-3: #F1F5F9;
            --dark-4: #E2E8F0;
            --dark-5: #CBD5E1;
            
            --light-1: #0F172A;
            --light-2: #1E293B;
            --light-3: #334155;
            --light-4: #475569;
            --light-5: #64748B;
            
            --text-primary: #1E293B;
            --text-secondary: #475569;
            --text-muted: #64748B;
            
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(226, 232, 240, 0.8);
            
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 28px rgba(0,0,0,0.12);
            --shadow-xl: 0 20px 48px rgba(0,0,0,0.15);
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: var(--dark-1);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
            background: linear-gradient(135deg, var(--dark-1) 0%, var(--dark-2) 100%);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Enhanced Background Elements */
        .background-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: var(--z-background);
            overflow: hidden;
            pointer-events: none;
        }

        .bg-particle {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.12;
            animation: float 25s infinite ease-in-out;
        }

        .particle-1 {
            width: 500px;
            height: 500px;
            background: var(--primary);
            top: -150px;
            left: -150px;
            animation-delay: 0s;
        }

        .particle-2 {
            width: 400px;
            height: 400px;
            background: var(--secondary);
            bottom: -100px;
            right: -100px;
            animation-delay: -7s;
        }

        .particle-3 {
            width: 300px;
            height: 300px;
            background: var(--accent);
            top: 30%;
            left: 80%;
            animation-delay: -14s;
        }

        .particle-4 {
            width: 350px;
            height: 350px;
            background: var(--purple);
            bottom: 30%;
            left: 10%;
            animation-delay: -21s;
        }

        /* Grid Lines */
        .grid-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: var(--z-background);
            pointer-events: none;
            opacity: 0.03;
            background-image: 
                linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Space Grotesk', 'Poppins', sans-serif;
            font-weight: 700;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        .display-1 {
            font-size: var(--text-5xl);
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--space-lg);
            line-height: 1.1;
        }

        .display-2 {
            font-size: var(--text-4xl);
            font-weight: 700;
            margin-bottom: var(--space-md);
            line-height: 1.2;
        }

        .display-3 {
            font-size: var(--text-3xl);
            font-weight: 700;
            margin-bottom: var(--space-md);
            line-height: 1.3;
        }

        .text-gradient {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .text-gradient-accent {
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .text-gradient-success {
            background: var(--gradient-success);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .text-gradient-warning {
            background: var(--gradient-warning);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Layout */
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--container-padding);
        }

        .container-narrow {
            max-width: 800px;
        }

        .container-wide {
            max-width: 1600px;
        }

        .section {
            padding: var(--space-5xl) 0;
        }

        .section-sm {
            padding: var(--space-3xl) 0;
        }

        .section-xs {
            padding: var(--space-2xl) 0;
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .text-left { text-align: left; }
        .text-right { text-align: right; }
        .text-uppercase { text-transform: uppercase; }
        .text-lowercase { text-transform: lowercase; }
        .text-capitalize { text-transform: capitalize; }

        .d-none { display: none !important; }
        .d-block { display: block !important; }
        .d-flex { display: flex !important; }
        .d-grid { display: grid !important; }
        .d-inline-flex { display: inline-flex !important; }

        .flex-column { flex-direction: column; }
        .flex-wrap { flex-wrap: wrap; }
        .justify-between { justify-content: space-between; }
        .justify-center { justify-content: center; }
        .justify-end { justify-content: flex-end; }
        .justify-start { justify-content: flex-start; }
        .justify-around { justify-content: space-around; }
        .justify-evenly { justify-content: space-evenly; }
        .align-center { align-items: center; }
        .align-start { align-items: flex-start; }
        .align-end { align-items: flex-end; }
        .align-stretch { align-items: stretch; }
        .align-baseline { align-items: baseline; }

        .gap-0 { gap: 0; }
        .gap-1 { gap: var(--space-xs); }
        .gap-2 { gap: var(--space-sm); }
        .gap-3 { gap: var(--space-md); }
        .gap-4 { gap: var(--space-lg); }
        .gap-5 { gap: var(--space-xl); }
        .gap-6 { gap: var(--space-2xl); }
        .gap-7 { gap: var(--space-3xl); }
        .gap-8 { gap: var(--space-4xl); }

        .w-100 { width: 100%; }
        .h-100 { height: 100%; }
        .mw-100 { max-width: 100%; }
        .mh-100 { max-height: 100%; }

        .rounded-sm { border-radius: var(--radius-sm); }
        .rounded-md { border-radius: var(--radius-md); }
        .rounded-lg { border-radius: var(--radius-lg); }
        .rounded-xl { border-radius: var(--radius-xl); }
        .rounded-full { border-radius: var(--radius-full); }

        .shadow-sm { box-shadow: var(--shadow-sm); }
        .shadow-md { box-shadow: var(--shadow-md); }
        .shadow-lg { box-shadow: var(--shadow-lg); }
        .shadow-xl { box-shadow: var(--shadow-xl); }
        .shadow-glow { box-shadow: var(--shadow-glow); }
        .shadow-glow-success { box-shadow: var(--shadow-glow-success); }

        .position-relative { position: relative; }
        .position-absolute { position: absolute; }
        .position-fixed { position: fixed; }
        .position-sticky { position: sticky; }

        .overflow-hidden { overflow: hidden; }
        .overflow-auto { overflow: auto; }
        .overflow-x-auto { overflow-x: auto; }
        .overflow-y-auto { overflow-y: auto; }

        .glass-effect {
            background: var(--glass-bg);
            backdrop-filter: blur(24px) saturate(180%);
            -webkit-backdrop-filter: blur(24px) saturate(180%);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }

        .glass-effect-light {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            line-height: 1;
        }

        .badge-primary {
            background: var(--gradient-primary);
            color: white;
        }

        .badge-success {
            background: var(--gradient-success);
            color: white;
        }

        .badge-warning {
            background: var(--gradient-warning);
            color: white;
        }

        .badge-danger {
            background: var(--gradient-danger);
            color: white;
        }

        .badge-info {
            background: var(--gradient-teal);
            color: white;
        }

        .badge-purple {
            background: var(--gradient-purple);
            color: white;
        }

        .badge-accent {
            background: var(--gradient-accent);
            color: white;
        }

        .badge-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%) scale(0.9); opacity: 0; }
            to { transform: translateX(0) scale(1); opacity: 1; }
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100%) scale(0.9); opacity: 0; }
            to { transform: translateX(0) scale(1); opacity: 1; }
        }

        @keyframes slideInUp {
            from { transform: translateY(100%) scale(0.9); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }

        @keyframes slideInDown {
            from { transform: translateY(-100%) scale(0.9); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg) scale(1); }
            33% { transform: translate(30px, -40px) rotate(5deg) scale(1.05); }
            66% { transform: translate(-20px, 30px) rotate(-5deg) scale(0.95); }
        }

        @keyframes shimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 30px rgba(108, 99, 255, 0.5); }
            50% { box-shadow: 0 0 60px rgba(108, 99, 255, 0.8); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @keyframes wave {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes neonPulse {
            0%, 100% { opacity: 1; filter: brightness(1); }
            50% { opacity: 0.8; filter: brightness(1.3); }
        }

        .animate-fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .animate-slide-in-right {
            animation: slideInRight 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .animate-slide-in-left {
            animation: slideInLeft 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .animate-pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        .animate-float {
            animation: float 15s ease-in-out infinite;
        }

        .animate-glow {
            animation: glow 3s ease-in-out infinite;
        }

        .animate-bounce {
            animation: bounce 2s ease-in-out infinite;
        }

        .animate-wave {
            animation: wave 2s ease-in-out infinite;
        }

        .animate-gradient-shift {
            background-size: 200% 200%;
            animation: gradientShift 3s ease infinite;
        }

        .animate-neon-pulse {
            animation: neonPulse 1.5s ease-in-out infinite;
        }

        /* Modern Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--header-height);
            background: rgba(10, 15, 30, 0.85);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid var(--glass-border);
            z-index: var(--z-fixed);
            transition: all var(--transition-normal);
            padding: 0 var(--container-padding);
        }

        .navbar.scrolled {
            height: var(--header-height-scrolled);
            background: rgba(10, 15, 30, 0.95);
            box-shadow: var(--shadow-lg);
        }

        .navbar-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 100%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            text-decoration: none;
            z-index: var(--z-fixed);
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-lg);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            box-shadow: var(--shadow-glow);
            transition: var(--transition-normal);
            flex-shrink: 0;
        }

        .logo:hover .logo-icon {
            transform: rotate(15deg) scale(1.1);
            animation: neonPulse 1s ease-in-out;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
            line-height: 1.2;
        }

        .logo-main {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 800;
            font-size: 1.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.5px;
        }

        .logo-sub {
            font-size: 0.75rem;
            color: var(--text-secondary);
            letter-spacing: 1px;
            text-transform: uppercase;
            font-weight: 600;
        }

        .nav-menu {
            display: flex;
            gap: var(--space-xs);
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            border-radius: var(--radius-full);
            font-weight: 500;
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition-fast);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: var(--primary);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
            opacity: 0.1;
            z-index: -1;
        }

        .nav-link:hover::before,
        .nav-link.active::before {
            width: 100%;
            height: 100%;
        }

        .nav-link:hover,
        .nav-link.active {
            color: white;
            transform: translateY(-2px);
            background: var(--glass-bg);
        }

        .nav-link.active {
            background: var(--glass-bg);
        }

        .nav-indicator {
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            background: var(--primary);
            border-radius: 50%;
            opacity: 0;
            transition: var(--transition-fast);
        }

        .nav-link.active .nav-indicator {
            opacity: 1;
            width: 20px;
        }

        .mobile-menu-btn {
            display: none;
            width: 44px;
            height: 44px;
            border-radius: var(--radius-lg);
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
            font-size: 1.25rem;
            cursor: pointer;
            transition: var(--transition-fast);
            z-index: var(--z-fixed);
            flex-shrink: 0;
        }

        .mobile-menu-btn:hover {
            background: var(--dark-3);
            transform: rotate(90deg);
        }

        .mobile-menu-btn.active {
            transform: rotate(90deg);
        }

        .nav-user {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-full);
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            cursor: pointer;
            transition: var(--transition-fast);
            flex-shrink: 0;
        }

        .nav-user:hover {
            background: var(--dark-3);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.875rem;
            flex-shrink: 0;
        }

        .user-info {
            display: flex;
            flex-direction: column;
            min-width: 0;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .user-tier {
            font-size: 0.75rem;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Mobile Navigation Overlay */
        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 15, 30, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: var(--z-modal);
            display: none;
            opacity: 0;
            transition: opacity var(--transition-normal);
        }

        .mobile-nav-overlay.active {
            display: block;
            opacity: 1;
        }

        .mobile-nav-container {
            position: absolute;
            top: var(--header-height);
            left: 0;
            width: 100%;
            height: calc(100% - var(--header-height));
            padding: var(--space-xl) var(--container-padding);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .mobile-nav-menu {
            display: flex;
            flex-direction: column;
            gap: var(--space-xs);
            list-style: none;
            margin: 0 0 var(--space-xl) 0;
            padding: 0;
        }

        .mobile-nav-item {
            width: 100%;
        }

        .mobile-nav-link {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
            padding: var(--space-lg) var(--space-xl);
            border-radius: var(--radius-lg);
            font-weight: 500;
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition-fast);
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            font-size: 1.125rem;
        }

        .mobile-nav-link:hover,
        .mobile-nav-link.active {
            color: white;
            background: var(--primary);
            transform: translateX(10px);
        }

        .mobile-nav-link i {
            width: 24px;
            text-align: center;
            font-size: 1.25rem;
        }

        .mobile-user-info {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
            padding: var(--space-lg);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
            margin-top: auto;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            bottom: var(--space-xl);
            right: var(--space-xl);
            width: 56px;
            height: 56px;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            border: none;
            color: white;
            font-size: 1.25rem;
            cursor: pointer;
            box-shadow: var(--shadow-glow);
            z-index: var(--z-fixed);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-normal);
        }

        .theme-toggle:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: var(--shadow-glow), 0 0 40px rgba(108, 99, 255, 0.6);
        }

        .theme-toggle:active {
            transform: scale(0.95);
        }

        /* Hero Cards */
        .hero-card {
            background: linear-gradient(135deg, var(--dark-2) 0%, var(--dark-3) 100%);
            border-radius: var(--radius-2xl);
            padding: var(--space-2xl);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-xl);
            transition: var(--transition-normal);
        }

        .hero-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl), var(--shadow-glow);
            border-color: var(--primary);
        }

        .hero-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: var(--radius-2xl) var(--radius-2xl) 0 0;
        }

        .hero-card.gradient-bg {
            background: linear-gradient(135deg, var(--dark-2) 0%, var(--dark-3) 50%, var(--primary-dark) 100%);
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-3xl);
        }

        .stat-card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            text-align: center;
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(108, 99, 255, 0.1) 50%,
                transparent 70%
            );
            transform: rotate(45deg);
            animation: shimmer 3s infinite linear;
        }

        .stat-icon {
            width: 64px;
            height: 64px;
            border-radius: var(--radius-lg);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-md);
            color: white;
            font-size: 1.5rem;
            box-shadow: var(--shadow-md);
        }

        .stat-value {
            font-size: var(--text-4xl);
            font-weight: 800;
            margin-bottom: var(--space-xs);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: var(--text-sm);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* Progress Bars */
        .progress-container {
            margin-bottom: var(--space-xl);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-sm);
        }

        .progress-label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: var(--text-sm);
        }

        .progress-value {
            font-weight: 700;
            color: var(--primary);
            font-size: var(--text-sm);
        }

        .progress-bar {
            height: 12px;
            background: var(--dark-3);
            border-radius: var(--radius-full);
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            width: 0%;
            transition: width 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.4),
                transparent
            );
            animation: shimmer 2s infinite linear;
        }

        /* Reward Cards with Real Images */
        .rewards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-lg);
        }

        .reward-card {
            background: var(--dark-2);
            border-radius: var(--radius-xl);
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-md);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .reward-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: var(--shadow-xl), var(--shadow-glow);
            border-color: var(--primary);
        }

        .reward-card.locked {
            opacity: 0.7;
            filter: grayscale(0.3);
        }

        .reward-card.achieved {
            border-color: var(--success);
        }

        .reward-card.available {
            border-color: var(--warning);
            animation: glow 2s infinite;
        }

        .reward-badge {
            position: absolute;
            top: var(--space-md);
            right: var(--space-md);
            z-index: 2;
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 700;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            box-shadow: var(--shadow-md);
        }

        .reward-image {
            width: 100%;
            height: 200px;
            overflow: hidden;
            position: relative;
            flex-shrink: 0;
        }

        .reward-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(to top, var(--dark-2), transparent);
        }

        .reward-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .reward-card:hover .reward-image img {
            transform: scale(1.1);
        }

        .reward-content {
            padding: var(--space-xl);
            position: relative;
            z-index: 1;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .reward-tier {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) var(--space-md);
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 700;
            margin-bottom: var(--space-md);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            align-self: flex-start;
        }

        .reward-title {
            font-size: var(--text-xl);
            font-weight: 700;
            margin-bottom: var(--space-sm);
            color: var(--text-primary);
            line-height: 1.3;
        }

        .reward-description {
            color: var(--text-secondary);
            margin-bottom: var(--space-lg);
            font-size: var(--text-sm);
            line-height: 1.5;
            flex-grow: 1;
        }

        .reward-requirements {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md);
            background: var(--dark-3);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-lg);
        }

        .requirement-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
            flex-shrink: 0;
        }

        /* Leaderboard */
        .leaderboard-container {
            background: var(--dark-2);
            border-radius: var(--radius-2xl);
            overflow: hidden;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-lg);
        }

        .leaderboard-header {
            padding: var(--space-xl);
            background: var(--dark-3);
            border-bottom: 1px solid var(--glass-border);
        }

        .leaderboard-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .leaderboard-table th {
            padding: var(--space-lg);
            text-align: left;
            font-weight: 600;
            color: var(--text-secondary);
            background: var(--dark-3);
            border-bottom: 2px solid var(--glass-border);
            font-size: var(--text-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: sticky;
            top: 0;
        }

        .leaderboard-table td {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--glass-border);
            vertical-align: middle;
        }

        .leaderboard-table tr:hover {
            background: var(--dark-3);
        }

        .leaderboard-table tr:last-child td {
            border-bottom: none;
        }

        .rank-badge {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: var(--text-sm);
            box-shadow: var(--shadow-md);
        }

        .rank-1 { 
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
        }
        .rank-2 { 
            background: linear-gradient(135deg, #C0C0C0 0%, #808080 100%);
            box-shadow: 0 0 20px rgba(192, 192, 192, 0.4);
        }
        .rank-3 { 
            background: linear-gradient(135deg, #CD7F32 0%, #8B4513 100%);
            box-shadow: 0 0 20px rgba(205, 127, 50, 0.4);
        }

        /* Forms */
        .form-group {
            margin-bottom: var(--space-lg);
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-xs);
            font-weight: 600;
            color: var(--text-primary);
            font-size: var(--text-sm);
        }

        .form-control {
            width: 100%;
            padding: var(--space-md) var(--space-lg);
            background: var(--dark-3);
            border: 2px solid var(--glass-border);
            border-radius: var(--radius-lg);
            color: var(--text-primary);
            font-size: var(--text-base);
            transition: var(--transition-fast);
            font-family: 'Inter', sans-serif;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.1);
            background: var(--dark-4);
        }

        .form-control::placeholder {
            color: var(--text-muted);
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: var(--space-md) var(--space-xl);
            border-radius: var(--radius-lg);
            font-weight: 600;
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            font-family: 'Inter', sans-serif;
            white-space: nowrap;
            text-decoration: none;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg), var(--shadow-glow);
        }

        .btn-secondary {
            background: var(--gradient-secondary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-accent {
            background: var(--gradient-accent);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-success {
            background: var(--gradient-success);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-warning {
            background: var(--gradient-warning);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-danger {
            background: var(--gradient-danger);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-purple {
            background: var(--gradient-purple);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-teal {
            background: var(--gradient-teal);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .btn-sm {
            padding: var(--space-sm) var(--space-lg);
            font-size: var(--text-xs);
        }

        .btn-lg {
            padding: var(--space-lg) var(--space-2xl);
            font-size: var(--text-base);
        }

        .btn-block {
            width: 100%;
        }

        .btn-icon {
            width: 44px;
            height: 44px;
            padding: 0;
            border-radius: var(--radius-full);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        /* Modal System */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 15, 30, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: var(--z-modal);
            display: none;
            align-items: center;
            justify-content: center;
            padding: var(--container-padding);
            opacity: 0;
            transition: opacity var(--transition-normal);
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal {
            background: var(--dark-2);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-xl);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow: hidden;
            animation: fadeIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            border: 1px solid var(--glass-border);
        }

        .modal-large {
            max-width: 800px;
        }

        .modal-xlarge {
            max-width: 1200px;
        }

        .modal-close {
            position: absolute;
            top: var(--space-lg);
            right: var(--space-lg);
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            background: var(--dark-3);
            color: var(--text-muted);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-fast);
            z-index: 1;
            border: 1px solid var(--glass-border);
            cursor: pointer;
        }

        .modal-close:hover {
            background: var(--dark-4);
            color: var(--text-primary);
            transform: rotate(90deg);
        }

        /* Footer */
        .footer {
            background: var(--dark-2);
            border-top: 1px solid var(--glass-border);
            padding: var(--space-5xl) 0 var(--space-2xl);
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--gradient-primary);
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: var(--space-2xl);
            margin-bottom: var(--space-3xl);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: var(--space-sm);
        }

        .footer-links a {
            color: var(--text-secondary);
            transition: var(--transition-fast);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: var(--space-xl);
            border-top: 1px solid var(--glass-border);
            color: var(--text-muted);
            font-size: var(--text-sm);
        }

        /* Page Transitions */
        .page {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s ease, transform 0.4s ease;
            min-height: calc(100vh - var(--header-height));
            padding-top: var(--header-height);
        }

        .page.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
            animation: fadeIn 0.4s ease-out;
        }

        /* Loading Spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--dark-3);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .spinner-sm {
            width: 24px;
            height: 24px;
            border-width: 2px;
        }

        .spinner-lg {
            width: 60px;
            height: 60px;
            border-width: 4px;
        }

        /* Notification System */
        .notification-container {
            position: fixed;
            top: calc(var(--header-height) + var(--space-md));
            right: var(--container-padding);
            z-index: var(--z-toast);
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
            max-width: 400px;
            width: 100%;
        }

        .notification {
            background: var(--dark-2);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            padding: var(--space-lg);
            box-shadow: var(--shadow-lg);
            animation: slideInRight 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            max-width: 100%;
        }

        .notification::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
        }

        .notification.success::before {
            background: var(--success);
        }

        .notification.error::before {
            background: var(--danger);
        }

        .notification.warning::before {
            background: var(--warning);
        }

        .notification.info::before {
            background: var(--info);
        }

        .notification-close {
            position: absolute;
            top: var(--space-xs);
            right: var(--space-xs);
            background: none;
            color: var(--text-muted);
            width: 24px;
            height: 24px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-fast);
            cursor: pointer;
            border: none;
            font-size: 1rem;
        }

        .notification-close:hover {
            background: var(--dark-3);
            color: var(--text-primary);
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: var(--space-xs);
            overflow-x: auto;
            padding-bottom: var(--space-xs);
            margin-bottom: var(--space-xl);
        }

        .tab {
            padding: var(--space-md) var(--space-xl);
            border-radius: var(--radius-full);
            background: var(--dark-3);
            color: var(--text-secondary);
            border: none;
            cursor: pointer;
            transition: var(--transition-fast);
            font-weight: 500;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .tab:hover {
            background: var(--dark-4);
            color: var(--text-primary);
        }

        .tab.active {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        /* Cards */
        .card {
            background: var(--dark-2);
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
            padding: var(--space-xl);
            transition: var(--transition-normal);
        }

        .card:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-md);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }

        .card-title {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-2xl);
        }

        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
            text-decoration: none;
            color: var(--text-secondary);
            transition: var(--transition-normal);
            text-align: center;
        }

        .action-btn:hover {
            background: var(--dark-3);
            color: var(--text-primary);
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .action-btn i {
            font-size: 2rem;
            color: var(--primary);
        }

        /* Charts */
        .chart-container {
            background: var(--dark-2);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
        }

        .chart-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, var(--dark-3) 0%, var(--dark-4) 100%);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-weight: 600;
        }

        /* Activity Feed */
        .activity-feed {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
            padding: var(--space-lg);
            background: var(--dark-3);
            border-radius: var(--radius-lg);
            border-left: 4px solid var(--primary);
            transition: var(--transition-fast);
        }

        .activity-item:hover {
            background: var(--dark-4);
            transform: translateX(5px);
        }

        .activity-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .activity-content {
            flex-grow: 1;
        }

        .activity-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-xs);
        }

        .activity-time {
            font-size: var(--text-sm);
            color: var(--text-muted);
        }

        /* Empty States */
        .empty-state {
            text-align: center;
            padding: var(--space-3xl) var(--space-xl);
            background: var(--dark-2);
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
        }

        .empty-state-icon {
            width: 80px;
            height: 80px;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            margin: 0 auto var(--space-lg);
        }

        .empty-state-title {
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
        }

        .empty-state-text {
            color: var(--text-secondary);
            max-width: 400px;
            margin: 0 auto;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            :root {
                --text-5xl: 2.5rem;
                --text-4xl: 2rem;
                --text-3xl: 1.75rem;
            }
            
            .display-1 {
                font-size: var(--text-5xl);
            }
            
            .display-2 {
                font-size: var(--text-4xl);
            }
        }

        @media (max-width: 992px) {
            :root {
                --space-5xl: 4rem;
                --space-4xl: 3rem;
                --space-3xl: 2rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .rewards-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 768px) {
            :root {
                --header-height: 64px;
                --header-height-scrolled: 56px;
                --container-padding: 1rem;
                --text-5xl: 2rem;
                --text-4xl: 1.75rem;
                --text-3xl: 1.5rem;
            }
            
            .navbar {
                height: var(--header-height);
                padding: 0 var(--container-padding);
            }
            
            .navbar.scrolled {
                height: var(--header-height-scrolled);
            }
            
            .nav-menu {
                display: none;
            }
            
            .mobile-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .nav-user {
                display: none;
            }
            
            .logo-text {
                display: none;
            }
            
            .logo-icon {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: var(--space-md);
            }
            
            .rewards-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-card {
                padding: var(--space-lg);
            }
            
            .section {
                padding: var(--space-3xl) 0;
            }
            
            .modal {
                margin: var(--space-sm);
                border-radius: var(--radius-xl);
            }
            
            .theme-toggle {
                bottom: var(--space-lg);
                right: var(--space-lg);
                width: 48px;
                height: 48px;
                font-size: 1rem;
            }
            
            .notification-container {
                top: calc(var(--header-height) + var(--space-xs));
                right: var(--space-sm);
                left: var(--space-sm);
            }
        }

        @media (max-width: 480px) {
            :root {
                --container-padding: 0.75rem;
                --text-5xl: 1.75rem;
                --text-4xl: 1.5rem;
                --text-3xl: 1.25rem;
            }
            
            .btn {
                padding: var(--space-sm) var(--space-lg);
                font-size: var(--text-xs);
            }
            
            .btn-lg {
                padding: var(--space-md) var(--space-xl);
                font-size: var(--text-sm);
            }
            
            .modal {
                border-radius: var(--radius-lg);
            }
            
            .hero-card {
                padding: var(--space-md);
            }
            
            .reward-image {
                height: 160px;
            }
            
            .reward-content {
                padding: var(--space-lg);
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--dark-2);
            border-radius: var(--radius-full);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            border: 2px solid var(--dark-2);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }

        /* Selection */
        ::selection {
            background: rgba(108, 99, 255, 0.3);
            color: white;
        }

        /* Focus Styles */
        :focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Print Styles */
        @media print {
            .navbar,
            .theme-toggle,
            .footer,
            .modal-overlay,
            .notification-container {
                display: none !important;
            }
            
            .page {
                display: block !important;
                opacity: 1 !important;
                transform: none !important;
                padding-top: 0 !important;
                min-height: auto !important;
            }
            
            body {
                background: white !important;
                color: black !important;
            }
        }

        /* ===== NEW FANCY LOADING SPINNER OVERLAY ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 15, 30, 0.85);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .loading-spinner {
            width: 80px;
            height: 80px;
            border: 5px solid var(--dark-3);
            border-top-color: var(--primary);
            border-right-color: var(--secondary);
            border-bottom-color: var(--accent);
            border-left-color: var(--teal);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            box-shadow: var(--shadow-glow);
        }
    </style>
</head>
<body>
    <!-- Animated Background Elements -->
    <div class="background-elements">
        <div class="grid-lines"></div>
        <div class="bg-particle particle-1"></div>
        <div class="bg-particle particle-2"></div>
        <div class="bg-particle particle-3"></div>
        <div class="bg-particle particle-4"></div>
    </div>

    <!-- Theme Toggle -->
    <button id="themeToggle" class="theme-toggle animate-bounce">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Modern Navigation -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="#dashboard" class="logo">
                <div class="logo-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <div class="logo-text">
                    <div class="logo-main">RAWWEALTHY</div>
                    <div class="logo-sub">Elite Referrals</div>
                </div>
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active" data-page="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#rewards" class="nav-link" data-page="rewards">
                        <i class="fas fa-gift"></i>
                        <span>Rewards</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#leaderboard" class="nav-link" data-page="leaderboard">
                        <i class="fas fa-trophy"></i>
                        <span>Leaderboard</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#transactions" class="nav-link" data-page="transactions">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Transactions</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#referrals" class="nav-link" data-page="referrals">
                        <i class="fas fa-users"></i>
                        <span>My Referrals</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#profile" class="nav-link" data-page="profile">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#support" class="nav-link" data-page="support">
                        <i class="fas fa-headset"></i>
                        <span>Support</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
            </ul>
            
            <div class="nav-user d-none" id="navUser">
                <div class="user-avatar" id="userAvatar">U</div>
                <div class="user-info">
                    <div class="user-name" id="userName">User</div>
                    <div class="user-tier" id="userTier">Bronze Tier</div>
                </div>
            </div>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay">
        <div class="mobile-nav-container">
            <ul class="mobile-nav-menu" id="mobileNavMenu">
                <li class="mobile-nav-item">
                    <a href="#dashboard" class="mobile-nav-link active" data-page="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="#rewards" class="mobile-nav-link" data-page="rewards">
                        <i class="fas fa-gift"></i>
                        <span>Rewards</span>
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="#leaderboard" class="mobile-nav-link" data-page="leaderboard">
                        <i class="fas fa-trophy"></i>
                        <span>Leaderboard</span>
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="#transactions" class="mobile-nav-link" data-page="transactions">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Transactions</span>
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="#referrals" class="mobile-nav-link" data-page="referrals">
                        <i class="fas fa-users"></i>
                        <span>My Referrals</span>
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="#profile" class="mobile-nav-link" data-page="profile">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="#support" class="mobile-nav-link" data-page="support">
                        <i class="fas fa-headset"></i>
                        <span>Support</span>
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="#logout" class="mobile-nav-link" id="mobileLogoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </li>
            </ul>
            
            <div class="mobile-user-info">
                <div class="user-avatar" id="mobileUserAvatar">U</div>
                <div class="user-info">
                    <div class="user-name" id="mobileUserName">User</div>
                    <div class="user-tier" id="mobileUserTier">Bronze Tier</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main>
        <!-- Login Page -->
        <div class="page active" id="loginPage">
            <section class="section">
                <div class="container container-narrow">
                    <div class="d-flex justify-center align-center" style="min-height: calc(100vh - var(--header-height));">
                        <div class="hero-card animate-fade-in" style="max-width: 440px; width: 100%;">
                            <div class="text-center mb-5">
                                <div class="logo-icon animate-bounce" style="width: 80px; height: 80px; margin: 0 auto var(--space-lg); font-size: 2rem;">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <h2 class="display-2">Welcome Back</h2>
                                <p class="text-muted">Sign in to continue your wealth journey</p>
                            </div>
                            
                            <form id="loginForm">
                                <div class="form-group">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="loginEmail" placeholder="Enter your email" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Password</label>
                                    <div class="position-relative">
                                        <input type="password" class="form-control" id="loginPassword" placeholder="Enter your password" required>
                                        <button type="button" class="position-absolute" style="right: 16px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--text-muted); cursor: pointer;" id="togglePassword">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="form-group d-flex justify-between align-center">
                                    <label class="d-flex align-center gap-2" style="cursor: pointer;">
                                        <input type="checkbox" id="rememberMe" style="width: 18px; height: 18px;">
                                        <span class="text-sm">Remember me</span>
                                    </label>
                                    <a href="#forgot-password" class="text-sm text-gradient" style="font-weight: 500;">Forgot Password?</a>
                                </div>
                                
                                <button type="submit" class="btn btn-primary btn-block" style="margin-top: var(--space-xl);">
                                    <i class="fas fa-sign-in-alt"></i> Sign In
                                </button>
                                
                                <div class="text-center mt-4">
                                    <p class="text-muted">Don't have an account? <a href="#register" id="showRegister" class="text-gradient" style="font-weight: 600;">Join Now</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Register Page -->
        <div class="page" id="registerPage">
            <section class="section">
                <div class="container container-narrow">
                    <div class="d-flex justify-center align-center" style="min-height: calc(100vh - var(--header-height));">
                        <div class="hero-card animate-fade-in" style="max-width: 500px; width: 100%;">
                            <div class="text-center mb-5">
                                <div class="logo-icon animate-bounce" style="width: 80px; height: 80px; margin: 0 auto var(--space-lg); font-size: 2rem;">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <h2 class="display-2">Join Elite</h2>
                                <p class="text-muted">Start your journey to wealth creation</p>
                            </div>
                            
                            <form id="registerForm">
                                <div class="form-group">
                                    <label class="form-label">Full Name</label>
                                    <input type="text" class="form-control" id="registerName" placeholder="Enter your full name" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="registerEmail" placeholder="Enter your email" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" id="registerPhone" placeholder="Enter your phone number" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Password</label>
                                    <div class="position-relative">
                                        <input type="password" class="form-control" id="registerPassword" placeholder="Create a strong password" required>
                                        <button type="button" class="position-absolute" style="right: 16px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--text-muted); cursor: pointer;" id="toggleRegisterPassword">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <div class="text-xs text-muted mt-1">
                                        Must be at least 8 characters with uppercase, lowercase, and numbers
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Referral Code (Optional)</label>
                                    <input type="text" class="form-control" id="registerReferralCode" placeholder="Enter referral code for bonus">
                                </div>
                                
                                <div class="form-group">
                                    <label class="d-flex align-start gap-2" style="cursor: pointer;">
                                        <input type="checkbox" id="acceptTerms" style="margin-top: 4px; width: 18px; height: 18px;" required>
                                        <span class="text-sm">I agree to the <a href="#terms" class="text-gradient" style="font-weight: 500;">Terms of Service</a> and <a href="#privacy" class="text-gradient" style="font-weight: 500;">Privacy Policy</a></span>
                                    </label>
                                </div>
                                
                                <button type="submit" class="btn btn-primary btn-block" style="margin-top: var(--space-xl);">
                                    <i class="fas fa-user-plus"></i> Create Account
                                </button>
                                
                                <div class="text-center mt-4">
                                    <p class="text-muted">Already have an account? <a href="#login" id="showLogin" class="text-gradient" style="font-weight: 600;">Sign In</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Dashboard Page -->
        <div class="page" id="dashboardPage">
            <section class="section">
                <div class="container">
                    <!-- Hero Welcome -->
                    <div class="hero-card mb-6 animate-fade-in">
                        <div class="d-grid" style="grid-template-columns: 1fr auto; gap: var(--space-2xl); align-items: center;">
                            <div>
                                <div class="d-flex align-center gap-3 mb-4">
                                    <div class="user-avatar animate-glow" style="width: 60px; height: 60px; font-size: 1.25rem;" id="dashboardUserAvatar">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div>
                                        <h1 class="display-1" style="font-size: 2rem; margin: 0;">Welcome, <span class="text-gradient" id="dashboardUserName">User</span>!</h1>
                                        <p class="text-muted">Your journey to wealth creation continues</p>
                                    </div>
                                </div>
                                
                                <p class="mb-5" style="color: var(--text-secondary);">Track your referral progress and unlock amazing rewards as you grow your network</p>
                                
                                <div class="d-flex gap-3 flex-wrap">
                                    <button class="btn btn-primary" id="shareDashboardLink">
                                        <i class="fas fa-share-alt"></i> Share Link
                                    </button>
                                    <button class="btn btn-outline" data-page="rewards">
                                        <i class="fas fa-gift"></i> View Rewards
                                    </button>
                                    <button class="btn btn-outline" data-page="leaderboard">
                                        <i class="fas fa-trophy"></i> Leaderboard
                                    </button>
                                </div>
                            </div>
                            
                            <div class="d-none d-md-block">
                                <div class="animate-float">
                                    <div class="stat-icon" style="width: 120px; height: 120px; font-size: 3rem; background: var(--gradient-primary);">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="quick-actions mb-6">
                        <a href="#share" class="action-btn" id="quickShare">
                            <i class="fas fa-share-alt"></i>
                            <span>Share</span>
                        </a>
                        <a href="#withdraw" class="action-btn" id="quickWithdraw">
                            <i class="fas fa-wallet"></i>
                            <span>Withdraw</span>
                        </a>
                        <a href="#referrals" class="action-btn" data-page="referrals">
                            <i class="fas fa-users"></i>
                            <span>My Referrals</span>
                        </a>
                        <a href="#support" class="action-btn" data-page="support">
                            <i class="fas fa-headset"></i>
                            <span>Support</span>
                        </a>
                    </div>

                    <!-- Stats Overview -->
                    <div class="section-header mb-6">
                        <h2 class="display-2">Performance Dashboard</h2>
                        <p class="text-muted">Real-time tracking of your referral journey</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card animate-fade-in" style="animation-delay: 0.1s;">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-value" id="totalReferrals">0</div>
                            <div class="stat-label">Total Referrals</div>
                        </div>
                        
                        <div class="stat-card animate-fade-in" style="animation-delay: 0.2s;">
                            <div class="stat-icon" style="background: var(--gradient-success);">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="stat-value" id="referralEarnings">0</div>
                            <div class="stat-label">Total Earnings</div>
                        </div>
                        
                        <div class="stat-card animate-fade-in" style="animation-delay: 0.3s;">
                            <div class="stat-icon" style="background: var(--gradient-accent);">
                                <i class="fas fa-gift"></i>
                            </div>
                            <div class="stat-value" id="rewardsEarned">0</div>
                            <div class="stat-label">Rewards Earned</div>
                        </div>
                        
                        <div class="stat-card animate-fade-in" style="animation-delay: 0.4s;">
                            <div class="stat-icon" style="background: var(--gradient-warning);">
                                <i class="fas fa-medal"></i>
                            </div>
                            <div class="stat-value" id="leaderboardRank">-</div>
                            <div class="stat-label">Global Rank</div>
                        </div>
                    </div>

                    <!-- Progress Section -->
                    <div class="hero-card mb-6 animate-fade-in" style="animation-delay: 0.5s;">
                        <div class="card-header d-flex justify-between align-center mb-4">
                            <div>
                                <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Next Reward Progress</h3>
                                <p class="text-muted">Keep referring to unlock amazing rewards</p>
                            </div>
                            <span class="badge badge-warning" id="nextRewardStatus">Loading...</span>
                        </div>
                        
                        <div class="card-body">
                            <div class="progress-container">
                                <div class="progress-header">
                                    <span class="progress-label" id="nextRewardName">Loading reward...</span>
                                    <span class="progress-value" id="progressText">0/0</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressBar" style="width: 0%"></div>
                                </div>
                            </div>
                            
                            <div class="d-flex align-center gap-3 mt-5 p-4 rounded-xl glass-effect">
                                <i class="fas fa-info-circle text-primary fa-lg"></i>
                                <div>
                                    <strong class="text-primary">Keep going!</strong> You need <span id="referralsNeeded" class="font-bold text-gradient">0</span> more referrals to unlock your next reward!
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts & Financial Overview -->
                    <div class="d-grid mb-6" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-xl);">
                        <div class="chart-container animate-fade-in" style="animation-delay: 0.6s;">
                            <h3 class="card-title mb-4">Earnings Overview</h3>
                            <div class="chart-placeholder">
                                <div class="text-center">
                                    <i class="fas fa-chart-pie fa-3x mb-3" style="color: var(--text-muted);"></i>
                                    <p>Earnings chart will appear here</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="d-flex flex-column gap-4">
                            <div class="hero-card animate-fade-in" style="animation-delay: 0.7s;">
                                <div class="d-flex align-center gap-3">
                                    <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-success);">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold">Available Balance</h4>
                                        <div class="text-3xl font-bold" id="availableBalance">0.00</div>
                                    </div>
                                </div>
                                <div class="text-sm text-muted mt-2">Withdrawable earnings anytime</div>
                                <button class="btn btn-success btn-sm mt-3" id="withdrawBtn">
                                    <i class="fas fa-wallet"></i> Withdraw
                                </button>
                            </div>
                            
                            <div class="hero-card animate-fade-in" style="animation-delay: 0.8s;">
                                <div class="d-flex align-center gap-3">
                                    <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-primary);">
                                        <i class="fas fa-chart-bar"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold">Total Earnings</h4>
                                        <div class="text-3xl font-bold" id="totalEarnings">0.00</div>
                                    </div>
                                </div>
                                <div class="text-sm text-muted mt-2">Lifetime earnings from referrals</div>
                            </div>
                            
                            <div class="hero-card animate-fade-in" style="animation-delay: 0.9s;">
                                <div class="d-flex align-center gap-3">
                                    <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-warning);">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold">Pending</h4>
                                        <div class="text-3xl font-bold" id="pendingInvestments">0.00</div>
                                    </div>
                                </div>
                                <div class="text-sm text-muted mt-2">Awaiting approval & processing</div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="hero-card animate-fade-in" style="animation-delay: 1s;">
                        <div class="card-header mb-4">
                            <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Recent Activity</h3>
                            <button class="btn btn-sm btn-outline" id="refreshActivity">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <div class="activity-feed" id="recentActivity">
                            <!-- Activity items will be loaded here -->
                            <div class="empty-state" style="padding: var(--space-xl);">
                                <div class="empty-state-icon">
                                    <i class="fas fa-history"></i>
                                </div>
                                <h4 class="empty-state-title">No Recent Activity</h4>
                                <p class="empty-state-text">Your recent activities will appear here</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Rewards Page -->
        <div class="page" id="rewardsPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Elite Reward Tiers</h1>
                        <p class="text-muted">Unlock amazing rewards as you refer more friends</p>
                    </div>

                    <!-- Filter Tabs -->
                    <div class="tabs mb-6">
                        <button class="tab active" data-filter="all">All Rewards</button>
                        <button class="tab" data-filter="available">Available</button>
                        <button class="tab" data-filter="achieved">Achieved</button>
                        <button class="tab" data-filter="locked">Locked</button>
                        <button class="tab" data-filter="claimed">Claimed</button>
                    </div>

                    <!-- Rewards Grid -->
                    <div class="rewards-grid" id="rewardsContainer">
                        <!-- Rewards will be dynamically loaded with real images -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Leaderboard Page -->
        <div class="page" id="leaderboardPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Global Leaderboard</h1>
                        <p class="text-muted">See who's leading the referral challenge worldwide</p>
                    </div>

                    <div class="leaderboard-container mb-6 animate-fade-in">
                        <div class="leaderboard-header">
                            <div class="d-flex justify-between align-center flex-wrap gap-4">
                                <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Top Performers</h3>
                                <div class="d-flex gap-3 align-center">
                                    <select class="form-control" style="width: auto; min-width: 140px;" id="timeFilter">
                                        <option value="all">All Time</option>
                                        <option value="month">This Month</option>
                                        <option value="week">This Week</option>
                                        <option value="today">Today</option>
                                    </select>
                                    <button class="btn btn-primary btn-icon" id="refreshLeaderboard">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="overflow-auto">
                            <table class="leaderboard-table">
                                <thead>
                                    <tr>
                                        <th style="width: 80px; min-width: 80px;">Rank</th>
                                        <th>User</th>
                                        <th style="width: 150px; min-width: 150px;">Referrals</th>
                                        <th style="width: 150px; min-width: 150px;">Earnings</th>
                                        <th style="width: 120px; min-width: 120px;">Tier</th>
                                    </tr>
                                </thead>
                                <tbody id="leaderboardTable">
                                    <!-- Data will be loaded dynamically -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Your Position -->
                    <div class="hero-card animate-fade-in" style="animation-delay: 0.2s;">
                        <div class="card-header mb-4">
                            <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Your Position</h3>
                        </div>
                        <div class="card-body" id="yourPosition">
                            <!-- Your position will be loaded dynamically -->
                        </div>
                    </div>

                    <!-- Monthly Top 3 -->
                    <div class="hero-card mt-6 animate-fade-in" style="animation-delay: 0.4s;">
                        <div class="card-header mb-4">
                            <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Monthly Champions</h3>
                            <span class="badge badge-primary">Current Month</span>
                        </div>
                        <div class="d-grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-xl);" id="monthlyTop3">
                            <!-- Monthly top 3 will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Transactions Page -->
        <div class="page" id="transactionsPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Transaction History</h1>
                        <p class="text-muted">Track all your deposits, withdrawals, and earnings</p>
                    </div>

                    <!-- Transaction Filters -->
                    <div class="hero-card mb-6">
                        <div class="d-flex justify-between align-center flex-wrap gap-4">
                            <div class="d-flex gap-3">
                                <select class="form-control" style="width: auto; min-width: 140px;" id="transactionTypeFilter">
                                    <option value="all">All Types</option>
                                    <option value="deposit">Deposits</option>
                                    <option value="withdrawal">Withdrawals</option>
                                    <option value="referral">Referral Earnings</option>
                                    <option value="bonus">Bonuses</option>
                                </select>
                                <select class="form-control" style="width: auto; min-width: 140px;" id="transactionStatusFilter">
                                    <option value="all">All Status</option>
                                    <option value="completed">Completed</option>
                                    <option value="pending">Pending</option>
                                    <option value="failed">Failed</option>
                                </select>
                            </div>
                            <div class="d-flex gap-3">
                                <button class="btn btn-outline" id="exportTransactions">
                                    <i class="fas fa-download"></i> Export
                                </button>
                                <button class="btn btn-primary" id="refreshTransactions">
                                    <i class="fas fa-sync-alt"></i> Refresh
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Transactions List -->
                    <div class="hero-card">
                        <div class="overflow-auto">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr>
                                        <th class="text-left p-4 text-sm text-muted">Date</th>
                                        <th class="text-left p-4 text-sm text-muted">Type</th>
                                        <th class="text-left p-4 text-sm text-muted">Description</th>
                                        <th class="text-left p-4 text-sm text-muted">Amount</th>
                                        <th class="text-left p-4 text-sm text-muted">Status</th>
                                        <th class="text-left p-4 text-sm text-muted">Reference</th>
                                    </tr>
                                </thead>
                                <tbody id="transactionsList">
                                    <!-- Transactions will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Empty State -->
                        <div class="empty-state d-none" id="transactionsEmpty">
                            <div class="empty-state-icon">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <h4 class="empty-state-title">No Transactions Yet</h4>
                            <p class="empty-state-text">Your transaction history will appear here</p>
                        </div>
                    </div>

                    <!-- Transaction Summary -->
                    <div class="d-grid mt-6" style="grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: var(--space-lg);">
                        <div class="hero-card">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-gradient mb-2" id="totalTransactions">0</div>
                                <div class="text-sm text-muted">Total Transactions</div>
                            </div>
                        </div>
                        <div class="hero-card">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-gradient-success mb-2" id="totalDeposits">0</div>
                                <div class="text-sm text-muted">Total Deposits</div>
                            </div>
                        </div>
                        <div class="hero-card">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-gradient-warning mb-2" id="totalWithdrawals">0</div>
                                <div class="text-sm text-muted">Total Withdrawals</div>
                            </div>
                        </div>
                        <div class="hero-card">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-gradient-accent mb-2" id="totalReferralEarnings">0</div>
                                <div class="text-sm text-muted">Referral Earnings</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- My Referrals Page -->
        <div class="page" id="referralsPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">My Referrals</h1>
                        <p class="text-muted">Manage and track your referral network</p>
                    </div>

                    <!-- Referral Stats -->
                    <div class="d-grid mb-6" style="grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: var(--space-lg);">
                        <div class="hero-card">
                            <div class="d-flex align-center gap-3">
                                <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-primary);">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Total Referrals</h4>
                                    <div class="text-3xl font-bold" id="referralsTotalCount">0</div>
                                </div>
                            </div>
                        </div>
                        <div class="hero-card">
                            <div class="d-flex align-center gap-3">
                                <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-success);">
                                    <i class="fas fa-user-check"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Active Referrals</h4>
                                    <div class="text-3xl font-bold" id="activeReferralsCount">0</div>
                                </div>
                            </div>
                        </div>
                        <div class="hero-card">
                            <div class="d-flex align-center gap-3">
                                <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-warning);">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Total Earned</h4>
                                    <div class="text-3xl font-bold" id="referralsTotalEarned">0</div>
                                </div>
                            </div>
                        </div>
                        <div class="hero-card">
                            <div class="d-flex align-center gap-3">
                                <div class="stat-icon" style="width: 48px; height: 48px; font-size: 1rem; background: var(--gradient-accent);">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Conversion Rate</h4>
                                    <div class="text-3xl font-bold" id="conversionRate">0%</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Referral Link Card -->
                    <div class="hero-card mb-6">
                        <div class="card-header mb-4">
                            <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Your Referral Link</h3>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="card-body">
                            <div class="d-flex gap-2 mb-4 flex-wrap">
                                <input type="text" class="form-control" id="referralLinkInput" readonly style="flex: 1; min-width: 200px;">
                                <button class="btn btn-primary" id="copyReferralLink">
                                    <i class="fas fa-copy"></i> Copy
                                </button>
                                <button class="btn btn-outline" id="shareReferralLink">
                                    <i class="fas fa-share-alt"></i> Share
                                </button>
                            </div>
                            
                            <div class="d-flex flex-wrap gap-2 justify-center">
                                <button class="btn btn-outline" data-share="whatsapp">
                                    <i class="fab fa-whatsapp"></i> WhatsApp
                                </button>
                                <button class="btn btn-outline" data-share="telegram">
                                    <i class="fab fa-telegram"></i> Telegram
                                </button>
                                <button class="btn btn-outline" data-share="facebook">
                                    <i class="fab fa-facebook"></i> Facebook
                                </button>
                                <button class="btn btn-outline" data-share="twitter">
                                    <i class="fab fa-twitter"></i> Twitter
                                </button>
                                <button class="btn btn-outline" data-share="email">
                                    <i class="fas fa-envelope"></i> Email
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Referral List -->
                    <div class="hero-card">
                        <div class="card-header d-flex justify-between align-center flex-wrap gap-4 mb-4">
                            <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Referral Network</h3>
                            <div class="d-flex gap-3">
                                <input type="text" class="form-control" placeholder="Search referrals..." id="searchReferrals" style="min-width: 200px;">
                                <button class="btn btn-primary" id="refreshReferrals">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="overflow-auto">
                                <table style="width: 100%; border-collapse: collapse;" id="referralsTable">
                                    <thead>
                                        <tr>
                                            <th class="text-left p-4 text-sm text-muted">Name</th>
                                            <th class="text-left p-4 text-sm text-muted">Email</th>
                                            <th class="text-left p-4 text-sm text-muted">Join Date</th>
                                            <th class="text-left p-4 text-sm text-muted">Status</th>
                                            <th class="text-left p-4 text-sm text-muted">Earnings</th>
                                            <th class="text-left p-4 text-sm text-muted">Tier</th>
                                        </tr>
                                    </thead>
                                    <tbody id="referralsListBody">
                                        <!-- Referrals will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- Empty State -->
                            <div class="empty-state d-none" id="referralsEmpty">
                                <div class="empty-state-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <h4 class="empty-state-title">No Referrals Yet</h4>
                                <p class="empty-state-text">Start sharing your referral link to build your network</p>
                                <button class="btn btn-primary mt-4" id="startSharingBtn">
                                    <i class="fas fa-share-alt"></i> Start Sharing
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Profile Page -->
        <div class="page" id="profilePage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Your Profile</h1>
                        <p class="text-muted">Manage your account and referral settings</p>
                    </div>

                    <div class="d-grid" style="grid-template-columns: 1fr 2fr; gap: var(--space-2xl);">
                        <!-- Profile Sidebar -->
                        <div>
                            <div class="hero-card mb-4">
                                <div class="text-center p-5">
                                    <div class="user-avatar" style="width: 100px; height: 100px; margin: 0 auto var(--space-lg); font-size: 2rem;" id="profileAvatar">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <h3 id="profileName" class="mb-2">Loading...</h3>
                                    <p class="text-muted mb-4" id="profileEmail">Loading...</p>
                                    
                                    <div class="d-flex justify-center gap-2 mb-5 flex-wrap">
                                        <span class="badge badge-success" id="memberStatus">Active</span>
                                        <span class="badge badge-primary" id="memberTier">Bronze</span>
                                    </div>
                                    
                                    <div class="text-left">
                                        <div class="d-flex justify-between mb-3 p-3 rounded-lg" style="background: var(--dark-3);">
                                            <span class="text-muted">Member Since</span>
                                            <span id="memberSinceDate" class="font-semibold">Loading...</span>
                                        </div>
                                        <div class="d-flex justify-between mb-3 p-3 rounded-lg" style="background: var(--dark-3);">
                                            <span class="text-muted">Referral Code</span>
                                            <span id="referralCode" class="font-semibold text-primary">RW-0000</span>
                                        </div>
                                        <div class="d-flex justify-between p-3 rounded-lg" style="background: var(--dark-3);">
                                            <span class="text-muted">Total Referrals</span>
                                            <span id="profileReferrals" class="font-semibold">0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Security Settings -->
                            <div class="hero-card">
                                <div class="card-header mb-4">
                                    <h3 class="display-2" style="font-size: 1.25rem; margin: 0;">Security</h3>
                                </div>
                                <div class="card-body">
                                    <button class="btn btn-outline btn-block mb-3" id="changePasswordBtn">
                                        <i class="fas fa-key"></i> Change Password
                                    </button>
                                    <button class="btn btn-outline btn-block mb-3" id="twoFactorBtn">
                                        <i class="fas fa-shield-alt"></i> Two-Factor Auth
                                    </button>
                                    <button class="btn btn-outline btn-block" id="logoutBtn">
                                        <i class="fas fa-sign-out-alt"></i> Logout
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Main Content -->
                        <div>
                            <!-- Profile Edit Form -->
                            <div class="hero-card mb-6">
                                <div class="card-header mb-4">
                                    <h3 class="display-2" style="font-size: 1.25rem; margin: 0;">Edit Profile</h3>
                                </div>
                                <div class="card-body">
                                    <form id="profileForm">
                                        <div class="d-grid" style="grid-template-columns: 1fr 1fr; gap: var(--space-lg);">
                                            <div class="form-group">
                                                <label class="form-label">First Name</label>
                                                <input type="text" class="form-control" id="profileFirstName" required>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Last Name</label>
                                                <input type="text" class="form-control" id="profileLastName" required>
                                            </div>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Email Address</label>
                                            <input type="email" class="form-control" id="profileEmailInput" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Phone Number</label>
                                            <input type="tel" class="form-control" id="profilePhone" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Address</label>
                                            <textarea class="form-control" id="profileAddress" rows="3"></textarea>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label">Date of Birth</label>
                                            <input type="date" class="form-control" id="profileDOB">
                                        </div>
                                        
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-save"></i> Save Changes
                                        </button>
                                    </form>
                                </div>
                            </div>

                            <!-- Achievement Progress -->
                            <div class="hero-card">
                                <div class="card-header mb-4">
                                    <h3 class="display-2" style="font-size: 1.25rem; margin: 0;">Achievement Progress</h3>
                                </div>
                                <div class="card-body">
                                    <div id="achievementProgress">
                                        <!-- Progress bars will be loaded dynamically -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Support Page -->
        <div class="page" id="supportPage">
            <section class="section">
                <div class="container">
                    <div class="section-header mb-6">
                        <h1 class="display-1">Support Center</h1>
                        <p class="text-muted">Get help and support for your referral journey</p>
                    </div>

                    <!-- Support Tabs -->
                    <div class="tabs mb-6">
                        <button class="tab active" data-support-tab="faq">FAQs</button>
                        <button class="tab" data-support-tab="contact">Contact Us</button>
                        <button class="tab" data-support-tab="guides">Guides</button>
                        <button class="tab" data-support-tab="tickets">My Tickets</button>
                    </div>

                    <!-- FAQ Section -->
                    <div class="support-content" id="faqSection">
                        <div class="hero-card mb-6">
                            <div class="card-header mb-4">
                                <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Frequently Asked Questions</h3>
                            </div>
                            <div class="card-body">
                                <div class="faq-list" id="faqList">
                                    <!-- FAQ items will be loaded here -->
                                    <div class="faq-item mb-4">
                                        <div class="faq-question d-flex justify-between align-center p-4 rounded-lg" style="background: var(--dark-3); cursor: pointer;">
                                            <h4 class="font-semibold">How do I earn from referrals?</h4>
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                        <div class="faq-answer p-4" style="display: none;">
                                            <p>You earn a commission for every person who signs up using your referral link and makes their first investment. The commission rate varies based on your tier level.</p>
                                        </div>
                                    </div>
                                    
                                    <div class="faq-item mb-4">
                                        <div class="faq-question d-flex justify-between align-center p-4 rounded-lg" style="background: var(--dark-3); cursor: pointer;">
                                            <h4 class="font-semibold">When can I withdraw my earnings?</h4>
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                        <div class="faq-answer p-4" style="display: none;">
                                            <p>You can withdraw your available balance anytime. Processing time is 24-48 hours for bank transfers.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Section -->
                    <div class="support-content d-none" id="contactSection">
                        <div class="hero-card">
                            <div class="card-header mb-4">
                                <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Contact Support</h3>
                            </div>
                            <div class="card-body">
                                <form id="contactForm">
                                    <div class="form-group">
                                        <label class="form-label">Subject</label>
                                        <input type="text" class="form-control" id="contactSubject" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Category</label>
                                        <select class="form-control" id="contactCategory" required>
                                            <option value="">Select a category</option>
                                            <option value="technical">Technical Issue</option>
                                            <option value="account">Account Issue</option>
                                            <option value="payment">Payment Issue</option>
                                            <option value="referral">Referral Issue</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Message</label>
                                        <textarea class="form-control" id="contactMessage" rows="6" required></textarea>
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-paper-plane"></i> Send Message
                                    </button>
                                </form>
                                
                                <div class="mt-6">
                                    <h4 class="font-semibold mb-3">Other Ways to Reach Us</h4>
                                    <div class="d-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg);">
                                        <div class="text-center p-4 rounded-xl" style="background: var(--dark-3);">
                                            <i class="fas fa-envelope text-2xl text-primary mb-2"></i>
                                            <div class="font-semibold">Email</div>
                                            <div class="text-sm text-muted">support@rawwealthy.com</div>
                                        </div>
                                        <div class="text-center p-4 rounded-xl" style="background: var(--dark-3);">
                                            <i class="fas fa-phone text-2xl text-primary mb-2"></i>
                                            <div class="font-semibold">Phone</div>
                                            <div class="text-sm text-muted">+234 902 802 2559</div>
                                        </div>
                                        <div class="text-center p-4 rounded-xl" style="background: var(--dark-3);">
                                            <i class="fab fa-whatsapp text-2xl text-primary mb-2"></i>
                                            <div class="font-semibold">WhatsApp</div>
                                            <div class="text-sm text-muted">+234 902 802 2559</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Guides Section -->
                    <div class="support-content d-none" id="guidesSection">
                        <div class="hero-card">
                            <div class="card-header mb-4">
                                <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">Helpful Guides</h3>
                            </div>
                            <div class="card-body">
                                <div class="d-grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-xl);">
                                    <div class="guide-card p-4 rounded-xl" style="background: var(--dark-3); border-left: 4px solid var(--primary);">
                                        <h4 class="font-semibold mb-2">Getting Started</h4>
                                        <p class="text-sm text-muted mb-3">Learn how to maximize your referral earnings</p>
                                        <button class="btn btn-sm btn-outline">Read Guide</button>
                                    </div>
                                    <div class="guide-card p-4 rounded-xl" style="background: var(--dark-3); border-left: 4px solid var(--success);">
                                        <h4 class="font-semibold mb-2">Withdrawal Process</h4>
                                        <p class="text-sm text-muted mb-3">Step-by-step guide to withdrawing earnings</p>
                                        <button class="btn btn-sm btn-outline">Read Guide</button>
                                    </div>
                                    <div class="guide-card p-4 rounded-xl" style="background: var(--dark-3); border-left: 4px solid var(--warning);">
                                        <h4 class="font-semibold mb-2">Tier System</h4>
                                        <p class="text-sm text-muted mb-3">Understand how the tier and reward system works</p>
                                        <button class="btn btn-sm btn-outline">Read Guide</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tickets Section -->
                    <div class="support-content d-none" id="ticketsSection">
                        <div class="hero-card">
                            <div class="card-header mb-4">
                                <h3 class="display-2" style="font-size: 1.5rem; margin: 0;">My Support Tickets</h3>
                                <button class="btn btn-primary" id="newTicketBtn">
                                    <i class="fas fa-plus"></i> New Ticket
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="empty-state">
                                    <div class="empty-state-icon">
                                        <i class="fas fa-ticket-alt"></i>
                                    </div>
                                    <h4 class="empty-state-title">No Support Tickets</h4>
                                    <p class="empty-state-text">You haven't created any support tickets yet</p>
                                    <button class="btn btn-primary mt-4" id="createFirstTicket">
                                        <i class="fas fa-plus"></i> Create First Ticket
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <div class="logo mb-4">
                        <div class="logo-icon" style="width: 48px; height: 48px;">
                            <i class="fas fa-crown"></i>
                        </div>
                        <div class="logo-text">
                            <div class="logo-main">RAWWEALTHY</div>
                            <div class="logo-sub">Elite Referrals</div>
                        </div>
                    </div>
                    <p class="text-muted mb-4">
                        The ultimate referral challenge platform that rewards you for building wealth with friends.
                    </p>
                    <div class="d-flex gap-3">
                        <a href="#" class="btn btn-icon btn-outline">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="btn btn-icon btn-outline">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="btn btn-icon btn-outline">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="btn btn-icon btn-outline">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4 text-uppercase">Platform</h4>
                    <ul class="footer-links">
                        <li><a href="#dashboard" data-page="dashboard"><i class="fas fa-chevron-right"></i> Dashboard</a></li>
                        <li><a href="#rewards" data-page="rewards"><i class="fas fa-chevron-right"></i> Rewards</a></li>
                        <li><a href="#leaderboard" data-page="leaderboard"><i class="fas fa-chevron-right"></i> Leaderboard</a></li>
                        <li><a href="#transactions" data-page="transactions"><i class="fas fa-chevron-right"></i> Transactions</a></li>
                        <li><a href="#referrals" data-page="referrals"><i class="fas fa-chevron-right"></i> My Referrals</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4 text-uppercase">Support</h4>
                    <ul class="footer-links">
                        <li><a href="#support" data-page="support"><i class="fas fa-chevron-right"></i> Help Center</a></li>
                        <li><a href="#" id="contactSupport"><i class="fas fa-chevron-right"></i> Contact Us</a></li>
                        <li><a href="#" id="termsConditions"><i class="fas fa-chevron-right"></i> Terms & Conditions</a></li>
                        <li><a href="#" id="privacyPolicy"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                        <li><a href="#" id="faqLink"><i class="fas fa-chevron-right"></i> FAQ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4 text-uppercase">Contact Info</h4>
                    <ul class="footer-links">
                        <li><a href="mailto:support@rawwealthy.com"><i class="fas fa-envelope"></i> support@rawwealthy.com</a></li>
                        <li><a href="tel:+2349028022559"><i class="fas fa-phone"></i> +234 902 802 2559</a></li>
                        <li><a href="https://wa.me/2349028022559"><i class="fab fa-whatsapp"></i> WhatsApp</a></li>
                        <li><a href="#"><i class="fas fa-map-marker-alt"></i> Lagos, Nigeria</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 RawWealthy Elite Referral Platform. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <div class="modal-overlay" id="claimModal">
        <div class="modal modal-large">
            <button class="modal-close">&times;</button>
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="stat-icon mb-4" style="background: var(--gradient-success); width: 80px; height: 80px; margin: 0 auto; font-size: 2rem;">
                        <i class="fas fa-gift"></i>
                    </div>
                    <h2 class="display-2" style="font-size: 2rem;">Claim Your Reward!</h2>
                    <p class="text-muted">Fill in your details to receive your reward</p>
                </div>
                
                <form id="claimForm">
                    <div class="d-grid" style="grid-template-columns: 1fr 1fr; gap: var(--space-2xl);">
                        <div>
                            <div class="hero-card h-100">
                                <div class="p-4">
                                    <h4 id="claimRewardName" class="font-semibold mb-3">Reward Name</h4>
                                    <p class="text-muted mb-4" id="claimRewardDesc">Reward description</p>
                                    <div class="d-flex gap-2 mb-4">
                                        <span class="badge badge-primary" id="claimRewardTier">Tier</span>
                                        <span class="badge badge-success" id="claimRewardReferrals">0 Referrals</span>
                                    </div>
                                    <div class="p-3 rounded-lg" style="background: var(--dark-3);">
                                        <h5 class="font-semibold mb-2">Reward Details</h5>
                                        <ul class="text-sm text-muted">
                                            <li>Delivery within 7-14 working days</li>
                                            <li>Free shipping nationwide</li>
                                            <li>24/7 tracking available</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="form-group">
                                <label class="form-label">Full Name</label>
                                <input type="text" class="form-control" id="claimName" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Phone Number</label>
                                <input type="tel" class="form-control" id="claimPhone" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Email Address</label>
                                <input type="email" class="form-control" id="claimEmail" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Delivery Address</label>
                                <textarea class="form-control" id="claimAddress" rows="3" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Additional Notes (Optional)</label>
                                <textarea class="form-control" id="claimNotes" rows="2"></textarea>
                            </div>
                            
                            <button type="submit" class="btn btn-success btn-block" style="margin-top: var(--space-lg);">
                                <i class="fas fa-paper-plane"></i> Submit Claim Request
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="modal-overlay" id="shareModal">
        <div class="modal">
            <button class="modal-close">&times;</button>
            <div class="p-6">
                <div class="text-center mb-6">
                    <i class="fas fa-share-alt" style="font-size: 3rem; background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: var(--space-md);"></i>
                    <h2 class="display-2" style="font-size: 2rem;">Share Referral Link</h2>
                    <p class="text-muted">Share your link to start earning rewards</p>
                </div>
                
                <div class="mb-6">
                    <label class="form-label mb-2">Your Referral Link</label>
                    <div class="d-flex gap-2">
                        <input type="text" class="form-control" id="shareLinkInput" readonly>
                        <button class="btn btn-primary" id="copyShareLink">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label class="form-label mb-2">Share Message</label>
                    <textarea class="form-control" id="shareMessage" rows="3">Join RawWealthy Elite using my referral link and earn amazing rewards! Sign up now to get started with your wealth creation journey.</textarea>
                </div>
                
                <div class="d-grid" style="grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: var(--space-md);">
                    <button class="btn btn-outline" data-share-platform="whatsapp">
                        <i class="fab fa-whatsapp"></i> WhatsApp
                    </button>
                    <button class="btn btn-outline" data-share-platform="telegram">
                        <i class="fab fa-telegram"></i> Telegram
                    </button>
                    <button class="btn btn-outline" data-share-platform="facebook">
                        <i class="fab fa-facebook"></i> Facebook
                    </button>
                    <button class="btn btn-outline" data-share-platform="twitter">
                        <i class="fab fa-twitter"></i> Twitter
                    </button>
                    <button class="btn btn-outline" data-share-platform="email">
                        <i class="fas fa-envelope"></i> Email
                    </button>
                    <button class="btn btn-outline" data-share-platform="copy">
                        <i class="fas fa-copy"></i> Copy Text
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Withdrawal Modal -->
    <div class="modal-overlay" id="withdrawModal">
        <div class="modal">
            <button class="modal-close">&times;</button>
            <div class="p-6">
                <div class="text-center mb-6">
                    <i class="fas fa-wallet" style="font-size: 3rem; background: var(--gradient-success); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: var(--space-md);"></i>
                    <h2 class="display-2" style="font-size: 2rem;">Withdraw Earnings</h2>
                    <p class="text-muted">Transfer your earnings to your bank account</p>
                </div>
                
                <form id="withdrawForm">
                    <div class="mb-6">
                        <div class="d-flex justify-between align-center mb-4">
                            <span class="font-semibold">Available Balance</span>
                            <span class="text-2xl font-bold text-gradient-success" id="withdrawBalance">0.00</span>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Amount to Withdraw</label>
                            <input type="number" class="form-control" id="withdrawAmount" placeholder="Enter amount" min="1000" required>
                            <div class="text-xs text-muted mt-1">Minimum withdrawal: 1,000</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Bank Name</label>
                            <select class="form-control" id="withdrawBank" required>
                                <option value="">Select Bank</option>
                                <option value="access">Access Bank</option>
                                <option value="zenith">Zenith Bank</option>
                                <option value="gtb">GTBank</option>
                                <option value="uba">UBA</option>
                                <option value="firstbank">First Bank</option>
                                <option value="fidelity">Fidelity Bank</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Account Number</label>
                            <input type="text" class="form-control" id="withdrawAccount" placeholder="Enter account number" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Account Name</label>
                            <input type="text" class="form-control" id="withdrawAccountName" placeholder="Account holder name" readonly>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Withdrawal Pin</label>
                            <input type="password" class="form-control" id="withdrawPin" placeholder="Enter your 4-digit PIN" maxlength="4" required>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-success btn-block">
                        <i class="fas fa-paper-plane"></i> Process Withdrawal
                    </button>
                    
                    <div class="text-center mt-4 text-sm text-muted">
                        <p>Processing time: 24-48 hours</p>
                        <p>Transaction fee: 50</p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- ===== FANCY LOADING SPINNER OVERLAY ===== -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- JavaScript (updated with new phone number and fancy spinner) -->
    <script>
        // ==============================================
        // RAWWEALTHY ELITE v5.0 - Enhanced & Upgraded
        // Ultra Modern Design with Full Mobile Support
        // ==============================================

        // Enhanced Configuration
        const CONFIG = {
            APP_VERSION: '5.0.0',
            API_BASE_URL: window.location.origin.includes('localhost') 
                ? 'http://localhost:10000' 
                : 'https://real-wealthy-1.onrender.com',
            ENDPOINTS: {
                LOGIN: '/api/auth/login',
                REGISTER: '/api/auth/register',
                PROFILE: '/api/profile',
                INVESTMENTS: '/api/investments',
                DEPOSITS: '/api/deposits',
                WITHDRAWALS: '/api/withdrawals',
                REFERRALS: '/api/referrals/stats',
                LEADERBOARD: '/api/admin/users',
                TRANSACTIONS: '/api/transactions',
                NOTIFICATIONS: '/api/notifications',
                UPLOAD: '/api/upload',
                SUPPORT: '/api/support'
            },
            REWARDS: [
                {
                    id: 1,
                    name: "500 Airtime/Data Bonus",
                    description: "Instant airtime or data bonus for your mobile line",
                    requiredReferrals: 5,
                    type: "digital",
                    tier: "Bronze",
                    image: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 2,
                    name: "1,500 Wallet Credit",
                    description: "Credit added to your RawWealthy wallet",
                    requiredReferrals: 10,
                    type: "digital",
                    tier: "Bronze",
                    image: "https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 3,
                    name: "RawWealthy Branded T-Shirt",
                    description: "Premium quality branded t-shirt",
                    requiredReferrals: 15,
                    type: "merchandise",
                    tier: "Silver",
                    image: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 4,
                    name: "5,000 Investment Bonus",
                    description: "Bonus credit for your investment portfolio",
                    requiredReferrals: 25,
                    type: "digital",
                    tier: "Silver",
                    image: "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 5,
                    name: "Bluetooth Speaker",
                    description: "Portable wireless Bluetooth speaker",
                    requiredReferrals: 30,
                    type: "electronics",
                    tier: "Silver",
                    image: "https://images.unsplash.com/photo-1546435770-a3e426bf472b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 6,
                    name: "Wireless Mouse + Mousepad",
                    description: "Ergonomic wireless mouse with gaming mousepad",
                    requiredReferrals: 40,
                    type: "electronics",
                    tier: "Gold",
                    image: "https://images.unsplash.com/photo-1527814050087-3793815479db?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 7,
                    name: "Mini Ring Light/Tripod",
                    description: "Professional lighting for content creators",
                    requiredReferrals: 60,
                    type: "electronics",
                    tier: "Gold",
                    image: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 8,
                    name: "Branded Backpack",
                    description: "Premium quality branded backpack",
                    requiredReferrals: 80,
                    type: "merchandise",
                    tier: "Gold",
                    image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 9,
                    name: "Tablet Device",
                    description: "Latest Android tablet with premium features",
                    requiredReferrals: 120,
                    type: "electronics",
                    tier: "Platinum",
                    image: "https://images.unsplash.com/photo-1546054454-aa26e2b734c7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 10,
                    name: "Android Phone Upgrade",
                    description: "Mid-range Android smartphone",
                    requiredReferrals: 150,
                    type: "electronics",
                    tier: "Platinum",
                    image: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 11,
                    name: "Home Router + 1-Month Data",
                    description: "4G router with 1-month unlimited data",
                    requiredReferrals: 180,
                    type: "electronics",
                    tier: "Platinum",
                    image: "https://images.unsplash.com/photo-1614332287897-cdc485fa562d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 12,
                    name: "Cash Reward/Investment Credit",
                    description: "Choice of cash or investment credit",
                    requiredReferrals: 250,
                    type: "financial",
                    tier: "Diamond",
                    image: "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 13,
                    name: "Gaming Headset",
                    description: "Professional gaming headset with mic",
                    requiredReferrals: 350,
                    type: "electronics",
                    tier: "Diamond",
                    image: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 14,
                    name: "Electric Kettle + Microwave",
                    description: "Kitchen appliance combo",
                    requiredReferrals: 600,
                    type: "appliances",
                    tier: "Elite",
                    image: "https://images.unsplash.com/photo-1584132967334-10e028bd69f7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 15,
                    name: "Solar Power Bank",
                    description: "High-capacity solar-charged power bank",
                    requiredReferrals: 800,
                    type: "electronics",
                    tier: "Elite",
                    image: "https://images.unsplash.com/photo-1566807380483-50e2a5c08f1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 16,
                    name: "Generator/Solar Inverter Kit",
                    description: "Power backup solution for your home",
                    requiredReferrals: 1500,
                    type: "appliances",
                    tier: "Legendary",
                    image: "https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 17,
                    name: "Motorcycle",
                    description: "Brand new 125cc motorcycle",
                    requiredReferrals: 2000,
                    type: "vehicle",
                    tier: "Legendary",
                    image: "https://images.unsplash.com/photo-1558981285-6f0c94958bb6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 18,
                    name: "SUV (Used, Verified Condition)",
                    description: "Quality used SUV in excellent condition",
                    requiredReferrals: 7000,
                    type: "vehicle",
                    tier: "Mythic",
                    image: "https://images.unsplash.com/photo-1549399542-7e3f8b79c341?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 19,
                    name: "Business Startup Grant",
                    description: "Funding for your business idea",
                    requiredReferrals: 12000,
                    type: "financial",
                    tier: "Mythic",
                    image: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                },
                {
                    id: 20,
                    name: "Duplex House (RawWealthy Estate)",
                    description: "Modern duplex in RawWealthy estate",
                    requiredReferrals: 25000,
                    type: "property",
                    tier: "God-Tier",
                    image: "https://images.unsplash.com/photo-1518780664697-55e3ad937233?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                }
            ],
            SUPPORT_QUESTIONS: [
                {
                    question: "How do I earn from referrals?",
                    answer: "You earn a commission for every person who signs up using your referral link and makes their first investment. The commission rate varies based on your tier level (Bronze: 5%, Silver: 7%, Gold: 10%, Platinum: 12%, Diamond: 15%, Elite: 18%, Legendary: 20%, Mythic: 25%, God-Tier: 30%)."
                },
                {
                    question: "When can I withdraw my earnings?",
                    answer: "You can withdraw your available balance anytime through the Withdraw section. Processing time is 24-48 hours for bank transfers. Minimum withdrawal amount is 1,000 and there's a 50 transaction fee per withdrawal."
                },
                {
                    question: "How do I track my referrals?",
                    answer: "You can track all your referrals in the 'My Referrals' section. This shows you the status of each referral, their activity, and the earnings generated from each one."
                },
                {
                    question: "What are the reward tiers?",
                    answer: "Rewards are divided into 9 tiers: Bronze, Silver, Gold, Platinum, Diamond, Elite, Legendary, Mythic, and God-Tier. Each tier requires a specific number of referrals and offers increasingly valuable rewards."
                },
                {
                    question: "How long does it take to receive my reward?",
                    answer: "Once claimed, physical rewards are delivered within 7-14 working days nationwide. Digital rewards are credited instantly to your account after verification."
                }
            ]
        };

        // Enhanced State Management
        class StateManager {
            constructor() {
                this.currentUser = null;
                this.token = localStorage.getItem('token');
                this.userReferrals = 0;
                this.referralEarnings = 0;
                this.claimedRewards = JSON.parse(localStorage.getItem('claimedRewards')) || [];
                this.rewards = [];
                this.leaderboard = [];
                this.transactions = [];
                this.theme = localStorage.getItem('theme') || 'dark';
                this.lastDataUpdate = null;
                this.isMobile = window.innerWidth < 768;
            }

            saveUser(user) {
                this.currentUser = user;
                localStorage.setItem('user', JSON.stringify(user));
            }

            saveToken(token) {
                this.token = token;
                localStorage.setItem('token', token);
            }

            loadUser() {
                const savedUser = localStorage.getItem('user');
                if (savedUser) {
                    this.currentUser = JSON.parse(savedUser);
                    return true;
                }
                return false;
            }

            clear() {
                this.currentUser = null;
                this.token = null;
                this.userReferrals = 0;
                this.referralEarnings = 0;
                this.transactions = [];
                localStorage.removeItem('user');
                localStorage.removeItem('token');
                localStorage.removeItem('claimedRewards');
                localStorage.removeItem('theme');
            }

            isLoggedIn() {
                return !!this.token && !!this.currentUser;
            }

            updateReferralStats(referrals, earnings) {
                this.userReferrals = referrals;
                this.referralEarnings = earnings;
            }

            checkMobile() {
                this.isMobile = window.innerWidth < 768;
                return this.isMobile;
            }
        }

        // Enhanced API Service
        class APIService {
            constructor(state) {
                this.state = state;
                this.baseURL = CONFIG.API_BASE_URL;
                this.cache = new Map();
            }

            async request(endpoint, options = {}) {
                const url = `${this.baseURL}${endpoint}`;
                const cacheKey = `${endpoint}-${JSON.stringify(options.body || {})}`;
                
                // Check cache for GET requests
                if (options.method === 'GET' && this.cache.has(cacheKey)) {
                    const cached = this.cache.get(cacheKey);
                    if (Date.now() - cached.timestamp < 30000) { // 30 second cache
                        return cached.data;
                    }
                }

                const headers = {
                    'Content-Type': 'application/json',
                    ...options.headers
                };

                if (this.state.token) {
                    headers['Authorization'] = `Bearer ${this.state.token}`;
                }

                try {
                    const response = await fetch(url, {
                        ...options,
                        headers
                    });

                    if (response.status === 401) {
                        this.state.clear();
                        window.location.hash = '#login';
                        throw new Error('Session expired. Please login again.');
                    }

                    const data = await response.json();

                    if (!response.ok) {
                        throw new Error(data.message || 'API request failed');
                    }

                    // Cache successful GET responses
                    if (options.method === 'GET' && data.success) {
                        this.cache.set(cacheKey, {
                            data,
                            timestamp: Date.now()
                        });
                    }

                    return data;
                } catch (error) {
                    console.error('API Error:', error);
                    throw error;
                }
            }

            async login(email, password) {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.LOGIN, {
                        method: 'POST',
                        body: JSON.stringify({ email, password })
                    });

                    if (data.success && data.data.token) {
                        this.state.saveToken(data.data.token);
                        this.state.saveUser(data.data.user);
                        this.clearCache(); // Clear cache on login
                        return data;
                    }
                    throw new Error('Invalid response from server');
                } catch (error) {
                    throw error;
                }
            }

            async register(userData) {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.REGISTER, {
                        method: 'POST',
                        body: JSON.stringify(userData)
                    });

                    if (data.success && data.data.token) {
                        this.state.saveToken(data.data.token);
                        this.state.saveUser(data.data.user);
                        this.clearCache();
                        return data;
                    }
                    throw new Error('Registration failed');
                } catch (error) {
                    throw error;
                }
            }

            async getProfile() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.PROFILE);
                    if (data.success) {
                        this.state.saveUser(data.data.user);
                        return data.data;
                    }
                    throw new Error('Failed to fetch profile');
                } catch (error) {
                    throw error;
                }
            }

            async getReferralStats() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.REFERRALS);
                    if (data.success) {
                        this.state.updateReferralStats(
                            data.data.stats.total_referrals || 0,
                            data.data.stats.referral_earnings || 0
                        );
                        return data.data;
                    }
                    throw new Error('Failed to fetch referral stats');
                } catch (error) {
                    // Fallback to mock data for demo
                    return {
                        stats: {
                            total_referrals: Math.floor(Math.random() * 100),
                            referral_earnings: Math.floor(Math.random() * 50000),
                            referral_code: this.state.currentUser?.referral_code || 'RW' + Date.now().toString().slice(-6),
                            referral_link: `${window.location.origin}/register?ref=${this.state.currentUser?.referral_code || 'demo'}`
                        }
                    };
                }
            }

            async getTransactions() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.TRANSACTIONS);
                    if (data.success) {
                        this.state.transactions = data.data.transactions || [];
                        return data.data;
                    }
                    throw new Error('Failed to fetch transactions');
                } catch (error) {
                    // Return mock transactions for demo
                    const mockTransactions = this.generateMockTransactions();
                    this.state.transactions = mockTransactions;
                    return { transactions: mockTransactions };
                }
            }

            generateMockTransactions() {
                const types = ['deposit', 'withdrawal', 'referral', 'bonus'];
                const statuses = ['completed', 'pending', 'failed'];
                const descriptions = [
                    'Referral Bonus - User Registration',
                    'Deposit via Bank Transfer',
                    'Withdrawal to Bank Account',
                    'Monthly Bonus Reward',
                    'Referral Bonus - Investment Made'
                ];

                const transactions = [];
                const count = 15;
                
                for (let i = 0; i < count; i++) {
                    const type = types[Math.floor(Math.random() * types.length)];
                    const status = statuses[Math.floor(Math.random() * statuses.length)];
                    const amount = type === 'withdrawal' ? 
                        -Math.floor(Math.random() * 50000) : 
                        Math.floor(Math.random() * 50000);
                    
                    transactions.push({
                        id: `TRX${Date.now()}${i}`,
                        type,
                        description: descriptions[Math.floor(Math.random() * descriptions.length)],
                        amount,
                        status,
                        date: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),
                        reference: `REF${Math.random().toString(36).substr(2, 9).toUpperCase()}`
                    });
                }
                
                return transactions.sort((a, b) => new Date(b.date) - new Date(a.date));
            }

            async getLeaderboard() {
                try {
                    const data = await this.request(CONFIG.ENDPOINTS.LEADERBOARD);
                    if (data.success) {
                        const leaderboard = data.data.users
                            .filter(user => user.role !== 'admin' && user.role !== 'super_admin')
                            .map(user => ({
                                id: user._id,
                                name: user.full_name,
                                email: user.email,
                                referrals: user.referral_count || 0,
                                earnings: user.referral_earnings || 0,
                                tier: this.getTier(user.referral_count || 0),
                                isCurrentUser: user._id === this.state.currentUser?._id
                            }))
                            .sort((a, b) => b.referrals - a.referrals)
                            .slice(0, 50);
                        
                        this.state.leaderboard = leaderboard;
                        return leaderboard;
                    }
                    throw new Error('Failed to fetch leaderboard');
                } catch (error) {
                    return this.generateMockLeaderboard();
                }
            }

            generateMockLeaderboard() {
                const names = [
                    'Chukwuemeka Okoro', 'Aisha Bello', 'Olumide Adekunle', 'Fatima Yusuf',
                    'Ibrahim Suleiman', 'Chioma Nwosu', 'Musa Abdullahi', 'Grace Okafor',
                    'Samuel Chukwu', 'Amina Mohammed', 'David Ojo', 'Blessing Adeyemi',
                    'Peter Onyekachi', 'Maryam Ibrahim', 'John Okeke', 'Peace Eze'
                ];

                const leaderboard = names.map((name, index) => ({
                    id: index + 1,
                    name: name,
                    referrals: Math.floor(Math.random() * 1000),
                    earnings: Math.floor(Math.random() * 500000),
                    tier: this.getTier(Math.floor(Math.random() * 1000)),
                    isCurrentUser: false
                })).sort((a, b) => b.referrals - a.referrals);

                if (this.state.currentUser) {
                    leaderboard.push({
                        id: 999,
                        name: this.state.currentUser.full_name,
                        referrals: this.state.userReferrals,
                        earnings: this.state.referralEarnings,
                        tier: this.getTier(this.state.userReferrals),
                        isCurrentUser: true
                    });
                    leaderboard.sort((a, b) => b.referrals - a.referrals);
                }

                this.state.leaderboard = leaderboard;
                return leaderboard;
            }

            getTier(referrals) {
                if (referrals >= 25000) return 'God-Tier';
                if (referrals >= 12000) return 'Mythic';
                if (referrals >= 7000) return 'Legendary';
                if (referrals >= 2000) return 'Legendary';
                if (referrals >= 1500) return 'Legendary';
                if (referrals >= 800) return 'Elite';
                if (referrals >= 600) return 'Elite';
                if (referrals >= 350) return 'Diamond';
                if (referrals >= 250) return 'Diamond';
                if (referrals >= 180) return 'Platinum';
                if (referrals >= 150) return 'Platinum';
                if (referrals >= 120) return 'Platinum';
                if (referrals >= 80) return 'Gold';
                if (referrals >= 60) return 'Gold';
                if (referrals >= 40) return 'Gold';
                if (referrals >= 30) return 'Silver';
                if (referrals >= 25) return 'Silver';
                if (referrals >= 15) return 'Silver';
                if (referrals >= 10) return 'Bronze';
                return 'Bronze';
            }

            clearCache() {
                this.cache.clear();
            }
        }

        // Enhanced UI Manager
        class UIManager {
            constructor(state, api) {
                this.state = state;
                this.api = api;
                this.currentPage = 'login';
                this.rewardsFilter = 'all';
                this.supportTab = 'faq';
                this.notificationId = 0;
                this.loadingOverlay = document.getElementById('loadingOverlay');
            }

            init() {
                this.setupEventListeners();
                this.setupTheme();
                this.setupScrollEffects();
                this.setupMobileDetection();
                this.checkAuth();
                this.setupServiceWorker();
            }

            setupEventListeners() {
                // Navigation
                document.querySelectorAll('.nav-link, .mobile-nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = link.getAttribute('data-page');
                        if (page === 'logout') {
                            this.handleLogout();
                            return;
                        }
                        if (page) {
                            this.navigateTo(page);
                        }
                    });
                });

                // Mobile menu
                const mobileBtn = document.getElementById('mobileMenuBtn');
                const mobileOverlay = document.getElementById('mobileNavOverlay');
                
                if (mobileBtn && mobileOverlay) {
                    mobileBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        mobileOverlay.classList.toggle('active');
                        mobileBtn.classList.toggle('active');
                        mobileBtn.innerHTML = mobileBtn.classList.contains('active') 
                            ? '<i class="fas fa-times"></i>' 
                            : '<i class="fas fa-bars"></i>';
                    });

                    // Close mobile menu when clicking outside
                    document.addEventListener('click', (e) => {
                        if (mobileOverlay.classList.contains('active') && 
                            !e.target.closest('#mobileNavOverlay') && 
                            !e.target.closest('#mobileMenuBtn')) {
                            mobileOverlay.classList.remove('active');
                            mobileBtn.classList.remove('active');
                            mobileBtn.innerHTML = '<i class="fas fa-bars"></i>';
                        }
                    });
                }

                // Mobile logout
                const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');
                if (mobileLogoutBtn) {
                    mobileLogoutBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleLogout();
                    });
                }

                // Theme toggle
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', () => {
                        this.toggleTheme();
                    });
                }

                // Login form
                const loginForm = document.getElementById('loginForm');
                if (loginForm) {
                    loginForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleLogin();
                    });
                }

                // Password toggle
                const togglePassword = document.getElementById('togglePassword');
                if (togglePassword) {
                    togglePassword.addEventListener('click', () => {
                        const passwordInput = document.getElementById('loginPassword');
                        const type = passwordInput.type === 'password' ? 'text' : 'password';
                        passwordInput.type = type;
                        togglePassword.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
                    });
                }

                // Register form
                const registerForm = document.getElementById('registerForm');
                if (registerForm) {
                    registerForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        await this.handleRegister();
                    });
                }

                // Register password toggle
                const toggleRegisterPassword = document.getElementById('toggleRegisterPassword');
                if (toggleRegisterPassword) {
                    toggleRegisterPassword.addEventListener('click', () => {
                        const passwordInput = document.getElementById('registerPassword');
                        const type = passwordInput.type === 'password' ? 'text' : 'password';
                        passwordInput.type = type;
                        toggleRegisterPassword.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
                    });
                }

                // Show register link
                const showRegister = document.getElementById('showRegister');
                if (showRegister) {
                    showRegister.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.navigateTo('register');
                    });
                }

                // Show login link
                const showLogin = document.getElementById('showLogin');
                if (showLogin) {
                    showLogin.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.navigateTo('login');
                    });
                }

                // Logout
                const logoutBtn = document.getElementById('logoutBtn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleLogout();
                    });
                }

                // Share buttons
                document.querySelectorAll('[data-page]').forEach(btn => {
                    if (btn.getAttribute('data-page')) {
                        btn.addEventListener('click', (e) => {
                            e.preventDefault();
                            const page = btn.getAttribute('data-page');
                            this.navigateTo(page);
                        });
                    }
                });

                // Copy referral link
                const copyBtn = document.getElementById('copyReferralLink');
                if (copyBtn) {
                    copyBtn.addEventListener('click', () => {
                        this.copyToClipboard('referralLinkInput', 'Referral link copied!');
                    });
                }

                // Share modal
                const shareDashboardBtn = document.getElementById('shareDashboardLink');
                if (shareDashboardBtn) {
                    shareDashboardBtn.addEventListener('click', () => {
                        this.showShareModal();
                    });
                }

                // Share referral link button
                const shareReferralBtn = document.getElementById('shareReferralLink');
                if (shareReferralBtn) {
                    shareReferralBtn.addEventListener('click', () => {
                        this.showShareModal();
                    });
                }

                // Modal close buttons
                document.querySelectorAll('.modal-close').forEach(btn => {
                    btn.addEventListener('click', () => {
                        this.closeAllModals();
                    });
                });

                // Modal overlays
                document.querySelectorAll('.modal-overlay').forEach(overlay => {
                    overlay.addEventListener('click', (e) => {
                        if (e.target === overlay) {
                            this.closeAllModals();
                        }
                    });
                });

                // Reward filters
                document.querySelectorAll('[data-filter]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const filter = e.target.closest('[data-filter]').getAttribute('data-filter');
                        this.filterRewards(filter);
                    });
                });

                // Support tabs
                document.querySelectorAll('[data-support-tab]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const tab = e.target.closest('[data-support-tab]').getAttribute('data-support-tab');
                        this.switchSupportTab(tab);
                    });
                });

                // FAQ toggle
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.faq-question')) {
                        const faqItem = e.target.closest('.faq-item');
                        const answer = faqItem.querySelector('.faq-answer');
                        const icon = faqItem.querySelector('.faq-question i');
                        
                        if (answer.style.display === 'block') {
                            answer.style.display = 'none';
                            icon.className = 'fas fa-chevron-down';
                        } else {
                            answer.style.display = 'block';
                            icon.className = 'fas fa-chevron-up';
                        }
                    }
                });

                // Quick actions
                document.querySelectorAll('.action-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        const action = btn.getAttribute('href')?.replace('#', '') || btn.id;
                        this.handleQuickAction(action);
                    });
                });

                // Withdraw button
                const withdrawBtn = document.getElementById('withdrawBtn');
                if (withdrawBtn) {
                    withdrawBtn.addEventListener('click', () => {
                        this.showWithdrawModal();
                    });
                }

                // Quick withdraw
                const quickWithdraw = document.getElementById('quickWithdraw');
                if (quickWithdraw) {
                    quickWithdraw.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.showWithdrawModal();
                    });
                }

                // Refresh buttons
                const refreshButtons = ['refreshLeaderboard', 'refreshReferrals', 'refreshTransactions', 'refreshActivity'];
                refreshButtons.forEach(id => {
                    const btn = document.getElementById(id);
                    if (btn) {
                        btn.addEventListener('click', () => {
                            this.refreshPage();
                        });
                    }
                });

                // Start sharing button
                const startSharingBtn = document.getElementById('startSharingBtn');
                if (startSharingBtn) {
                    startSharingBtn.addEventListener('click', () => {
                        this.showShareModal();
                    });
                }

                // Contact support link
                const contactSupport = document.getElementById('contactSupport');
                if (contactSupport) {
                    contactSupport.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.navigateTo('support');
                        setTimeout(() => {
                            this.switchSupportTab('contact');
                        }, 100);
                    });
                }

                // FAQ link
                const faqLink = document.getElementById('faqLink');
                if (faqLink) {
                    faqLink.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.navigateTo('support');
                    });
                }

                // Terms and privacy
                const termsLink = document.getElementById('termsConditions');
                const privacyLink = document.getElementById('privacyPolicy');
                if (termsLink) termsLink.addEventListener('click', (e) => e.preventDefault());
                if (privacyLink) privacyLink.addEventListener('click', (e) => e.preventDefault());

                // Profile form
                const profileForm = document.getElementById('profileForm');
                if (profileForm) {
                    profileForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleProfileUpdate();
                    });
                }

                // Contact form
                const contactForm = document.getElementById('contactForm');
                if (contactForm) {
                    contactForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleContactSubmit();
                    });
                }

                // Create ticket buttons
                const newTicketBtn = document.getElementById('newTicketBtn');
                const createFirstTicket = document.getElementById('createFirstTicket');
                if (newTicketBtn) newTicketBtn.addEventListener('click', () => this.switchSupportTab('contact'));
                if (createFirstTicket) createFirstTicket.addEventListener('click', () => this.switchSupportTab('contact'));

                // Share platform buttons
                document.addEventListener('click', (e) => {
                    if (e.target.closest('[data-share-platform]')) {
                        const platform = e.target.closest('[data-share-platform]').getAttribute('data-share-platform');
                        this.shareToPlatform(platform);
                    }
                });

                // Withdraw form
                const withdrawForm = document.getElementById('withdrawForm');
                if (withdrawForm) {
                    withdrawForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        this.handleWithdraw();
                    });
                }

                // Bank account validation
                const accountInput = document.getElementById('withdrawAccount');
                if (accountInput) {
                    accountInput.addEventListener('blur', () => {
                        this.validateBankAccount();
                    });
                }

                // Window resize for mobile detection
                window.addEventListener('resize', () => {
                    this.state.checkMobile();
                    this.updateMobileUI();
                });

                // Prevent form submission on Enter in search fields
                const searchFields = ['searchReferrals'];
                searchFields.forEach(id => {
                    const field = document.getElementById(id);
                    if (field) {
                        field.addEventListener('keydown', (e) => {
                            if (e.key === 'Enter') {
                                e.preventDefault();
                            }
                        });
                    }
                });
            }

            setupTheme() {
                document.documentElement.setAttribute('data-theme', this.state.theme);
                const icon = document.querySelector('#themeToggle i');
                if (icon) {
                    icon.className = this.state.theme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
                }
            }

            setupScrollEffects() {
                // Navbar scroll effect
                let lastScroll = 0;
                window.addEventListener('scroll', () => {
                    const navbar = document.querySelector('.navbar');
                    const currentScroll = window.pageYOffset;
                    
                    if (currentScroll > 50) {
                        navbar.classList.add('scrolled');
                        
                        // Hide/show navbar on scroll
                        if (currentScroll > lastScroll && currentScroll > 100) {
                            navbar.style.transform = 'translateY(-100%)';
                        } else {
                            navbar.style.transform = 'translateY(0)';
                        }
                    } else {
                        navbar.classList.remove('scrolled');
                        navbar.style.transform = 'translateY(0)';
                    }
                    
                    lastScroll = currentScroll;
                });

                // Fade in animations
                const observerOptions = {
                    threshold: 0.05,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animate-fade-in');
                        }
                    });
                }, observerOptions);

                // Observe all cards and stats
                document.querySelectorAll('.stat-card, .reward-card, .hero-card, .chart-container').forEach(el => {
                    observer.observe(el);
                });
            }

            setupMobileDetection() {
                this.updateMobileUI();
            }

            updateMobileUI() {
                // Add mobile-specific classes
                if (this.state.isMobile) {
                    document.body.classList.add('mobile');
                } else {
                    document.body.classList.remove('mobile');
                }
            }

            setupServiceWorker() {
                // Register service worker for PWA capabilities
                if ('serviceWorker' in navigator) {
                    window.addEventListener('load', () => {
                        navigator.serviceWorker.register('/sw.js').catch(error => {
                            console.log('Service Worker registration failed:', error);
                        });
                    });
                }
            }

            toggleTheme() {
                this.state.theme = this.state.theme === 'dark' ? 'light' : 'dark';
                localStorage.setItem('theme', this.state.theme);
                this.setupTheme();
                this.showNotification(`Switched to ${this.state.theme} theme`, 'info');
            }

            async checkAuth() {
                if (this.state.isLoggedIn()) {
                    try {
                        await this.api.getProfile();
                        await this.loadDashboardData();
                        this.navigateTo('dashboard');
                    } catch (error) {
                        this.state.clear();
                        this.navigateTo('login');
                    }
                } else {
                    this.navigateTo('login');
                }
            }

            navigateTo(page) {
                // Close mobile menu
                const mobileOverlay = document.getElementById('mobileNavOverlay');
                const mobileBtn = document.getElementById('mobileMenuBtn');
                if (mobileOverlay && mobileOverlay.classList.contains('active')) {
                    mobileOverlay.classList.remove('active');
                    mobileBtn.classList.remove('active');
                    mobileBtn.innerHTML = '<i class="fas fa-bars"></i>';
                }

                // Update navigation
                document.querySelectorAll('.nav-link, .mobile-nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('data-page') === page) {
                        link.classList.add('active');
                    }
                });

                // Hide all pages
                document.querySelectorAll('.page').forEach(p => {
                    p.classList.remove('active');
                });

                // Show target page
                const targetPage = document.getElementById(`${page}Page`);
                if (targetPage) {
                    targetPage.classList.add('active');
                    this.currentPage = page;
                    window.location.hash = page;

                    // Load page data
                    this.loadPageData(page);
                    
                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }

            async loadPageData(page) {
                switch(page) {
                    case 'dashboard':
                        await this.loadDashboardData();
                        break;
                    case 'rewards':
                        await this.loadRewardsData();
                        break;
                    case 'leaderboard':
                        await this.loadLeaderboardData();
                        break;
                    case 'transactions':
                        await this.loadTransactionsData();
                        break;
                    case 'referrals':
                        await this.loadReferralsData();
                        break;
                    case 'profile':
                        await this.loadProfileData();
                        break;
                    case 'support':
                        await this.loadSupportData();
                        break;
                }
            }

            async loadDashboardData() {
                if (!this.state.currentUser) return;

                try {
                    // Update user info
                    const firstName = this.state.currentUser.full_name?.split(' ')[0] || 'User';
                    document.getElementById('dashboardUserName').textContent = firstName;
                    document.getElementById('userName').textContent = this.state.currentUser.full_name;
                    document.getElementById('mobileUserName').textContent = this.state.currentUser.full_name;
                    
                    const avatarText = this.getInitials(this.state.currentUser.full_name);
                    document.getElementById('userAvatar').textContent = avatarText;
                    document.getElementById('mobileUserAvatar').textContent = avatarText;
                    document.getElementById('dashboardUserAvatar').textContent = avatarText;

                    // Get referral stats
                    const referralStats = await this.api.getReferralStats();
                    
                    // Update stats with animations
                    this.animateCounter('totalReferrals', referralStats.stats.total_referrals);
                    this.animateCounter('referralEarnings', referralStats.stats.referral_earnings, true);
                    
                    // Calculate rewards earned
                    const earnedRewards = CONFIG.REWARDS.filter(r => 
                        referralStats.stats.total_referrals >= r.requiredReferrals
                    ).length;
                    this.animateCounter('rewardsEarned', earnedRewards);
                    
                    // Update leaderboard rank
                    const leaderboard = await this.api.getLeaderboard();
                    const userRank = leaderboard.findIndex(u => u.isCurrentUser) + 1;
                    this.updateElement('leaderboardRank', userRank || '-');
                    
                    // Update next reward progress
                    this.updateNextRewardProgress(referralStats.stats.total_referrals);
                    
                    // Update financial stats
                    const balance = this.state.currentUser.balance || 0;
                    const earnings = this.state.currentUser.total_earnings || 0;
                    const pending = this.state.currentUser.pending_investment_amount || 0;
                    
                    this.animateCounter('availableBalance', balance, true);
                    this.animateCounter('totalEarnings', earnings, true);
                    this.animateCounter('pendingInvestments', pending, true);
                    
                    // Update withdraw balance
                    document.getElementById('withdrawBalance').textContent = `${this.formatNumber(balance)}`;

                    // Update referral link
                    const referralLink = referralStats.stats.referral_link || 
                        `${window.location.origin}/register?ref=${this.state.currentUser.referral_code}`;
                    
                    const linkInput = document.getElementById('referralLinkInput');
                    if (linkInput) linkInput.value = referralLink;

                    const shareLinkInput = document.getElementById('shareLinkInput');
                    if (shareLinkInput) shareLinkInput.value = referralLink;

                    // Determine tier based on referrals
                    const tier = this.api.getTier(referralStats.stats.total_referrals || 0);
                    document.getElementById('userTier').textContent = tier;
                    document.getElementById('mobileUserTier').textContent = tier;

                    // Load recent activity
                    await this.loadRecentActivity();

                } catch (error) {
                    console.error('Error loading dashboard data:', error);
                    this.showNotification('Error loading dashboard data', 'error');
                }
            }

            async loadRecentActivity() {
                try {
                    const transactions = await this.api.getTransactions();
                    const activityFeed = document.getElementById('recentActivity');
                    
                    if (!activityFeed) return;

                    // Get recent transactions (max 5)
                    const recentTransactions = transactions.transactions.slice(0, 5);
                    
                    if (recentTransactions.length === 0) {
                        return; // Keep the empty state
                    }

                    let html = '';
                    recentTransactions.forEach(transaction => {
                        const date = new Date(transaction.date).toLocaleDateString('en-NG', {
                            day: 'numeric',
                            month: 'short',
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                        
                        const icon = this.getTransactionIcon(transaction.type);
                        const colorClass = this.getTransactionColor(transaction.type);
                        
                        html += `
                            <div class="activity-item">
                                <div class="activity-icon" style="background: ${colorClass};">
                                    <i class="${icon}"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">${transaction.description}</div>
                                    <div class="activity-time">${date}</div>
                                </div>
                                <div class="font-semibold ${transaction.amount > 0 ? 'text-success' : 'text-danger'}">
                                    ${transaction.amount > 0 ? '+' : ''}${this.formatNumber(Math.abs(transaction.amount))}
                                </div>
                            </div>
                        `;
                    });

                    activityFeed.innerHTML = html;

                } catch (error) {
                    console.error('Error loading recent activity:', error);
                }
            }

            getTransactionIcon(type) {
                switch(type) {
                    case 'deposit': return 'fas fa-arrow-down';
                    case 'withdrawal': return 'fas fa-arrow-up';
                    case 'referral': return 'fas fa-users';
                    case 'bonus': return 'fas fa-gift';
                    default: return 'fas fa-exchange-alt';
                }
            }

            getTransactionColor(type) {
                switch(type) {
                    case 'deposit': return 'var(--gradient-success)';
                    case 'withdrawal': return 'var(--gradient-warning)';
                    case 'referral': return 'var(--gradient-primary)';
                    case 'bonus': return 'var(--gradient-accent)';
                    default: return 'var(--gradient-teal)';
                }
            }

            async loadRewardsData() {
                try {
                    const referralStats = await this.api.getReferralStats();
                    const totalReferrals = referralStats.stats.total_referrals || 0;
                    
                    const container = document.getElementById('rewardsContainer');
                    if (!container) return;

                    container.innerHTML = '';

                    // Filter rewards based on current filter
                    let filteredRewards = CONFIG.REWARDS;
                    if (this.rewardsFilter === 'available') {
                        filteredRewards = CONFIG.REWARDS.filter(r => 
                            totalReferrals >= r.requiredReferrals && 
                            !this.state.claimedRewards.includes(r.id)
                        );
                    } else if (this.rewardsFilter === 'achieved') {
                        filteredRewards = CONFIG.REWARDS.filter(r => 
                            totalReferrals >= r.requiredReferrals
                        );
                    } else if (this.rewardsFilter === 'locked') {
                        filteredRewards = CONFIG.REWARDS.filter(r => 
                            totalReferrals < r.requiredReferrals
                        );
                    } else if (this.rewardsFilter === 'claimed') {
                        filteredRewards = CONFIG.REWARDS.filter(r => 
                            this.state.claimedRewards.includes(r.id)
                        );
                    }

                    if (filteredRewards.length === 0) {
                        container.innerHTML = `
                            <div class="empty-state">
                                <div class="empty-state-icon">
                                    <i class="fas fa-gift"></i>
                                </div>
                                <h4 class="empty-state-title">No Rewards Found</h4>
                                <p class="empty-state-text">No rewards match the current filter</p>
                            </div>
                        `;
                        return;
                    }

                    filteredRewards.forEach((reward, index) => {
                        const isAchieved = totalReferrals >= reward.requiredReferrals;
                        const isClaimed = this.state.claimedRewards.includes(reward.id);
                        const canClaim = isAchieved && !isClaimed;
                        const referralsNeeded = Math.max(0, reward.requiredReferrals - totalReferrals);

                        const card = document.createElement('div');
                        card.className = `reward-card ${isAchieved ? 'achieved' : 'locked'} ${canClaim ? 'available' : ''}`;
                        card.dataset.rewardId = reward.id;
                        card.style.animationDelay = `${index * 0.1}s`;

                        let badgeText = 'Locked';
                        let badgeClass = 'badge-outline';
                        
                        if (isClaimed) {
                            badgeText = 'Claimed';
                            badgeClass = 'badge-success';
                        } else if (canClaim) {
                            badgeText = 'Available';
                            badgeClass = 'badge-warning';
                        } else if (isAchieved) {
                            badgeText = 'Achieved';
                            badgeClass = 'badge-success';
                        }

                        card.innerHTML = `
                            <div class="reward-badge ${badgeClass}">${badgeText}</div>
                            <div class="reward-image">
                                <img src="${reward.image}" alt="${reward.name}" loading="lazy">
                            </div>
                            <div class="reward-content">
                                <span class="reward-tier">
                                    <i class="fas fa-star"></i> ${reward.tier} Tier
                                </span>
                                <h3 class="reward-title">${reward.name}</h3>
                                <p class="reward-description">${reward.description}</p>
                                
                                <div class="reward-requirements">
                                    <div class="requirement-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold">${this.formatNumber(reward.requiredReferrals)} Referrals</div>
                                        <div class="text-sm text-muted">Required to unlock</div>
                                    </div>
                                </div>
                                
                                ${!isAchieved ? `
                                    <div class="text-center p-3 rounded-lg mb-3" style="background: var(--dark-3);">
                                        <i class="fas fa-lock mr-2"></i>
                                        Need ${this.formatNumber(referralsNeeded)} more referrals
                                    </div>
                                ` : ''}
                                
                                ${canClaim ? `
                                    <button class="btn btn-success btn-block claim-btn mt-auto" data-reward-id="${reward.id}">
                                        <i class="fas fa-gift mr-2"></i> Claim Now
                                    </button>
                                ` : `
                                    <button class="btn btn-secondary btn-block mt-auto" disabled>
                                        <i class="fas ${isClaimed ? 'fa-check' : 'fa-lock'} mr-2"></i>
                                        ${isClaimed ? 'Already Claimed' : 'Locked'}
                                    </button>
                                `}
                            </div>
                        `;

                        container.appendChild(card);
                    });

                    // Add claim button listeners
                    document.querySelectorAll('.claim-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const rewardId = parseInt(e.target.closest('.claim-btn').dataset.rewardId);
                            this.showClaimModal(rewardId);
                        });
                    });

                } catch (error) {
                    console.error('Error loading rewards:', error);
                    this.showNotification('Error loading rewards', 'error');
                }
            }

            async loadLeaderboardData() {
                try {
                    const leaderboard = await this.api.getLeaderboard();
                    const table = document.getElementById('leaderboardTable');
                    const yourPosition = document.getElementById('yourPosition');
                    const monthlyTop3 = document.getElementById('monthlyTop3');
                    
                    if (!table || !yourPosition || !monthlyTop3) return;

                    // Clear existing content
                    table.innerHTML = '';
                    yourPosition.innerHTML = '';
                    monthlyTop3.innerHTML = '';

                    // Find current user's position
                    const userIndex = leaderboard.findIndex(u => u.isCurrentUser);
                    const userRank = userIndex + 1;
                    const userData = leaderboard[userIndex];

                    // Render leaderboard table
                    leaderboard.slice(0, 10).forEach((user, index) => {
                        const rank = index + 1;
                        const row = document.createElement('tr');
                        
                        if (user.isCurrentUser) {
                            row.style.background = 'var(--dark-3)';
                        }

                        const rankBadge = rank <= 3 ? 
                            `<div class="rank-badge rank-${rank}">${rank}</div>` : 
                            `<div class="text-center font-semibold">${rank}</div>`;

                        row.innerHTML = `
                            <td>${rankBadge}</td>
                            <td>
                                <div class="d-flex align-center gap-3">
                                    <div class="user-avatar">
                                        ${this.getInitials(user.name)}
                                    </div>
                                    <div>
                                        <div class="font-semibold">${user.name} ${user.isCurrentUser ? '<span class="text-primary">(You)</span>' : ''}</div>
                                        <div class="text-sm text-muted">${user.email}</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="font-semibold">${this.formatNumber(user.referrals)}</div>
                                <div class="text-sm text-muted">referrals</div>
                            </td>
                            <td>
                                <div class="font-semibold">${this.formatNumber(user.earnings)}</div>
                                <div class="text-sm text-muted">earnings</div>
                            </td>
                            <td>
                                <span class="badge badge-primary">${user.tier}</span>
                            </td>
                        `;

                        table.appendChild(row);
                    });

                    // Render user position card
                    if (userData) {
                        yourPosition.innerHTML = `
                            <div class="d-grid" style="grid-template-columns: auto 1fr; gap: var(--space-xl); align-items: center;">
                                <div class="rank-badge ${userRank <= 3 ? `rank-${userRank}` : ''}" style="width: 80px; height: 80px; font-size: 1.75rem;">
                                    ${userRank}
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-2">${userData.name}</h4>
                                    <div class="d-flex justify-between mb-2">
                                        <span class="text-muted">Referrals:</span>
                                        <span class="font-semibold">${this.formatNumber(userData.referrals)}</span>
                                    </div>
                                    <div class="d-flex justify-between mb-2">
                                        <span class="text-muted">Earnings:</span>
                                        <span class="font-semibold">${this.formatNumber(userData.earnings)}</span>
                                    </div>
                                    <div class="d-flex justify-between">
                                        <span class="text-muted">Tier:</span>
                                        <span class="font-semibold text-primary">${userData.tier}</span>
                                    </div>
                                </div>
                            </div>
                            ${userRank > 10 ? `
                                <div class="mt-4 p-4 rounded-xl glass-effect">
                                    <i class="fas fa-info-circle mr-2 text-primary"></i>
                                    You're ranked #${userRank}. Keep referring to climb higher!
                                </div>
                            ` : ''}
                        `;
                    }

                    // Render monthly top 3
                    const monthlyLeaders = leaderboard.slice(0, 3);
                    monthlyLeaders.forEach((user, index) => {
                        const rank = index + 1;
                        const card = document.createElement('div');
                        card.className = 'text-center p-6 rounded-xl';
                        card.style.background = 'var(--dark-3)';
                        card.style.border = '2px solid var(--glass-border)';
                        
                        card.innerHTML = `
                            <div class="rank-badge rank-${rank}" style="width: 60px; height: 60px; margin: 0 auto var(--space-md); font-size: 1.5rem;">
                                ${rank}
                            </div>
                            <h4 class="font-semibold mb-2">${user.name}</h4>
                            <div class="text-sm text-muted mb-3">${user.email}</div>
                            <div class="d-flex justify-center gap-4">
                                <div>
                                    <div class="font-semibold">${this.formatNumber(user.referrals)}</div>
                                    <div class="text-xs text-muted">Referrals</div>
                                </div>
                                <div>
                                    <div class="font-semibold">${this.formatNumber(user.earnings)}</div>
                                    <div class="text-xs text-muted">Earnings</div>
                                </div>
                            </div>
                        `;
                        
                        monthlyTop3.appendChild(card);
                    });

                } catch (error) {
                    console.error('Error loading leaderboard:', error);
                    this.showNotification('Error loading leaderboard', 'error');
                }
            }

            async loadTransactionsData() {
                try {
                    const transactions = await this.api.getTransactions();
                    const list = document.getElementById('transactionsList');
                    const emptyState = document.getElementById('transactionsEmpty');
                    
                    if (!list || !emptyState) return;

                    list.innerHTML = '';

                    if (transactions.transactions.length === 0) {
                        emptyState.classList.remove('d-none');
                        return;
                    }

                    emptyState.classList.add('d-none');

                    // Calculate summary
                    let totalDeposits = 0;
                    let totalWithdrawals = 0;
                    let totalReferralEarnings = 0;

                    transactions.transactions.forEach(transaction => {
                        if (transaction.type === 'deposit') totalDeposits += transaction.amount;
                        if (transaction.type === 'withdrawal') totalWithdrawals += Math.abs(transaction.amount);
                        if (transaction.type === 'referral') totalReferralEarnings += transaction.amount;
                    });

                    // Update summary
                    this.updateElement('totalTransactions', transactions.transactions.length);
                    this.updateElement('totalDeposits', `${this.formatNumber(totalDeposits)}`);
                    this.updateElement('totalWithdrawals', `${this.formatNumber(totalWithdrawals)}`);
                    this.updateElement('totalReferralEarnings', `${this.formatNumber(totalReferralEarnings)}`);

                    // Render transactions
                    transactions.transactions.forEach(transaction => {
                        const date = new Date(transaction.date).toLocaleDateString('en-NG', {
                            day: 'numeric',
                            month: 'short',
                            year: 'numeric'
                        });
                        
                        const statusClass = this.getStatusClass(transaction.status);
                        const amountClass = transaction.amount > 0 ? 'text-success' : 'text-danger';
                        const amountSign = transaction.amount > 0 ? '+' : '';
                        
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="p-4">${date}</td>
                            <td class="p-4">
                                <span class="badge ${this.getTransactionTypeClass(transaction.type)}">
                                    ${transaction.type.charAt(0).toUpperCase() + transaction.type.slice(1)}
                                </span>
                            </td>
                            <td class="p-4">${transaction.description}</td>
                            <td class="p-4 font-semibold ${amountClass}">
                                ${amountSign}${this.formatNumber(Math.abs(transaction.amount))}
                            </td>
                            <td class="p-4">
                                <span class="badge ${statusClass}">
                                    ${transaction.status.charAt(0).toUpperCase() + transaction.status.slice(1)}
                                </span>
                            </td>
                            <td class="p-4 text-sm text-muted">${transaction.reference}</td>
                        `;
                        
                        list.appendChild(row);
                    });

                } catch (error) {
                    console.error('Error loading transactions:', error);
                    this.showNotification('Error loading transactions', 'error');
                }
            }

            getTransactionTypeClass(type) {
                switch(type) {
                    case 'deposit': return 'badge-success';
                    case 'withdrawal': return 'badge-warning';
                    case 'referral': return 'badge-primary';
                    case 'bonus': return 'badge-accent';
                    default: return 'badge-info';
                }
            }

            getStatusClass(status) {
                switch(status) {
                    case 'completed': return 'badge-success';
                    case 'pending': return 'badge-warning';
                    case 'failed': return 'badge-danger';
                    default: return 'badge-info';
                }
            }

            async loadReferralsData() {
                try {
                    const referralStats = await this.api.getReferralStats();
                    const totalReferrals = referralStats.stats.total_referrals || 0;
                    
                    // Update referral stats
                    this.updateElement('referralsTotalCount', totalReferrals);
                    this.updateElement('activeReferralsCount', Math.floor(totalReferrals * 0.7)); // Mock: 70% active
                    this.updateElement('referralsTotalEarned', `${this.formatNumber(referralStats.stats.referral_earnings || 0)}`);
                    this.updateElement('conversionRate', `${Math.floor(Math.random() * 30) + 70}%`); // Mock: 70-100%
                    
                    // Update referral link
                    const referralLink = referralStats.stats.referral_link || 
                        `${window.location.origin}/register?ref=${this.state.currentUser.referral_code}`;
                    
                    document.getElementById('referralLinkInput').value = referralLink;
                    
                    // Show/hide empty state
                    const emptyState = document.getElementById('referralsEmpty');
                    const tableBody = document.getElementById('referralsListBody');
                    
                    if (totalReferrals === 0) {
                        emptyState.classList.remove('d-none');
                        tableBody.innerHTML = '';
                    } else {
                        emptyState.classList.add('d-none');
                        
                        // Generate mock referrals for demo
                        const mockReferrals = this.generateMockReferrals(totalReferrals);
                        let html = '';
                        
                        mockReferrals.forEach(ref => {
                            const joinDate = new Date(ref.joinDate).toLocaleDateString('en-NG', {
                                day: 'numeric',
                                month: 'short',
                                year: 'numeric'
                            });
                            
                            html += `
                                <tr>
                                    <td class="p-4 font-semibold">${ref.name}</td>
                                    <td class="p-4">${ref.email}</td>
                                    <td class="p-4">${joinDate}</td>
                                    <td class="p-4">
                                        <span class="badge ${ref.status === 'active' ? 'badge-success' : 'badge-warning'}">
                                            ${ref.status.charAt(0).toUpperCase() + ref.status.slice(1)}
                                        </span>
                                    </td>
                                    <td class="p-4 font-semibold">${this.formatNumber(ref.earnings)}</td>
                                    <td class="p-4">
                                        <span class="badge badge-primary">${ref.tier}</span>
                                    </td>
                                </tr>
                            `;
                        });
                        
                        tableBody.innerHTML = html;
                    }

                } catch (error) {
                    console.error('Error loading referrals data:', error);
                    this.showNotification('Error loading referrals data', 'error');
                }
            }

            generateMockReferrals(count) {
                const firstNames = ['John', 'Jane', 'David', 'Sarah', 'Michael', 'Emily', 'James', 'Jessica', 'Robert', 'Lisa'];
                const lastNames = ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Garcia', 'Miller', 'Davis', 'Rodriguez', 'Martinez'];
                const domains = ['gmail.com', 'yahoo.com', 'outlook.com', 'hotmail.com', 'icloud.com'];
                const statuses = ['active', 'pending'];
                
                const referrals = [];
                
                for (let i = 0; i < Math.min(count, 10); i++) {
                    const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
                    const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
                    const domain = domains[Math.floor(Math.random() * domains.length)];
                    
                    referrals.push({
                        name: `${firstName} ${lastName}`,
                        email: `${firstName.toLowerCase()}.${lastName.toLowerCase()}@${domain}`,
                        joinDate: new Date(Date.now() - Math.random() * 90 * 24 * 60 * 60 * 1000).toISOString(),
                        status: statuses[Math.floor(Math.random() * statuses.length)],
                        earnings: Math.floor(Math.random() * 50000),
                        tier: this.api.getTier(Math.floor(Math.random() * 100))
                    });
                }
                
                return referrals;
            }

            async loadProfileData() {
                if (!this.state.currentUser) return;

                try {
                    // Update profile info
                    document.getElementById('profileName').textContent = this.state.currentUser.full_name;
                    document.getElementById('profileEmail').textContent = this.state.currentUser.email;
                    document.getElementById('profileEmailInput').value = this.state.currentUser.email;
                    document.getElementById('profileAvatar').textContent = this.getInitials(this.state.currentUser.full_name);
                    
                    // Split full name for form
                    const nameParts = this.state.currentUser.full_name.split(' ');
                    document.getElementById('profileFirstName').value = nameParts[0] || '';
                    document.getElementById('profileLastName').value = nameParts.slice(1).join(' ') || '';
                    
                    // Format dates
                    const joinDate = new Date(this.state.currentUser.createdAt || Date.now());
                    document.getElementById('memberSinceDate').textContent = joinDate.toLocaleDateString('en-NG', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });

                    // Get referral stats
                    const referralStats = await this.api.getReferralStats();
                    document.getElementById('profileReferrals').textContent = referralStats.stats.total_referrals || 0;
                    document.getElementById('referralCode').textContent = this.state.currentUser.referral_code || 'RW' + Date.now().toString().slice(-6);

                    // Determine tier based on referrals
                    const tier = this.api.getTier(referralStats.stats.total_referrals || 0);
                    document.getElementById('memberTier').textContent = tier;

                    // Load achievement progress
                    this.loadAchievementProgress(referralStats.stats.total_referrals || 0);

                } catch (error) {
                    console.error('Error loading profile:', error);
                    this.showNotification('Error loading profile data', 'error');
                }
            }

            loadAchievementProgress(totalReferrals) {
                const container = document.getElementById('achievementProgress');
                if (!container) return;

                // Get next 5 rewards
                const upcomingRewards = CONFIG.REWARDS
                    .filter(reward => totalReferrals < reward.requiredReferrals)
                    .slice(0, 5);

                if (upcomingRewards.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-state-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h4 class="empty-state-title">All rewards achieved!</h4>
                            <p class="empty-state-text">You've unlocked all available rewards</p>
                        </div>
                    `;
                    return;
                }

                let html = '';
                upcomingRewards.forEach((reward, index) => {
                    const progress = Math.min((totalReferrals / reward.requiredReferrals) * 100, 100);
                    const needed = reward.requiredReferrals - totalReferrals;
                    
                    html += `
                        <div class="mb-5 animate-fade-in" style="animation-delay: ${index * 0.1}s;">
                            <div class="d-flex justify-between align-center mb-2">
                                <span class="font-semibold">${reward.name}</span>
                                <span class="font-semibold text-primary">${Math.round(progress)}%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${progress}%"></div>
                            </div>
                            <div class="d-flex justify-between mt-2 text-sm text-muted">
                                <span>${this.formatNumber(totalReferrals)}/${this.formatNumber(reward.requiredReferrals)}</span>
                                <span>${this.formatNumber(needed)} more needed</span>
                            </div>
                        </div>
                    `;
                });

                container.innerHTML = html;
            }

            async loadSupportData() {
                try {
                    // Load FAQ
                    const faqList = document.getElementById('faqList');
                    if (faqList) {
                        let html = '';
                        CONFIG.SUPPORT_QUESTIONS.forEach((faq, index) => {
                            html += `
                                <div class="faq-item mb-4">
                                    <div class="faq-question d-flex justify-between align-center p-4 rounded-lg" style="background: var(--dark-3); cursor: pointer;">
                                        <h4 class="font-semibold">${faq.question}</h4>
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <div class="faq-answer p-4" style="display: none;">
                                        <p>${faq.answer}</p>
                                    </div>
                                </div>
                            `;
                        });
                        faqList.innerHTML = html;
                    }

                    // Set initial tab
                    this.switchSupportTab(this.supportTab);

                } catch (error) {
                    console.error('Error loading support data:', error);
                    this.showNotification('Error loading support data', 'error');
                }
            }

            switchSupportTab(tab) {
                this.supportTab = tab;
                
                // Update active tab
                document.querySelectorAll('[data-support-tab]').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.getAttribute('data-support-tab') === tab) {
                        btn.classList.add('active');
                    }
                });
                
                // Show/hide content
                const sections = ['faq', 'contact', 'guides', 'tickets'];
                sections.forEach(section => {
                    const element = document.getElementById(`${section}Section`);
                    if (element) {
                        element.classList.toggle('d-none', section !== tab);
                    }
                });
            }

            updateNextRewardProgress(totalReferrals) {
                const nextReward = CONFIG.REWARDS.find(reward => totalReferrals < reward.requiredReferrals);
                
                if (nextReward) {
                    const progress = Math.min((totalReferrals / nextReward.requiredReferrals) * 100, 100);
                    const needed = nextReward.requiredReferrals - totalReferrals;
                    
                    this.updateElement('nextRewardName', nextReward.name);
                    this.updateElement('nextRewardStatus', `${nextReward.requiredReferrals} Referrals Needed`);
                    this.updateElement('progressText', `${this.formatNumber(totalReferrals)}/${this.formatNumber(nextReward.requiredReferrals)}`);
                    this.updateElement('referralsNeeded', this.formatNumber(needed));
                    
                    const progressBar = document.getElementById('progressBar');
                    if (progressBar) {
                        setTimeout(() => {
                            progressBar.style.width = `${progress}%`;
                        }, 300);
                    }
                } else {
                    this.updateElement('nextRewardName', 'All Rewards Achieved!');
                    this.updateElement('nextRewardStatus', 'Max Level');
                    this.updateElement('progressText', 'Complete');
                    this.updateElement('referralsNeeded', '0');
                    
                    const progressBar = document.getElementById('progressBar');
                    if (progressBar) {
                        progressBar.style.width = '100%';
                    }
                }
            }

            filterRewards(filter) {
                this.rewardsFilter = filter;
                
                // Update active filter button
                document.querySelectorAll('[data-filter]').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.getAttribute('data-filter') === filter) {
                        btn.classList.add('active');
                    }
                });
                
                // Update tab classes
                document.querySelectorAll('.tab').forEach(tab => {
                    if (tab.getAttribute('data-filter') === filter) {
                        tab.classList.remove('btn-outline');
                        tab.classList.add('btn-primary');
                    } else {
                        tab.classList.remove('btn-primary');
                        tab.classList.add('btn-outline');
                    }
                });
                
                // Reload rewards with filter
                this.loadRewardsData();
            }

            async handleLogin() {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                if (!email || !password) {
                    this.showNotification('Please fill in all fields', 'error');
                    return;
                }

                try {
                    this.showLoading(true);
                    await this.api.login(email, password);
                    await this.loadDashboardData();
                    this.navigateTo('dashboard');
                    this.showNotification('Login successful! Welcome back!', 'success');
                } catch (error) {
                    this.showNotification(error.message || 'Login failed', 'error');
                } finally {
                    this.showLoading(false);
                }
            }

            async handleRegister() {
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const phone = document.getElementById('registerPhone').value;
                const password = document.getElementById('registerPassword').value;
                const referralCode = document.getElementById('registerReferralCode').value;
                const acceptTerms = document.getElementById('acceptTerms').checked;
                
                if (!name || !email || !phone || !password) {
                    this.showNotification('Please fill in all required fields', 'error');
                    return;
                }

                if (!acceptTerms) {
                    this.showNotification('Please accept the Terms of Service and Privacy Policy', 'error');
                    return;
                }

                // Password validation
                if (password.length < 8) {
                    this.showNotification('Password must be at least 8 characters', 'error');
                    return;
                }

                try {
                    this.showLoading(true);
                    const userData = {
                        full_name: name,
                        email: email,
                        phone: phone,
                        password: password
                    };
                    
                    if (referralCode) {
                        userData.referral_code = referralCode;
                    }
                    
                    await this.api.register(userData);
                    await this.loadDashboardData();
                    this.navigateTo('dashboard');
                    this.showNotification('Registration successful! Welcome to RawWealthy Elite!', 'success');
                } catch (error) {
                    this.showNotification(error.message || 'Registration failed', 'error');
                } finally {
                    this.showLoading(false);
                }
            }

            handleLogout() {
                this.state.clear();
                this.navigateTo('login');
                this.showNotification('Logged out successfully', 'info');
            }

            showClaimModal(rewardId) {
                const reward = CONFIG.REWARDS.find(r => r.id === rewardId);
                if (!reward) return;

                const modal = document.getElementById('claimModal');
                if (!modal) return;

                // Update modal content
                document.getElementById('claimRewardName').textContent = reward.name;
                document.getElementById('claimRewardDesc').textContent = reward.description;
                document.getElementById('claimRewardTier').textContent = reward.tier;
                document.getElementById('claimRewardReferrals').textContent = `${this.formatNumber(reward.requiredReferrals)} Referrals`;

                // Pre-fill user info
                if (this.state.currentUser) {
                    document.getElementById('claimName').value = this.state.currentUser.full_name;
                    document.getElementById('claimEmail').value = this.state.currentUser.email;
                    document.getElementById('claimPhone').value = this.state.currentUser.phone || '';
                    document.getElementById('claimAddress').value = this.state.currentUser.address || '';
                }

                // Setup form submission
                const form = document.getElementById('claimForm');
                form.onsubmit = (e) => {
                    e.preventDefault();
                    this.submitClaim(reward);
                };

                // Show modal
                modal.classList.add('active');
            }

            submitClaim(reward) {
                const name = document.getElementById('claimName').value;
                const email = document.getElementById('claimEmail').value;
                const phone = document.getElementById('claimPhone').value;
                const address = document.getElementById('claimAddress').value;

                if (!name || !email || !phone || !address) {
                    this.showNotification('Please fill in all required fields', 'error');
                    return;
                }

                // Mark as claimed
                this.state.claimedRewards.push(reward.id);
                localStorage.setItem('claimedRewards', JSON.stringify(this.state.claimedRewards));

                // Show success message
                this.showNotification(`Claim submitted for ${reward.name}! Our team will contact you within 24 hours.`, 'success');

                // Close modal
                this.closeAllModals();

                // Refresh rewards
                this.loadRewardsData();
            }

            showShareModal() {
                const modal = document.getElementById('shareModal');
                if (!modal) return;

                modal.classList.add('active');

                // Setup share message
                const shareMessage = document.getElementById('shareMessage');
                if (shareMessage) {
                    shareMessage.value = `Join RawWealthy Elite using my referral link and earn amazing rewards! ${document.getElementById('shareLinkInput').value}`;
                }
            }

            shareToPlatform(platform) {
                const link = document.getElementById('shareLinkInput').value;
                const message = document.getElementById('shareMessage').value;
                
                let url;
                switch(platform) {
                    case 'whatsapp':
                        url = `https://wa.me/?text=${encodeURIComponent(message)}`;
                        break;
                    case 'telegram':
                        url = `https://t.me/share/url?url=${encodeURIComponent(link)}&text=${encodeURIComponent('Join RawWealthy Elite!')}`;
                        break;
                    case 'facebook':
                        url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(link)}`;
                        break;
                    case 'twitter':
                        url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(message)}`;
                        break;
                    case 'email':
                        url = `mailto:?subject=Join RawWealthy Elite&body=${encodeURIComponent(message)}`;
                        break;
                    case 'copy':
                        navigator.clipboard.writeText(message);
                        this.showNotification('Message copied to clipboard!', 'success');
                        return;
                    default:
                        return;
                }
                
                if (platform === 'email') {
                    window.location.href = url;
                } else {
                    window.open(url, '_blank', 'noopener,noreferrer');
                }
                
                this.showNotification(`Sharing to ${platform}...`, 'info');
            }

            showWithdrawModal() {
                const modal = document.getElementById('withdrawModal');
                if (!modal) return;

                // Check if user has enough balance
                const balance = parseFloat(this.state.currentUser?.balance || 0);
                if (balance < 1000) {
                    this.showNotification('Minimum withdrawal amount is 1,000', 'error');
                    return;
                }

                modal.classList.add('active');
            }

            async handleWithdraw() {
                const amount = parseFloat(document.getElementById('withdrawAmount').value);
                const bank = document.getElementById('withdrawBank').value;
                const account = document.getElementById('withdrawAccount').value;
                const pin = document.getElementById('withdrawPin').value;

                if (!amount || !bank || !account || !pin) {
                    this.showNotification('Please fill in all fields', 'error');
                    return;
                }

                if (amount < 1000) {
                    this.showNotification('Minimum withdrawal amount is 1,000', 'error');
                    return;
                }

                if (pin.length !== 4 || !/^\d+$/.test(pin)) {
                    this.showNotification('PIN must be 4 digits', 'error');
                    return;
                }

                try {
                    this.showLoading(true);
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1500));
                    
                    this.showNotification(`Withdrawal request of ${this.formatNumber(amount)} submitted successfully! Processing time: 24-48 hours.`, 'success');
                    this.closeAllModals();
                    
                    // Refresh dashboard data
                    await this.loadDashboardData();
                    
                } catch (error) {
                    this.showNotification(error.message || 'Withdrawal failed', 'error');
                } finally {
                    this.showLoading(false);
                }
            }

            validateBankAccount() {
                // Mock validation - in real app, this would call a bank validation API
                const account = document.getElementById('withdrawAccount').value;
                if (account.length >= 10) {
                    document.getElementById('withdrawAccountName').value = this.state.currentUser?.full_name || '';
                }
            }

            handleQuickAction(action) {
                switch(action) {
                    case 'share':
                        this.showShareModal();
                        break;
                    case 'withdraw':
                        this.showWithdrawModal();
                        break;
                    case 'referrals':
                        this.navigateTo('referrals');
                        break;
                    case 'support':
                        this.navigateTo('support');
                        break;
                    default:
                        console.log('Quick action:', action);
                }
            }

            handleProfileUpdate() {
                const firstName = document.getElementById('profileFirstName').value;
                const lastName = document.getElementById('profileLastName').value;
                const email = document.getElementById('profileEmailInput').value;
                const phone = document.getElementById('profilePhone').value;
                const address = document.getElementById('profileAddress').value;
                const dob = document.getElementById('profileDOB').value;

                if (!firstName || !lastName || !email || !phone) {
                    this.showNotification('Please fill in all required fields', 'error');
                    return;
                }

                // Update user data
                this.state.currentUser.full_name = `${firstName} ${lastName}`.trim();
                this.state.currentUser.email = email;
                this.state.currentUser.phone = phone;
                this.state.currentUser.address = address;
                if (dob) this.state.currentUser.dob = dob;

                this.state.saveUser(this.state.currentUser);

                // Update UI
                document.getElementById('profileName').textContent = this.state.currentUser.full_name;
                document.getElementById('profileEmail').textContent = email;
                document.getElementById('userName').textContent = this.state.currentUser.full_name;
                document.getElementById('mobileUserName').textContent = this.state.currentUser.full_name;
                document.getElementById('dashboardUserName').textContent = firstName;

                const avatarText = this.getInitials(this.state.currentUser.full_name);
                document.getElementById('userAvatar').textContent = avatarText;
                document.getElementById('mobileUserAvatar').textContent = avatarText;
                document.getElementById('profileAvatar').textContent = avatarText;

                this.showNotification('Profile updated successfully!', 'success');
            }

            handleContactSubmit() {
                const subject = document.getElementById('contactSubject').value;
                const category = document.getElementById('contactCategory').value;
                const message = document.getElementById('contactMessage').value;

                if (!subject || !category || !message) {
                    this.showNotification('Please fill in all fields', 'error');
                    return;
                }

                // Simulate API call
                setTimeout(() => {
                    this.showNotification('Support ticket submitted successfully! We\'ll get back to you within 24 hours.', 'success');
                    
                    // Clear form
                    document.getElementById('contactSubject').value = '';
                    document.getElementById('contactCategory').value = '';
                    document.getElementById('contactMessage').value = '';
                    
                    // Switch to tickets tab
                    this.switchSupportTab('tickets');
                }, 1000);
            }

            copyToClipboard(inputId, message) {
                const input = document.getElementById(inputId);
                if (!input) return;

                input.select();
                input.setSelectionRange(0, 99999);
                navigator.clipboard.writeText(input.value);
                
                this.showNotification(message, 'success');
            }

            closeAllModals() {
                document.querySelectorAll('.modal-overlay').forEach(modal => {
                    modal.classList.remove('active');
                });
            }

            showLoading(show) {
                if (this.loadingOverlay) {
                    this.loadingOverlay.classList.toggle('active', show);
                }
            }

            showNotification(message, type = 'info') {
                const container = document.getElementById('notificationContainer');
                if (!container) return;

                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.id = `notification-${++this.notificationId}`;
                notification.innerHTML = `
                    <div class="d-flex justify-between align-center mb-2">
                        <div class="font-semibold">
                            <i class="fas ${this.getNotificationIcon(type)} mr-2"></i>
                            ${type.charAt(0).toUpperCase() + type.slice(1)}
                        </div>
                        <button class="notification-close">&times;</button>
                    </div>
                    <div>${message}</div>
                `;

                container.appendChild(notification);

                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (document.getElementById(notification.id)) {
                        notification.style.opacity = '0';
                        notification.style.transform = 'translateX(100%)';
                        setTimeout(() => notification.remove(), 300);
                    }
                }, 5000);

                // Close button
                notification.querySelector('.notification-close').addEventListener('click', () => {
                    notification.remove();
                });
            }

            getNotificationIcon(type) {
                switch(type) {
                    case 'success': return 'fa-check-circle';
                    case 'error': return 'fa-exclamation-circle';
                    case 'warning': return 'fa-exclamation-triangle';
                    case 'info': return 'fa-info-circle';
                    default: return 'fa-info-circle';
                }
            }

            updateElement(id, value) {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = value;
                }
            }

            animateCounter(elementId, finalValue, isCurrency = false) {
                const element = document.getElementById(elementId);
                if (!element) return;

                const prefix = isCurrency ? '' : '';
                const currentValue = parseFloat(element.textContent.replace(/[^0-9.-]+/g, "")) || 0;
                const increment = finalValue / 50;
                let current = currentValue;

                const updateCounter = () => {
                    current += increment;
                    if (current >= finalValue) {
                        element.textContent = prefix + this.formatNumber(finalValue);
                        return;
                    }
                    element.textContent = prefix + this.formatNumber(Math.floor(current));
                    requestAnimationFrame(updateCounter);
                };

                updateCounter();
            }

            getInitials(name) {
                if (!name) return 'U';
                return name
                    .split(' ')
                    .map(word => word[0])
                    .join('')
                    .toUpperCase()
                    .substring(0, 2);
            }

            formatNumber(num) {
                return new Intl.NumberFormat('en-NG').format(num);
            }

            refreshPage() {
                this.api.clearCache();
                this.loadPageData(this.currentPage);
                this.showNotification('Page refreshed successfully', 'success');
            }
        }

        // Initialize Application
        document.addEventListener('DOMContentLoaded', () => {
            // Check for PWA install
            if ('serviceWorker' in navigator && window.matchMedia('(display-mode: standalone)').matches) {
                console.log('Running in PWA mode');
            }

            const state = new StateManager();
            const api = new APIService(state);
            const ui = new UIManager(state, api);
            
            // Make available globally for debugging
            window.RawWealthy = { state, api, ui, CONFIG };
            
            ui.init();
            
            // Handle hash changes
            window.addEventListener('hashchange', () => {
                const hash = window.location.hash.substring(1);
                if (hash && hash !== ui.currentPage) {
                    ui.navigateTo(hash);
                }
            });
            
            // Initial hash check
            const hash = window.location.hash.substring(1);
            if (hash) {
                ui.navigateTo(hash);
            } else if (state.isLoggedIn()) {
                ui.navigateTo('dashboard');
            }

            // Add offline/online detection
            window.addEventListener('online', () => {
                ui.showNotification('You are back online', 'success');
            });

            window.addEventListener('offline', () => {
                ui.showNotification('You are offline. Some features may not work.', 'warning');
            });
        });
    </script>
</body>
</html>
