<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raw Wealthy Investment Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        /* ALL YOUR EXISTING CSS REMAINS EXACTLY THE SAME */
        :root {
            --primary: #0f172a;
            --secondary: #1e293b;
            --accent-gold: #f59e0b;
            --accent-emerald: #10b981;
            --accent-blue: #3b82f6;
            --accent-purple: #8b5cf6;
            --text-light: #f8fafc;
            --text-muted: #94a3b8;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --radius: 12px;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;
            --gradient-primary: linear-gradient(135deg, #f59e0b, #d97706);
            --gradient-secondary: linear-gradient(135deg, #10b981, #059669);
            --gradient-blue: linear-gradient(135deg, #3b82f6, #2563eb);
            --gradient-purple: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--primary);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
            transition: var(--transition);
        }

        body.light-mode {
            --primary: #f8fafc;
            --secondary: #e2e8f0;
            --text-light: #0f172a;
            --text-muted: #64748b;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            background-color: var(--primary);
            color: var(--text-light);
        }

        /* Loading Spinner - EXISTING CODE */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(251, 191, 36, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent-gold);
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Toast Notifications - EXISTING CODE */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 9998;
            max-width: 350px;
        }
        
        .toast {
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            animation: slideInRight 0.3s, slideOutRight 0.5s 2.5s;
            animation-fill-mode: forwards;
            opacity: 0;
            transform: translateX(100%);
        }
        
        .toast.success {
            background: var(--success);
            color: white;
        }
        
        .toast.error {
            background: var(--error);
            color: white;
        }
        
        .toast.warning {
            background: var(--warning);
            color: white;
        }
        
        .toast.info {
            background: var(--info);
            color: white;
        }
        
        .toast i {
            margin-right: 0.5rem;
            font-size: 1.2rem;
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideOutRight {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }

        /* Navbar - EXISTING CODE */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 5%;
            background-color: rgba(15, 23, 42, 0.95);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .light-mode .navbar {
            background-color: rgba(248, 250, 252, 0.95);
        }
        
        .navbar.scrolled {
            padding: 1rem 5%;
            background-color: rgba(15, 23, 42, 0.98);
        }
        
        .light-mode .navbar.scrolled {
            background-color: rgba(248, 250, 252, 0.98);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .logo i {
            color: var(--accent-emerald);
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text-light);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
        }
        
        .light-mode .nav-links a {
            color: var(--text-light);
        }
        
        .nav-links a:hover {
            color: var(--accent-gold);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--accent-gold);
            transition: var(--transition);
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .nav-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .btn {
            padding: 0.7rem 1.5rem;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            outline: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--accent-emerald);
            color: var(--accent-emerald);
        }
        
        .btn-outline:hover:not(:disabled) {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .light-mode .btn-outline:hover:not(:disabled) {
            color: var(--text-light);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-gold), #f59e0b);
            color: var(--primary);
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(251, 191, 36, 0.3);
        }
        
        .theme-toggle {
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 0.5rem;
            border-radius: 50%;
        }
        
        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .theme-toggle {
            color: var(--text-light);
        }
        
        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }
        
        /* Mobile Menu - EXISTING CODE */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 280px;
            height: 100vh;
            background: var(--primary);
            z-index: 1001;
            padding: 2rem;
            transition: var(--transition);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .light-mode .mobile-menu {
            background: var(--primary);
        }
        
        .mobile-menu.active {
            right: 0;
        }
        
        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .mobile-menu-links {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .mobile-menu-links a {
            color: var(--text-light);
            text-decoration: none;
            font-size: 1.1rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }
        
        .light-mode .mobile-menu-links a {
            color: var(--text-light);
        }
        
        .mobile-menu-links a:hover {
            color: var(--accent-gold);
            padding-left: 0.5rem;
        }
        
        .mobile-menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: auto;
        }
        
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
        }
        
        .mobile-menu-overlay.active {
            display: block;
        }
        
        /* Hero Section - EXISTING CODE */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 0 5%;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.8)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }
        
        .light-mode .hero {
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.9), rgba(226, 232, 240, 0.8)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .hero-content {
            max-width: 600px;
            z-index: 1;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: var(--text-muted);
        }
        
        .hero-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .hero-stats {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }
        
        .stat {
            display: flex;
            flex-direction: column;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .hero-visual {
            position: absolute;
            right: 5%;
            bottom: 10%;
            width: 500px;
            height: 400px;
            background: linear-gradient(135deg, var(--accent-emerald), var(--accent-gold));
            border-radius: 20px;
            opacity: 0.1;
            transform: rotate(10deg);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px) rotate(10deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
            100% { transform: translateY(0px) rotate(10deg); }
        }
        
        /* About Section - EXISTING CODE */
        .section {
            padding: 5rem 5%;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--accent-gold);
            border-radius: 2px;
        }
        
        .section-title p {
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .about-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            align-items: center;
        }
        
        .about-text h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
        }
        
        .about-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .feature {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            transition: var(--transition);
            padding: 1rem;
            border-radius: var(--radius);
        }
        
        .feature:hover {
            background: var(--secondary);
            transform: translateY(-5px);
        }
        
        .light-mode .feature:hover {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .feature-icon {
            width: 50px;
            height: 50px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-gold);
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        .light-mode .feature-icon {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .feature-content h4 {
            margin-bottom: 0.5rem;
        }
        
        .feature-content p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .about-image {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transform: perspective(1000px) rotateY(-5deg);
            transition: var(--transition);
        }
        
        .about-image:hover {
            transform: perspective(1000px) rotateY(0deg);
        }
        
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* Plans Section - EXISTING CODE */
        .plans {
            background-color: var(--secondary);
        }
        
        .light-mode .plans {
            background-color: rgba(30, 41, 59, 0.1);
        }
        
        .plans-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .plan-card {
            background: var(--primary);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(251, 191, 36, 0.1);
            display: flex;
            flex-direction: column;
        }
        
        .light-mode .plan-card {
            background: white;
        }
        
        .plan-card:hover {
            transform: translateY(-10px);
            border-color: var(--accent-gold);
        }
        
        .plan-badge {
            position: absolute;
            top: 20px;
            right: -30px;
            background: var(--accent-emerald);
            color: var(--primary);
            padding: 5px 30px;
            transform: rotate(45deg);
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .plan-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .plan-header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .plan-name {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .plan-price {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .plan-period {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .plan-features {
            margin-bottom: 2rem;
            flex-grow: 1;
        }
        
        .plan-feature {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
        }
        
        .plan-feature i {
            color: var(--accent-emerald);
        }
        
        .plan-button {
            width: 100%;
            padding: 1rem;
            text-align: center;
            margin-top: auto;
        }
        
        /* How It Works - EXISTING CODE */
        .steps {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            position: relative;
        }
        
        .steps::before {
            content: '';
            position: absolute;
            top: 50px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-emerald);
            z-index: 0;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            max-width: 250px;
            position: relative;
            z-index: 1;
            background: var(--secondary);
            padding: 2rem 1.5rem;
            border-radius: var(--radius);
            transition: var(--transition);
        }
        
        .light-mode .step {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .step:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }
        
        .step-number {
            width: 60px;
            height: 60px;
            background: var(--accent-gold);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }
        
        .step-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        .step-description {
            color: var(--text-muted);
        }
        
        /* Testimonials - EXISTING CODE */
        .testimonials {
            background-color: var(--secondary);
        }
        
        .light-mode .testimonials {
            background-color: rgba(30, 41, 59, 0.1);
        }
        
        .testimonials-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .testimonial-card {
            background: var(--primary);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .light-mode .testimonial-card {
            background: white;
        }
        
        .testimonial-card:hover {
            transform: translateY(-5px);
        }
        
        .testimonial-content {
            margin-bottom: 1.5rem;
            font-style: italic;
            position: relative;
        }
        
        .testimonial-content::before {
            content: '"';
            font-size: 4rem;
            color: var(--accent-gold);
            position: absolute;
            top: -20px;
            left: -10px;
            opacity: 0.3;
            line-height: 1;
        }
        
        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid var(--accent-gold);
        }
        
        .author-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .author-info h4 {
            margin-bottom: 0.2rem;
        }
        
        .author-info p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        /* Footer - EXISTING CODE */
        footer {
            background-color: #0a0f1c;
            padding: 4rem 5% 2rem;
        }
        
        .light-mode footer {
            background-color: #e2e8f0;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }
        
        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background: var(--accent-gold);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.8rem;
        }
        
        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .footer-links a:hover {
            color: var(--accent-gold);
            padding-left: 5px;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .social-links a {
            width: 40px;
            height: 40px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            transition: var(--transition);
        }
        
        .light-mode .social-links a {
            background: rgba(30, 41, 59, 0.1);
            color: var(--text-light);
        }
        
        .social-links a:hover {
            background: var(--accent-gold);
            color: var(--primary);
            transform: translateY(-3px);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .light-mode .footer-bottom {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* Registration Page - EXISTING CODE */
        .registration-page, .login-page, .dashboard-page, .investment-plans-page, .profile-page, .kyc-page, .investment-history-page, .transaction-history-page, .referral-page, .support-page, .admin-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 5%;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
        }
        
        .light-mode .registration-page, 
        .light-mode .login-page, 
        .light-mode .dashboard-page, 
        .light-mode .investment-plans-page,
        .light-mode .profile-page,
        .light-mode .kyc-page,
        .light-mode .investment-history-page,
        .light-mode .transaction-history-page,
        .light-mode .referral-page,
        .light-mode .support-page,
        .light-mode .admin-page {
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.9), rgba(226, 232, 240, 0.9)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .registration-container, .login-container, .dashboard-container, .investment-plans-container, .profile-container, .kyc-container, .investment-history-container, .transaction-history-container, .referral-container, .support-container, .admin-container {
            display: flex;
            max-width: 1000px;
            width: 100%;
            background: var(--primary);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .light-mode .registration-container, 
        .light-mode .login-container, 
        .light-mode .dashboard-container, 
        .light-mode .investment-plans-container,
        .light-mode .profile-container,
        .light-mode .kyc-container,
        .light-mode .investment-history-container,
        .light-mode .transaction-history-container,
        .light-mode .referral-container,
        .light-mode .support-container,
        .light-mode .admin-container {
            background: white;
        }
        
        .registration-info, .login-info {
            flex: 1;
            padding: 3rem;
            background: linear-gradient(135deg, var(--accent-emerald), var(--accent-gold));
            color: var(--primary);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .registration-info h2, .login-info h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .registration-info p, .login-info p {
            margin-bottom: 2rem;
        }
        
        .info-features {
            list-style: none;
        }
        
        .info-features li {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .info-features i {
            font-size: 1.2rem;
        }
        
        .registration-form, .login-form {
            flex: 1;
            padding: 3rem;
        }
        
        .form-header, .login-form-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .form-header h2, .login-form-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .form-header p, .login-form-header p {
            color: var(--text-muted);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 1rem;
            background: var(--secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .light-mode .form-control {
            background: rgba(30, 41, 59, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--text-light);
        }
        
        .form-control:focus {
            border-color: var(--accent-emerald);
            outline: none;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
        }
        
        .password-strength {
            height: 4px;
            margin-top: 0.5rem;
            border-radius: 2px;
            transition: var(--transition);
        }
        
        .password-strength.weak {
            background: var(--error);
            width: 25%;
        }
        
        .password-strength.medium {
            background: var(--warning);
            width: 50%;
        }
        
        .password-strength.strong {
            background: var(--success);
            width: 100%;
        }
        
        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
        }
        
        .form-footer, .login-form-footer {
            margin-top: 2rem;
            text-align: center;
        }
        
        .form-footer p, .login-form-footer p {
            color: var(--text-muted);
            margin-top: 1rem;
        }
        
        .form-footer a, .login-form-footer a {
            color: var(--accent-gold);
            text-decoration: none;
        }
        
        .forgot-password {
            display: block;
            text-align: right;
            margin-top: 0.5rem;
            color: var(--accent-emerald);
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .forgot-password:hover {
            text-decoration: underline;
        }
        
        /* Dashboard Page - EXISTING CODE */
        .dashboard-container {
            max-width: 1200px;
            flex-direction: column;
            padding: 0;
        }
        
        .dashboard-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .light-mode .dashboard-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .dashboard-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent-emerald);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
            border: 2px solid var(--accent-gold);
        }
        
        .dashboard-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            padding: 2rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            transition: var(--transition);
        }
        
        .light-mode .stat-card {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card h3 {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }
        
        .stat-card .value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .chart-container {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }
        
        .light-mode .chart-container {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .chart-container h3 {
            margin-bottom: 1rem;
        }
        
        .investments-list, .transactions-list {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .investments-list, .light-mode .transactions-list {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .investments-list h3, .transactions-list h3 {
            margin-bottom: 1rem;
        }
        
        .investment-item, .transaction-item {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }
        
        .light-mode .investment-item, .light-mode .transaction-item {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .investment-item:hover, .transaction-item:hover {
            background: rgba(255, 255, 255, 0.05);
            padding-left: 0.5rem;
            padding-right: 0.5rem;
            border-radius: 5px;
        }
        
        .light-mode .investment-item:hover, .light-mode .transaction-item:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .investment-item:last-child, .transaction-item:last-child {
            border-bottom: none;
        }
        
        .investment-name, .transaction-type {
            font-weight: 500;
        }
        
        .investment-amount, .transaction-amount {
            color: var(--accent-gold);
            font-weight: 600;
        }
        
        .investment-status, .transaction-date {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        .action-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .light-mode .action-card {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            background: rgba(30, 41, 59, 0.8);
        }
        
        .light-mode .action-card:hover {
            background: rgba(30, 41, 59, 0.2);
        }
        
        .action-card i {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--accent-emerald);
        }
        
        /* Investment Plans Page - EXISTING CODE */
        .investment-plans-container {
            max-width: 1200px;
            flex-direction: column;
            padding: 0;
        }
        
        .investment-plans-header {
            padding: 2rem;
            background: var(--secondary);
            text-align: center;
        }
        
        .light-mode .investment-plans-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .investment-plans-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .investment-plans-content {
            padding: 2rem;
        }
        
        /* Profile Page - EXISTING CODE */
        .profile-container {
            max-width: 1000px;
            flex-direction: column;
            padding: 0;
        }
        
        .profile-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .light-mode .profile-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .profile-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .profile-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            padding: 2rem;
        }
        
        .profile-sidebar {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            height: fit-content;
        }
        
        .light-mode .profile-sidebar {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .profile-nav {
            list-style: none;
        }
        
        .profile-nav li {
            margin-bottom: 1rem;
        }
        
        .profile-nav a {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1rem;
            color: var(--text-light);
            text-decoration: none;
            border-radius: 8px;
            transition: var(--transition);
        }
        
        .light-mode .profile-nav a {
            color: var(--text-light);
        }
        
        .profile-nav a:hover, .profile-nav a.active {
            background: rgba(251, 191, 36, 0.1);
            color: var(--accent-gold);
        }
        
        .profile-main {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .profile-main {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .profile-section {
            margin-bottom: 2rem;
        }
        
        .profile-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .profile-section h2 {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .two-factor-setup {
            background: rgba(16, 185, 129, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1rem;
        }
        
        .two-factor-code {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .two-factor-code input {
            width: 40px;
            height: 40px;
            text-align: center;
            font-size: 1.2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            background: var(--primary);
            color: var(--text-light);
        }
        
        .light-mode .two-factor-code input {
            background: white;
            color: var(--text-light);
        }
        
        /* KYC Page - EXISTING CODE */
        .kyc-container {
            max-width: 800px;
            flex-direction: column;
            padding: 0;
        }
        
        .kyc-header {
            padding: 2rem;
            background: var(--secondary);
            text-align: center;
        }
        
        .light-mode .kyc-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .kyc-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .kyc-content {
            padding: 2rem;
        }
        
        .kyc-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .kyc-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-emerald);
            z-index: 0;
        }
        
        .kyc-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .kyc-step-number {
            width: 40px;
            height: 40px;
            background: var(--secondary);
            color: var(--text-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 0.5rem;
            border: 2px solid var(--accent-emerald);
        }
        
        .kyc-step.active .kyc-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .kyc-step.completed .kyc-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .kyc-step-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .kyc-step.active .kyc-step-label {
            color: var(--accent-emerald);
            font-weight: 600;
        }
        
        .kyc-form-section {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }
        
        .light-mode .kyc-form-section {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .file-upload {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .light-mode .file-upload {
            border: 2px dashed rgba(0, 0, 0, 0.2);
        }
        
        .file-upload:hover {
            border-color: var(--accent-emerald);
        }
        
        .file-upload i {
            font-size: 3rem;
            color: var(--accent-emerald);
            margin-bottom: 1rem;
        }
        
        /* Investment History Page - EXISTING CODE */
        .investment-history-container {
            max-width: 1200px;
            flex-direction: column;
            padding: 0;
        }
        
        .investment-history-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .light-mode .investment-history-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .investment-history-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .investment-history-content {
            padding: 2rem;
        }
        
        .filters {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .filter-select {
            padding: 0.7rem 1rem;
            background: var(--secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            color: var(--text-light);
            min-width: 150px;
        }
        
        .light-mode .filter-select {
            background: rgba(30, 41, 59, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--text-light);
        }
        
        /* Transaction History Page - EXISTING CODE */
        .transaction-history-container {
            max-width: 1200px;
            flex-direction: column;
            padding: 0;
        }
        
        .transaction-history-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .light-mode .transaction-history-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .transaction-history-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .transaction-history-content {
            padding: 2rem;
        }
        
        /* Referral Page - EXISTING CODE */
        .referral-container {
            max-width: 1000px;
            flex-direction: column;
            padding: 0;
        }
        
        .referral-header {
            padding: 2rem;
            background: var(--secondary);
            text-align: center;
        }
        
        .light-mode .referral-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .referral-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .referral-content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .referral-stats {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .referral-stats {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .referral-stat {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .referral-stat {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .referral-stat:last-child {
            border-bottom: none;
        }
        
        .referral-links {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .referral-links {
            background: rgba(30, 41, 59, 0.1);
        }
        
        /* Support Page - EXISTING CODE */
        .support-container {
            max-width: 1000px;
            flex-direction: column;
            padding: 0;
        }
        
        .support-header {
            padding: 2rem;
            background: var(--secondary);
            text-align: center;
        }
        
        .light-mode .support-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .support-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .support-content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }
        
        .support-categories {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            height: fit-content;
        }
        
        .light-mode .support-categories {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .support-category {
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .support-category:hover, .support-category.active {
            background: rgba(251, 191, 36, 0.1);
            color: var(--accent-gold);
        }
        
        .support-category i {
            margin-right: 0.5rem;
        }
        
        .support-main {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .support-main {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .faq-item {
            margin-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 1.5rem;
        }
        
        .light-mode .faq-item {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .faq-question {
            font-weight: 600;
            margin-bottom: 0.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .faq-answer {
            color: var(--text-muted);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .faq-item.active .faq-answer {
            max-height: 500px;
        }
        
        /* Admin Page - EXISTING CODE */
        .admin-container {
            max-width: 1400px;
            flex-direction: column;
            padding: 0;
        }
        
        .admin-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .light-mode .admin-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .admin-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .admin-content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
        }
        
        .admin-sidebar {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            height: fit-content;
        }
        
        .light-mode .admin-sidebar {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .admin-nav {
            list-style: none;
        }
        
        .admin-nav li {
            margin-bottom: 1rem;
        }
        
        .admin-nav a {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1rem;
            color: var(--text-light);
            text-decoration: none;
            border-radius: 8px;
            transition: var(--transition);
        }
        
        .light-mode .admin-nav a {
            color: var(--text-light);
        }
        
        .admin-nav a:hover, .admin-nav a.active {
            background: rgba(251, 191, 36, 0.1);
            color: var(--accent-gold);
        }
        
        .admin-main {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .admin-main {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .admin-stat {
            background: var(--primary);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            transition: var(--transition);
        }
        
        .light-mode .admin-stat {
            background: white;
        }
        
        .admin-stat:hover {
            transform: translateY(-5px);
        }
        
        .admin-stat .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-gold);
            display: block;
        }
        
        .admin-stat .label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .admin-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .admin-table th, .admin-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .admin-table th, .light-mode .admin-table td {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .admin-table th {
            color: var(--text-muted);
            font-weight: 600;
        }
        
        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-badge.pending {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .status-badge.approved {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .status-badge.rejected {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
        }
        
        /* Modal - EXISTING CODE */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal-content {
            background: var(--primary);
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            width: 100%;
            box-shadow: var(--shadow);
            max-height: 90vh;
            overflow-y: auto;
            animation: modalAppear 0.3s ease;
        }
        
        .light-mode .modal-content {
            background: white;
        }
        
        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .modal-header h2 {
            font-size: 1.5rem;
            color: var(--accent-gold);
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .close-modal:hover {
            color: var(--accent-gold);
        }
        
        /* Password Reset Modal - EXISTING CODE */
        .password-reset-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .password-reset-steps::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-emerald);
            z-index: 0;
        }
        
        .password-reset-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .password-reset-step-number {
            width: 30px;
            height: 30px;
            background: var(--secondary);
            color: var(--text-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 0.5rem;
            border: 2px solid var(--accent-emerald);
            font-size: 0.8rem;
        }
        
        .password-reset-step.active .password-reset-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .password-reset-step.completed .password-reset-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .password-reset-step-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }
        
        .password-reset-step.active .password-reset-step-label {
            color: var(--accent-emerald);
            font-weight: 600;
        }
        
        /* Back to Top Button - EXISTING CODE */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--accent-gold);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            z-index: 999;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }
        
        /* File Upload Styles - EXISTING CODE */
        .file-upload-container {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            margin-bottom: 1rem;
        }
        
        .light-mode .file-upload-container {
            border: 2px dashed rgba(0, 0, 0, 0.2);
        }
        
        .file-upload-container:hover {
            border-color: var(--accent-emerald);
        }
        
        .file-upload-container i {
            font-size: 3rem;
            color: var(--accent-emerald);
            margin-bottom: 1rem;
        }
        
        .file-preview {
            max-width: 100%;
            max-height: 200px;
            margin-top: 1rem;
            border-radius: 5px;
            display: none;
        }
        
        /* Currency Toggle - EXISTING CODE */
        .currency-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .currency-toggle label {
            font-weight: 500;
        }
        
        .currency-toggle select {
            background: var(--secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            color: var(--text-light);
            padding: 0.5rem;
        }
        
        /* Withdrawal Fee Notice - EXISTING CODE */
        .withdrawal-fee-notice {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            color: var(--warning);
            font-size: 0.9rem;
        }
        
        .withdrawal-fee-notice i {
            margin-right: 0.5rem;
        }
        
        /* NEW FEATURES - Advanced Dashboard - EXISTING CODE */
        .earnings-breakdown {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        
        .earnings-breakdown h3 {
            margin-bottom: 1rem;
        }
        
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .breakdown-item:last-child {
            border-bottom: none;
            font-weight: 600;
            color: var(--accent-gold);
        }
        
        .performance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .metric-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
        }
        
        .metric-card .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-gold);
            margin-bottom: 0.5rem;
        }
        
        .metric-card .label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        /* Investment Calculator - EXISTING CODE */
        .calculator-container {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        
        .calculator-result {
            background: var(--primary);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1.5rem;
            text-align: center;
        }
        
        .calculator-result .value {
            font-size: 2rem;
            color: var(--accent-gold);
            font-weight: 700;
            margin: 0.5rem 0;
        }
        
        /* Portfolio Diversification - EXISTING CODE */
        .portfolio-chart {
            height: 300px;
            margin: 1rem 0;
        }
        
        /* News Feed - EXISTING CODE */
        .news-feed {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .news-item {
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .news-item:last-child {
            border-bottom: none;
        }
        
        .news-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .news-date {
            color: var(--text-muted);
            font-size: 0.8rem;
        }
        
        /* Automation Tools - EXISTING CODE */
        .automation-tools {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .tool-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
            background: rgba(30, 41, 59, 0.8);
        }
        
        .tool-card i {
            font-size: 2rem;
            color: var(--accent-emerald);
            margin-bottom: 1rem;
        }
        
        /* NEW STYLES FOR UPDATED FEATURES */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--error);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .bank-details-display {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        
        .bank-detail-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .bank-detail-item:last-child {
            border-bottom: none;
        }
        
        .admin-user-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .action-btn {
            padding: 0.3rem 0.8rem;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .action-btn.view {
            background: var(--info);
            color: white;
        }
        
        .action-btn.edit {
            background: var(--warning);
            color: white;
        }
        
        .action-btn.delete {
            background: var(--error);
            color: white;
        }
        
        .pending-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .quick-action-btn {
            padding: 0.5rem 1rem;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .quick-action-btn.approve {
            background: var(--success);
            color: white;
        }
        
        .quick-action-btn.reject {
            background: var(--error);
            color: white;
        }
        
        .user-detail-modal {
            max-width: 800px;
        }
        
        .user-detail-section {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .user-detail-section:last-child {
            border-bottom: none;
        }
        
        .detail-row {
            display: grid;
            grid-template-columns: 150px 1fr;
            gap: 1rem;
            margin-bottom: 0.8rem;
            align-items: center;
        }
        
        .detail-label {
            font-weight: 600;
            color: var(--text-muted);
        }
        
        .detail-value {
            color: var(--text-light);
        }
        
        .daily-earnings-calculation {
            background: rgba(16, 185, 129, 0.1);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }
        
        .calculation-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .calculation-item.total {
            font-weight: 600;
            color: var(--accent-gold);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 0.5rem;
            margin-top: 0.5rem;
        }
        
        /* Responsive Design - EXISTING CODE */
        @media (max-width: 1200px) {
            .admin-content {
                grid-template-columns: 1fr;
            }
            
            .admin-sidebar {
                order: 2;
            }
            
            .admin-main {
                order: 1;
            }
            
            .admin-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .steps {
                flex-direction: column;
                gap: 3rem;
            }
            
            .steps::before {
                display: none;
            }
            
            .registration-container, .login-container {
                flex-direction: column;
            }
            
            .dashboard-content {
                grid-template-columns: 1fr;
            }
            
            .profile-content {
                grid-template-columns: 1fr;
            }
            
            .referral-content {
                grid-template-columns: 1fr;
            }
            
            .support-content {
                grid-template-columns: 1fr;
            }
            
            .about-content {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .navbar {
                padding: 1rem 5%;
            }
            
            .nav-links, .nav-buttons {
                display: none;
            }
            
            .hamburger {
                display: block;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero-buttons {
                flex-direction: column;
            }
            
            .hero-stats {
                flex-direction: column;
                gap: 1rem;
            }
            
            .about-features {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .admin-stats {
                grid-template-columns: 1fr;
            }
            
            .kyc-steps {
                flex-direction: column;
                gap: 2rem;
            }
            
            .kyc-steps::before {
                display: none;
            }
            
            .password-reset-steps {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            .password-reset-steps::before {
                display: none;
            }
            
            .detail-row {
                grid-template-columns: 1fr;
                gap: 0.3rem;
            }
        }
        
        @media (max-width: 576px) {
            .section {
                padding: 3rem 5%;
            }
            
            .plans-container, .testimonials-container {
                grid-template-columns: 1fr;
            }
            
            .registration-info, .registration-form, .login-info, .login-form {
                padding: 2rem;
            }
            
            .dashboard-header, .investment-plans-header, .profile-header, .kyc-header, .investment-history-header, .transaction-history-header, .referral-header, .support-header, .admin-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .filters {
                flex-direction: column;
            }
            
            .filter-select {
                min-width: 100%;
            }
            
            .two-factor-code {
                justify-content: center;
            }
            
            .admin-user-actions {
                flex-direction: column;
            }
            
            .pending-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loading-spinner">
        <div class="spinner"></div>
        <p>Processing your request...</p>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobile-menu-overlay"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-header">
            <div class="logo">
                <i class="fas fa-gem"></i>
                <span>Raw Wealthy</span>
            </div>
            <button class="close-modal" id="close-mobile-menu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-menu-links">
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-info-circle"></i> About
            </a>
            <a href="#" onclick="app.showPage('investment-plans'); app.closeMobileMenu();">
                <i class="fas fa-chart-line"></i> Raw Materials
            </a>
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-cogs"></i> How It Works
            </a>
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-comments"></i> Testimonials
            </a>
        </div>
        <div class="mobile-menu-buttons">
            <button class="btn btn-outline" onclick="app.showPage('login'); app.closeMobileMenu();">Login</button>
            <button class="btn btn-primary" onclick="app.showPage('register'); app.closeMobileMenu();">Register</button>
        </div>
    </div>

    <!-- Home Page -->
    <div id="home-page">
        <!-- Navbar -->
        <nav class="navbar">
            <div class="logo">
                <i class="fas fa-gem"></i>
                <span>Raw Wealthy</span>
            </div>
            <div class="nav-links">
                <a href="#" onclick="app.showPage('home')">Home</a>
                <a href="#" onclick="app.showPage('home')">About</a>
                <a href="#" onclick="app.showPage('investment-plans')">Raw Materials</a>
                <a href="#" onclick="app.showPage('home')">How It Works</a>
                <a href="#" onclick="app.showPage('home')">Testimonials</a>
            </div>
            <div class="nav-buttons">
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn btn-outline" onclick="app.showPage('login')">Login</button>
                <button class="btn btn-primary" onclick="app.showPage('register')">Register</button>
            </div>
            <div class="hamburger" id="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="hero-content">
                <h1>Invest in Raw Materials. <span class="gradient-text">Earn Daily.</span></h1>
                <p>Join thousands of investors who are growing their wealth with our secure raw materials investment platform. Start with as little as 3,500 and watch your money grow.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="app.showPage('register')">Get Started</button>
                    <button class="btn btn-outline" onclick="app.showPage('investment-plans')">Investment Plans</button>
                </div>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-value" id="total-invested-stat">2.5B+</span>
                        <span class="stat-label">Total Invested</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="active-investors-stat">15,240+</span>
                        <span class="stat-label">Active Investors</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="user-rating-stat">4.9/5</span>
                        <span class="stat-label">User Rating</span>
                    </div>
                </div>
            </div>
            <div class="hero-visual"></div>
        </section>

        <!-- About Section -->
        <section class="section" id="about">
            <div class="section-title">
                <h2>Why Choose Raw Wealthy?</h2>
                <p>We provide a secure and transparent platform for investing in raw materials with industry-leading returns.</p>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <h3>Your Trusted Partner in Raw Materials Investment</h3>
                    <p>With over 7 years of experience in the raw materials industry, we've helped thousands of clients achieve their financial goals through carefully curated investment plans.</p>
                    <p>Our platform uses advanced security measures and follows strict compliance protocols to ensure your investments are safe and secure.</p>
                    <div class="about-features">
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="feature-content">
                                <h4>Secure Investments</h4>
                                <p>Bank-level security for all transactions</p>
                            </div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="feature-content">
                                <h4>High Returns</h4>
                                <p>Industry-leading ROI on all plans</p>
                            </div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="feature-content">
                                <h4>24/7 Support</h4>
                                <p>Round-the-clock customer service</p>
                            </div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="feature-content">
                                <h4>Verified Platform</h4>
                                <p>Fully licensed and regulated</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="about-image">
                    <img src="https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Investment Growth">
                </div>
            </div>
        </section>

        <!-- Raw Materials Plans Section -->
        <section class="section plans" id="plans">
            <div class="section-title">
                <h2>Raw Materials Investment Plans</h2>
                <p>Choose from our carefully curated raw materials investment plans designed to maximize your returns.</p>
            </div>
            <div class="plans-container" id="plans-container">
                <!-- Plans will be dynamically loaded here -->
            </div>
        </section>

        <!-- How It Works Section -->
        <section class="section" id="how-it-works">
            <div class="section-title">
                <h2>How It Works</h2>
                <p>Getting started with Raw Wealthy is simple and straightforward.</p>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3 class="step-title">Register</h3>
                    <p class="step-description">Create your account in less than 2 minutes with our simple registration process.</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3 class="step-title">Invest</h3>
                    <p class="step-description">Choose a raw material investment plan that suits your goals and make your first deposit.</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3 class="step-title">Earn</h3>
                    <p class="step-description">Watch your investment grow with daily returns that you can withdraw or reinvest.</p>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="section testimonials" id="testimonials">
            <div class="section-title">
                <h2>What Our Investors Say</h2>
                <p>Hear from our satisfied investors who have achieved financial success with our platform.</p>
            </div>
            <div class="testimonials-container">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "I've been investing with Raw Wealthy for over a year now, and the returns have been consistently impressive. The platform is easy to use, and their customer support is excellent."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Michael Johnson">
                        </div>
                        <div class="author-info">
                            <h4>Michael Johnson</h4>
                            <p>Gold Investor</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "As a beginner in investing, I was hesitant at first. But Raw Wealthy made the process so simple. I started with the Cocoa plan and have already upgraded to Gold. Highly recommended!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Sarah Williams">
                        </div>
                        <div class="author-info">
                            <h4>Sarah Williams</h4>
                            <p>Silver Investor</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "The transparency and regular updates on my investments give me peace of mind. I've tried other platforms, but Raw Wealthy stands out with their professionalism and high returns."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Robert Chen">
                        </div>
                        <div class="author-info">
                            <h4>Robert Chen</h4>
                            <p>Bronze Investor</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Raw Wealthy</h3>
                    <p>Your trusted partner for secure and high-yield raw materials investment opportunities. Start growing your wealth today.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#" onclick="app.showPage('home')"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#about"><i class="fas fa-chevron-right"></i> About Us</a></li>
                        <li><a href="#" onclick="app.showPage('investment-plans')"><i class="fas fa-chevron-right"></i> Investment Plans</a></li>
                        <li><a href="#how-it-works"><i class="fas fa-chevron-right"></i> How It Works</a></li>
                        <li><a href="#testimonials"><i class="fas fa-chevron-right"></i> Testimonials</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Terms of Service</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Cookie Policy</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Disclaimer</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"></i> support@rawwealthy.com</li>
                        <li><i class="fas fa-phone"></i> +234 (0) 812 345 6789</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Investment St, Lagos, Nigeria</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Raw Wealthy Investment Platform. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Registration Page -->
    <div id="registration-page" class="registration-page" style="display: none;">
        <div class="registration-container">
            <div class="registration-info">
                <h2>Join Thousands of Successful Investors</h2>
                <p>Create your account today and start your journey to financial freedom with our secure and high-yield raw materials investment plans.</p>
                <ul class="info-features">
                    <li><i class="fas fa-check-circle"></i> Secure and encrypted platform</li>
                    <li><i class="fas fa-check-circle"></i> Daily returns on your investments</li>
                    <li><i class="fas fa-check-circle"></i> 24/7 customer support</li>
                    <li><i class="fas fa-check-circle"></i> Multiple withdrawal options</li>
                    <li><i class="fas fa-check-circle"></i> Referral bonus program</li>
                </ul>
            </div>
            <div class="registration-form">
                <div class="form-header">
                    <h2>Create Account</h2>
                    <p>Fill in your details to get started</p>
                </div>
                <form id="registration-form">
                    <div class="form-group">
                        <label for="fullname">Full Name</label>
                        <input type="text" id="fullname" class="form-control" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" class="form-control" placeholder="Create a password" required>
                        <button type="button" class="password-toggle" id="password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                        <div class="password-strength" id="password-strength"></div>
                    </div>
                    <div class="form-group">
                        <label for="confirm-password">Confirm Password</label>
                        <input type="password" id="confirm-password" class="form-control" placeholder="Confirm your password" required>
                        <button type="button" class="password-toggle" id="confirm-password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="form-group">
                        <label for="referral">Referral Code (Optional)</label>
                        <input type="text" id="referral" class="form-control" placeholder="Enter referral code if any">
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="register-btn">
                        <span class="btn-text">Create Account</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </form>
                <div class="form-footer">
                    <p>Already have an account? <a href="#" onclick="app.showPage('login')">Login here</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="login-page" style="display: none;">
        <div class="login-container">
            <div class="login-info">
                <h2>Welcome Back!</h2>
                <p>Access your investment dashboard to track your portfolio, view earnings, and manage your investments.</p>
                <ul class="info-features">
                    <li><i class="fas fa-check-circle"></i> Track your investment performance</li>
                    <li><i class="fas fa-check-circle"></i> View real-time earnings</li>
                    <li><i class="fas fa-check-circle"></i> Manage your portfolio</li>
                    <li><i class="fas fa-check-circle"></i> Withdraw your earnings</li>
                    <li><i class="fas fa-check-circle"></i> Access exclusive features</li>
                </ul>
            </div>
            <div class="login-form">
                <div class="login-form-header">
                    <h2>Login to Your Account</h2>
                    <p>Enter your credentials to access your dashboard</p>
                </div>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email Address</label>
                        <input type="email" id="login-email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" class="form-control" placeholder="Enter your password" required>
                        <button type="button" class="password-toggle" id="login-password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                        <a href="#" class="forgot-password" onclick="app.openModal('password-reset-modal'); return false;">Forgot Password?</a>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="login-btn">
                        <span class="btn-text">Login</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </form>
                <div class="login-form-footer">
                    <p>Don't have an account? <a href="#" onclick="app.showPage('register')">Register here</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard-page" class="dashboard-page" style="display: none;">
        <div class="dashboard-container">
            <div class="dashboard-header">
                <h1>Dashboard</h1>
                <div class="user-info">
                    <div class="user-avatar" id="user-avatar">JD</div>
                    <div>
                        <div id="user-name">John Doe</div>
                        <div style="color: var(--text-muted); font-size: 0.9rem;" id="user-tier">Standard Investor</div>
                    </div>
                    <button class="btn btn-outline" onclick="app.logout()">Logout</button>
                </div>
            </div>
            <div class="dashboard-content">
                <div class="dashboard-main">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Total Balance</h3>
                            <div class="value" id="total-balance">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Active Investments</h3>
                            <div class="value" id="active-investments">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Total Earnings</h3>
                            <div class="value" id="total-earnings">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Referral Bonus</h3>
                            <div class="value" id="referral-bonus">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Today's Interest</h3>
                            <div class="value" id="daily-interest">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Today's Earnings</h3>
                            <div class="value" id="today-earnings">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Pending Earnings</h3>
                            <div class="value" id="pending-earnings">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Monthly Projection</h3>
                            <div class="value" id="monthly-projection">0.00</div>
                        </div>
                    </div>
                    
                    <!-- Daily Earnings Calculation -->
                    <div class="daily-earnings-calculation">
                        <h4>Today's Earnings Breakdown</h4>
                        <div id="daily-earnings-breakdown">
                            <!-- Dynamic content will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="performance-metrics">
                        <div class="metric-card">
                            <div class="value" id="roi-percentage">0%</div>
                            <div class="label">ROI</div>
                        </div>
                        <div class="metric-card">
                            <div class="value" id="avg-daily-return">0%</div>
                            <div class="label">Avg Daily Return</div>
                        </div>
                        <div class="metric-card">
                            <div class="value" id="total-referrals-count">0</div>
                            <div class="label">Total Referrals</div>
                        </div>
                        <div class="metric-card">
                            <div class="value" id="commission-rate">15%</div>
                            <div class="label">Commission Rate</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Earnings Overview</h3>
                        <canvas id="earnings-chart"></canvas>
                    </div>
                    
                    <!-- Portfolio Diversification Chart -->
                    <div class="chart-container">
                        <h3>Portfolio Diversification</h3>
                        <div class="portfolio-chart">
                            <canvas id="portfolio-chart"></canvas>
                        </div>
                    </div>
                    
                    <!-- Bank Details Display -->
                    <div class="bank-details-display">
                        <h3>Bank Details</h3>
                        <div id="bank-details-list">
                            <!-- Bank details will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="investments-list">
                        <h3>Active Investments</h3>
                        <div id="active-investments-list">
                            <!-- Active investments will be dynamically loaded here -->
                        </div>
                    </div>
                    <div class="transactions-list">
                        <h3>Recent Transactions</h3>
                        <div id="recent-transactions-list">
                            <!-- Recent transactions will be dynamically loaded here -->
                        </div>
                    </div>
                </div>
                <div class="dashboard-sidebar">
                    <div class="quick-actions">
                        <div class="action-card" onclick="app.openModal('invest-modal')">
                            <i class="fas fa-plus-circle"></i>
                            <h3>New Investment</h3>
                            <p>Start a new investment plan</p>
                        </div>
                        <div class="action-card" onclick="app.openModal('deposit-modal')">
                            <i class="fas fa-wallet"></i>
                            <h3>Deposit Funds</h3>
                            <p>Add funds to your account</p>
                        </div>
                        <div class="action-card" onclick="app.openModal('withdraw-modal')">
                            <i class="fas fa-money-bill-wave"></i>
                            <h3>Withdraw Funds</h3>
                            <p>Transfer to your bank account</p>
                        </div>
                        <div class="action-card" onclick="app.showPage('referral')">
                            <i class="fas fa-user-friends"></i>
                            <h3>Refer Friends</h3>
                            <p>Earn 15% referral bonus</p>
                        </div>
                        <div class="action-card" onclick="app.openModal('calculator-modal')">
                            <i class="fas fa-calculator"></i>
                            <h3>Investment Calculator</h3>
                            <p>Calculate potential returns</p>
                        </div>
                        <div class="action-card" onclick="app.showPage('support')">
                            <i class="fas fa-headset"></i>
                            <h3>Support</h3>
                            <p>24/7 customer service</p>
                        </div>
                        <div class="action-card" onclick="app.showPage('profile')">
                            <i class="fas fa-user-cog"></i>
                            <h3>Profile</h3>
                            <p>Manage your account</p>
                        </div>
                    </div>
                    
                    <!-- News Feed -->
                    <div class="news-feed">
                        <h3>Market Updates</h3>
                        <div id="news-feed-content">
                            <div class="news-item">
                                <div class="news-title">Gold Prices Reach New High</div>
                                <div class="news-date">Today, 10:30 AM</div>
                            </div>
                            <div class="news-item">
                                <div class="news-title">Cocoa Production Increases</div>
                                <div class="news-date">Yesterday, 3:45 PM</div>
                            </div>
                            <div class="news-item">
                                <div class="news-title">New Investment Opportunities</div>
                                <div class="news-date">2 days ago</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Automation Tools -->
                    <div class="automation-tools">
                        <div class="tool-card" onclick="app.toggleAutoInvest()">
                            <i class="fas fa-robot"></i>
                            <h4>Auto-Invest</h4>
                            <p>Automatically reinvest earnings</p>
                        </div>
                        <div class="tool-card" onclick="app.setupReminders()">
                            <i class="fas fa-bell"></i>
                            <h4>Reminders</h4>
                            <p>Set investment reminders</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Plans Page -->
    <div id="investment-plans-page" class="investment-plans-page" style="display: none;">
        <div class="investment-plans-container">
            <div class="investment-plans-header">
                <h1>Raw Materials Investment Plans</h1>
                <p>Choose the plan that best fits your financial goals</p>
            </div>
            <div class="investment-plans-content">
                <div class="plans-container" id="investment-plans-list">
                    <!-- Investment plans will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile-page" class="profile-page" style="display: none;">
        <div class="profile-container">
            <div class="profile-header">
                <h1>Profile Settings</h1>
                <button class="btn btn-primary" onclick="app.showPage('dashboard')">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
            </div>
            <div class="profile-content">
                <div class="profile-sidebar">
                    <ul class="profile-nav">
                        <li><a href="#" class="active" onclick="app.switchProfileTab('personal')">
                            <i class="fas fa-user"></i> Personal Information
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('security')">
                            <i class="fas fa-shield-alt"></i> Security
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('bank')">
                            <i class="fas fa-university"></i> Bank Details
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('preferences')">
                            <i class="fas fa-cog"></i> Preferences
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('kyc')">
                            <i class="fas fa-id-card"></i> KYC Verification
                        </a></li>
                    </ul>
                </div>
                <div class="profile-main">
                    <!-- Personal Information Tab -->
                    <div class="profile-section" id="personal-tab">
                        <h2>Personal Information</h2>
                        <form id="personal-form">
                            <div class="form-group">
                                <label for="profile-fullname">Full Name</label>
                                <input type="text" id="profile-fullname" class="form-control" value="John Doe">
                            </div>
                            <div class="form-group">
                                <label for="profile-email">Email Address</label>
                                <input type="email" id="profile-email" class="form-control" value="john.doe@example.com" readonly>
                            </div>
                            <div class="form-group">
                                <label for="profile-phone">Phone Number</label>
                                <input type="tel" id="profile-phone" class="form-control" value="+234 (0) 812 345 6789">
                            </div>
                            <div class="form-group">
                                <label for="profile-country">Country</label>
                                <select id="profile-country" class="form-control">
                                    <option value="ng">Nigeria</option>
                                    <option value="gh">Ghana</option>
                                    <option value="sa">South Africa</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Changes</button>
                        </form>
                    </div>

                    <!-- Security Tab -->
                    <div class="profile-section" id="security-tab" style="display: none;">
                        <h2>Security Settings</h2>
                        <div class="form-group">
                            <label>Two-Factor Authentication</label>
                            <div class="two-factor-setup">
                                <p>Enhance your account security with two-factor authentication.</p>
                                <div id="two-factor-status">
                                    <p>Status: <span id="2fa-status-text">Disabled</span></p>
                                </div>
                                <button class="btn btn-outline" id="enable-2fa-btn" onclick="app.enable2FA()">Enable 2FA</button>
                                <button class="btn btn-outline" id="disable-2fa-btn" style="display: none;" onclick="app.disable2FA()">Disable 2FA</button>
                            </div>
                        </div>
                        <form id="password-change-form">
                            <div class="form-group">
                                <label for="current-password">Current Password</label>
                                <input type="password" id="current-password" class="form-control" placeholder="Enter current password">
                            </div>
                            <div class="form-group">
                                <label for="new-password">New Password</label>
                                <input type="password" id="new-password" class="form-control" placeholder="Enter new password">
                            </div>
                            <div class="form-group">
                                <label for="confirm-new-password">Confirm New Password</label>
                                <input type="password" id="confirm-new-password" class="form-control" placeholder="Confirm new password">
                            </div>
                            <button type="submit" class="btn btn-primary">Change Password</button>
                        </form>
                    </div>

                    <!-- Bank Details Tab -->
                    <div class="profile-section" id="bank-tab" style="display: none;">
                        <h2>Bank Account Details</h2>
                        <div class="bank-details-display" id="current-bank-details">
                            <!-- Current bank details will be loaded here -->
                        </div>
                        <form id="bank-form">
                            <div class="form-group">
                                <label for="bank-name">Bank Name</label>
                                <select id="bank-name" class="form-control" required>
                                    <option value="">Select Bank</option>
                                    <option value="Access Bank">Access Bank</option>
                                    <option value="Opay">Opay</option>
                                    <option value="GTBank">GTBank</option>
                                    <option value="First Bank">First Bank</option>
                                    <option value="Zenith Bank">Zenith Bank</option>
                                    <option value="UBA">UBA</option>
                                    <option value="Fidelity Bank">Fidelity Bank</option>
                                    <option value="Sterling Bank">Sterling Bank</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="account-name">Account Name</label>
                                <input type="text" id="account-name" class="form-control" placeholder="Enter account name" required>
                            </div>
                            <div class="form-group">
                                <label for="account-number">Account Number</label>
                                <input type="text" id="account-number" class="form-control" placeholder="Enter account number" maxlength="10" required>
                                <small style="color: var(--text-muted);">Enter 10-digit account number</small>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Bank Details</button>
                        </form>
                    </div>

                    <!-- Preferences Tab -->
                    <div class="profile-section" id="preferences-tab" style="display: none;">
                        <h2>Account Preferences</h2>
                        <form id="preferences-form">
                            <div class="form-group">
                                <label for="currency">Default Currency</label>
                                <select id="currency" class="form-control">
                                    <option value="ngn">NGN ()</option>
                                    <option value="usd">USD ($)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="language">Language</label>
                                <select id="language" class="form-control">
                                    <option value="en">English</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="timezone">Timezone</label>
                                <select id="timezone" class="form-control">
                                    <option value="wast">West Africa Standard Time (WAT)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="risk-tolerance-pref">Risk Tolerance</label>
                                <select id="risk-tolerance-pref" class="form-control">
                                    <option value="low">Low (Conservative)</option>
                                    <option value="medium">Medium (Balanced)</option>
                                    <option value="high">High (Aggressive)</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Preferences</button>
                        </form>
                    </div>

                    <!-- KYC Verification Tab -->
                    <div class="profile-section" id="kyc-tab" style="display: none;">
                        <h2>KYC Verification</h2>
                        <div id="kyc-status">
                            <p>Status: <span id="kyc-status-text" class="status-badge pending">Not Submitted</span></p>
                        </div>
                        <form id="kyc-form">
                            <div class="form-group">
                                <label for="id-type">ID Type</label>
                                <select id="id-type" class="form-control" required>
                                    <option value="">Select ID Type</option>
                                    <option value="national_id">National ID</option>
                                    <option value="passport">Passport</option>
                                    <option value="driver_license">Driver's License</option>
                                    <option value="voters_card">Voter's Card</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="id-number">ID Number</label>
                                <input type="text" id="id-number" class="form-control" placeholder="Enter ID Number" required>
                            </div>
                            <div class="form-group">
                                <label>Upload ID Front</label>
                                <div class="file-upload-container" onclick="document.getElementById('id-front').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload ID front image</p>
                                    <input type="file" id="id-front" accept="image/*" style="display: none;" required>
                                </div>
                                <img id="id-front-preview" class="file-preview" src="" alt="ID front preview">
                            </div>
                            <div class="form-group">
                                <label>Upload ID Back</label>
                                <div class="file-upload-container" onclick="document.getElementById('id-back').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload ID back image</p>
                                    <input type="file" id="id-back" accept="image/*" style="display: none;" required>
                                </div>
                                <img id="id-back-preview" class="file-preview" src="" alt="ID back preview">
                            </div>
                            <div class="form-group">
                                <label>Upload Selfie with ID</label>
                                <div class="file-upload-container" onclick="document.getElementById('selfie-with-id').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload selfie with ID</p>
                                    <input type="file" id="selfie-with-id" accept="image/*" style="display: none;" required>
                                </div>
                                <img id="selfie-with-id-preview" class="file-preview" src="" alt="Selfie with ID preview">
                            </div>
                            <button type="submit" class="btn btn-primary" id="kyc-submit-btn">Submit KYC Application</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Referral Page -->
    <div id="referral-page" class="referral-page" style="display: none;">
        <div class="referral-container">
            <div class="referral-header">
                <h1>Referral Program</h1>
                <p>Earn more by inviting friends to join Raw Wealthy</p>
            </div>
            <div class="referral-content">
                <div class="referral-stats">
                    <h2>Your Referral Stats</h2>
                    <div class="referral-stat">
                        <span>Total Referrals</span>
                        <span id="total-referrals">0</span>
                    </div>
                    <div class="referral-stat">
                        <span>Active Referrals</span>
                        <span id="active-referrals">0</span>
                    </div>
                    <div class="referral-stat">
                        <span>Total Earnings</span>
                        <span style="color: var(--accent-gold);" id="total-referral-earnings">0.00</span>
                    </div>
                    <div class="referral-stat">
                        <span>Pending Earnings</span>
                        <span style="color: var(--warning);" id="pending-referral-earnings">0.00</span>
                    </div>
                    <div class="referral-stat">
                        <span>Today's Earnings</span>
                        <span style="color: var(--success);" id="today-referral-earnings">0.00</span>
                    </div>
                </div>
                <div class="referral-links">
                    <h2>Your Referral Link</h2>
                    <div class="form-group">
                        <label>Share this link with friends</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="referral-link" class="form-control" value="" readonly>
                            <button class="btn btn-primary" onclick="app.copyReferralLink()">Copy</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Your Referral Code</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="referral-code" class="form-control" value="" readonly>
                            <button class="btn btn-primary" onclick="app.copyReferralCode()">Copy</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Share on Social Media</label>
                        <div class="social-links">
                            <a href="#" onclick="app.shareOnFacebook()"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" onclick="app.shareOnTwitter()"><i class="fab fa-twitter"></i></a>
                            <a href="#" onclick="app.shareOnWhatsApp()"><i class="fab fa-whatsapp"></i></a>
                            <a href="#" onclick="app.shareOnTelegram()"><i class="fab fa-telegram"></i></a>
                        </div>
                    </div>
                    <div style="margin-top: 1.5rem;">
                        <h3>How it works:</h3>
                        <ul style="padding-left: 1.2rem; margin-top: 0.5rem;">
                            <li>Share your referral link with friends</li>
                            <li>When they sign up and invest, you earn 15% of their first investment</li>
                            <li>No limit on how much you can earn</li>
                            <li>Earnings are credited after their investment is approved</li>
                            <li>Track your referrals in real-time</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Support Page -->
    <div id="support-page" class="support-page" style="display: none;">
        <div class="support-container">
            <div class="support-header">
                <h1>Help & Support</h1>
                <p>We're here to help you with any questions or issues</p>
            </div>
            <div class="support-content">
                <div class="support-categories">
                    <div class="support-category active" onclick="app.switchSupportCategory('faq')">
                        <i class="fas fa-question-circle"></i> FAQ
                    </div>
                    <div class="support-category" onclick="app.switchSupportCategory('contact')">
                        <i class="fas fa-envelope"></i> Contact Us
                    </div>
                    <div class="support-category" onclick="app.switchSupportCategory('tickets')">
                        <i class="fas fa-ticket-alt"></i> My Tickets
                    </div>
                </div>
                <div class="support-main">
                    <!-- FAQ Category -->
                    <div id="faq-category">
                        <h2>Frequently Asked Questions</h2>
                        <div class="faq-item active">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                How do I start investing? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>To start investing, simply register for an account, verify your identity, choose an investment plan that suits your goals, and make your first deposit. The process takes less than 10 minutes.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                When will I receive my returns? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Returns are calculated daily and credited to your account at the end of each business day. You can withdraw your earnings or reinvest them for compound growth.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                What is the minimum investment? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>The minimum investment is 3,500 for most of our plans. We offer tiered plans to accommodate different investment levels and goals.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                How secure is my investment? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>We employ bank-level security measures including SSL encryption, two-factor authentication, and segregated client accounts. Your investments are protected by our comprehensive security protocols.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                Are there any withdrawal fees? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Yes, we charge a 5% platform fee on all withdrawals to cover transaction costs and platform maintenance. This fee is automatically deducted from your withdrawal amount.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Category -->
                    <div id="contact-category" style="display: none;">
                        <h2>Contact Our Support Team</h2>
                        <form id="support-form">
                            <div class="form-group">
                                <label for="support-subject">Subject</label>
                                <input type="text" id="support-subject" class="form-control" placeholder="Enter subject" required>
                            </div>
                            <div class="form-group">
                                <label for="support-category">Category</label>
                                <select id="support-category" class="form-control" required>
                                    <option value="general">General Inquiry</option>
                                    <option value="technical">Technical Issue</option>
                                    <option value="investment">Investment Related</option>
                                    <option value="withdrawal">Withdrawal Issue</option>
                                    <option value="deposit">Deposit Issue</option>
                                    <option value="kyc">KYC Verification</option>
                                    <option value="account">Account Issue</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="support-message">Message</label>
                                <textarea id="support-message" class="form-control" rows="5" placeholder="Describe your issue" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Send Message</button>
                        </form>
                        <div style="margin-top: 1.5rem; text-align: center;">
                            <p>Or contact us directly:</p>
                            <p><i class="fas fa-envelope"></i> support@rawwealthy.com</p>
                            <p><i class="fas fa-phone"></i> +234 (0) 812 345 6789</p>
                        </div>
                    </div>
                    
                    <!-- Tickets Category -->
                    <div id="tickets-category" style="display: none;">
                        <h2>My Support Tickets</h2>
                        <div id="support-tickets-list">
                            <p style="text-align: center; color: var(--text-muted); padding: 2rem;">
                                No support tickets found
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Page -->
    <div id="admin-page" class="admin-page" style="display: none;">
        <div class="admin-container">
            <div class="admin-header">
                <h1>Admin Dashboard</h1>
                <button class="btn btn-outline" onclick="app.logout()">Logout</button>
            </div>
            <div class="admin-content">
                <div class="admin-sidebar">
                    <ul class="admin-nav">
                        <li><a href="#" class="active" onclick="app.switchAdminTab('overview')">
                            <i class="fas fa-tachometer-alt"></i> Overview
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('users')">
                            <i class="fas fa-users"></i> Users
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('investments')">
                            <i class="fas fa-chart-line"></i> Investments
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('deposits')">
                            <i class="fas fa-wallet"></i> Deposits
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('withdrawals')">
                            <i class="fas fa-money-bill-wave"></i> Withdrawals
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('kyc')">
                            <i class="fas fa-id-card"></i> KYC Verification
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('settings')">
                            <i class="fas fa-cogs"></i> Settings
                        </a></li>
                    </ul>
                </div>
                <div class="admin-main">
                    <!-- Overview Tab -->
                    <div id="overview-tab">
                        <h2>Platform Overview</h2>
                        <div class="admin-stats">
                            <div class="admin-stat">
                                <span class="value" id="admin-total-users">0</span>
                                <span class="label">Total Users</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-total-invested">0</span>
                                <span class="label">Total Invested</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-total-withdrawn">0</span>
                                <span class="label">Total Withdrawn</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-pending-requests">0</span>
                                <span class="label">Pending Requests</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-platform-earnings">0</span>
                                <span class="label">Platform Earnings</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-active-investments">0</span>
                                <span class="label">Active Investments</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-today-deposits">0</span>
                                <span class="label">Today's Deposits</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-today-withdrawals">0</span>
                                <span class="label">Today's Withdrawals</span>
                            </div>
                        </div>

                        <div class="chart-container">
                            <h3>Platform Growth</h3>
                            <canvas id="platform-growth-chart"></canvas>
                        </div>
                        
                        <div class="chart-container">
                            <h3>Revenue Overview</h3>
                            <canvas id="revenue-chart"></canvas>
                        </div>
                    </div>

                    <!-- Users Tab -->
                    <div id="users-tab" style="display: none;">
                        <h2>User Management</h2>
                        <div style="margin-bottom: 1rem; display: flex; gap: 1rem; align-items: center;">
                            <input type="text" class="form-control" placeholder="Search users..." id="user-search" style="width: 300px;">
                            <select class="form-control" id="user-filter" style="width: 150px;">
                                <option value="all">All Users</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="kyc_pending">KYC Pending</option>
                                <option value="kyc_verified">KYC Verified</option>
                            </select>
                            <button class="btn btn-primary" onclick="app.loadAdminUsers()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                            <button class="btn btn-primary" onclick="app.exportUsers()">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                        <div style="overflow-x: auto;">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Balance</th>
                                        <th>Status</th>
                                        <th>KYC</th>
                                        <th>Joined</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-users-table">
                                    <!-- Users will be dynamically loaded here -->
                                </tbody>
                            </table>
                        </div>
                        <div style="margin-top: 1rem; display: flex; justify-content: space-between; align-items: center;">
                            <div id="user-pagination-info">Showing 0 users</div>
                            <div class="pagination">
                                <button class="btn btn-outline" onclick="app.prevUserPage()" id="prev-user-page" disabled>
                                    <i class="fas fa-chevron-left"></i> Previous
                                </button>
                                <span id="user-page-info" style="margin: 0 1rem;">Page 1</span>
                                <button class="btn btn-outline" onclick="app.nextUserPage()" id="next-user-page" disabled>
                                    Next <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Investments Tab -->
                    <div id="investments-tab" style="display: none;">
                        <h2>Investment Management</h2>
                        <div style="margin-bottom: 1rem; display: flex; gap: 1rem; align-items: center;">
                            <select class="filter-select" id="investment-filter" onchange="app.filterAdminInvestments()">
                                <option value="all">All Investments</option>
                                <option value="pending">Pending</option>
                                <option value="active">Active</option>
                                <option value="completed">Completed</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                            <input type="date" id="investment-date-filter" class="form-control" style="width: 150px;">
                            <button class="btn btn-primary" onclick="app.loadAdminInvestments()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        <div style="overflow-x: auto;">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Plan</th>
                                        <th>Amount</th>
                                        <th>Daily Interest</th>
                                        <th>Start Date</th>
                                        <th>End Date</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-investments-table">
                                    <!-- Investment requests will be dynamically loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Deposits Tab -->
                    <div id="deposits-tab" style="display: none;">
                        <h2>Deposit Management</h2>
                        <div style="margin-bottom: 1rem; display: flex; gap: 1rem; align-items: center;">
                            <select class="filter-select" id="deposit-filter" onchange="app.filterAdminDeposits()">
                                <option value="all">All Deposits</option>
                                <option value="pending">Pending</option>
                                <option value="approved">Approved</option>
                                <option value="rejected">Rejected</option>
                            </select>
                            <input type="date" id="deposit-date-filter" class="form-control" style="width: 150px;">
                            <button class="btn btn-primary" onclick="app.loadAdminDeposits()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        <div style="overflow-x: auto;">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Proof</th>
                                        <th>Date</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-deposits-table">
                                    <!-- Deposit requests will be dynamically loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Withdrawals Tab -->
                    <div id="withdrawals-tab" style="display: none;">
                        <h2>Withdrawal Management</h2>
                        <div style="margin-bottom: 1rem; display: flex; gap: 1rem; align-items: center;">
                            <select class="filter-select" id="withdrawal-filter" onchange="app.filterAdminWithdrawals()">
                                <option value="all">All Withdrawals</option>
                                <option value="pending">Pending</option>
                                <option value="approved">Approved</option>
                                <option value="rejected">Rejected</option>
                                <option value="processing">Processing</option>
                                <option value="completed">Completed</option>
                            </select>
                            <input type="date" id="withdrawal-date-filter" class="form-control" style="width: 150px;">
                            <button class="btn btn-primary" onclick="app.loadAdminWithdrawals()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        <div style="overflow-x: auto;">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Fee</th>
                                        <th>Net Amount</th>
                                        <th>Method</th>
                                        <th>Date</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-withdrawals-table">
                                    <!-- Withdrawal requests will be dynamically loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- KYC Tab -->
                    <div id="kyc-tab" style="display: none;">
                        <h2>KYC Verification Management</h2>
                        <div style="margin-bottom: 1rem; display: flex; gap: 1rem; align-items: center;">
                            <select class="filter-select" id="kyc-filter" onchange="app.filterAdminKYC()">
                                <option value="all">All KYC</option>
                                <option value="pending">Pending</option>
                                <option value="approved">Approved</option>
                                <option value="rejected">Rejected</option>
                            </select>
                            <input type="date" id="kyc-date-filter" class="form-control" style="width: 150px;">
                            <button class="btn btn-primary" onclick="app.loadAdminKYC()">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                        <div style="overflow-x: auto;">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>ID Type</th>
                                        <th>ID Number</th>
                                        <th>Submitted</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-kyc-table">
                                    <!-- KYC requests will be dynamically loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Settings Tab -->
                    <div id="settings-tab" style="display: none;">
                        <h2>Platform Settings</h2>
                        <form id="admin-settings-form">
                            <div class="form-group">
                                <label for="platform-name">Platform Name</label>
                                <input type="text" id="platform-name" class="form-control" value="Raw Wealthy">
                            </div>
                            <div class="form-group">
                                <label for="welcome-bonus">Welcome Bonus ()</label>
                                <input type="number" id="welcome-bonus" class="form-control" value="10000">
                            </div>
                            <div class="form-group">
                                <label for="referral-commission">Referral Commission (%)</label>
                                <input type="number" id="referral-commission" class="form-control" value="15">
                            </div>
                            <div class="form-group">
                                <label for="withdrawal-fee">Withdrawal Fee (%)</label>
                                <input type="number" id="withdrawal-fee" class="form-control" value="5">
                            </div>
                            <div class="form-group">
                                <label for="min-investment">Minimum Investment ()</label>
                                <input type="number" id="min-investment" class="form-control" value="3500">
                            </div>
                            <div class="form-group">
                                <label for="min-withdrawal">Minimum Withdrawal ()</label>
                                <input type="number" id="min-withdrawal" class="form-control" value="1000">
                            </div>
                            <div class="form-group">
                                <label for="max-withdrawal">Maximum Withdrawal ()</label>
                                <input type="number" id="max-withdrawal" class="form-control" value="500000">
                            </div>
                            <div class="form-group">
                                <label for="daily-interest-cap">Daily Interest Cap (%)</label>
                                <input type="number" id="daily-interest-cap" class="form-control" value="10">
                            </div>
                            <button type="submit" class="btn btn-primary">Save Settings</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Modal -->
    <div id="invest-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Make Investment</h2>
                <button class="close-modal" onclick="app.closeModal('invest-modal')">&times;</button>
            </div>
            <form id="invest-form">
                <div class="form-group">
                    <label for="investment-plan">Select Raw Material</label>
                    <select id="investment-plan" class="form-control" required>
                        <option value="">Choose a raw material</option>
                        <!-- Options will be dynamically loaded -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="investment-amount">Investment Amount ()</label>
                    <input type="number" id="investment-amount" class="form-control" placeholder="Enter amount" min="3500" required>
                    <small style="color: var(--text-muted);">Minimum investment: 3,500</small>
                </div>
                <div class="form-group">
                    <label for="investment-duration">Investment Duration (Days)</label>
                    <select id="investment-duration" class="form-control" required>
                        <option value="30">30 Days</option>
                        <option value="60">60 Days</option>
                        <option value="90">90 Days</option>
                        <option value="180">180 Days</option>
                        <option value="365">365 Days</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Auto Renew Investment</label>
                    <div style="margin-top: 10px;">
                        <input type="checkbox" id="auto-renew" style="margin-right: 8px;">
                        <label for="auto-renew">Automatically reinvest earnings when investment completes</label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Upload Payment Proof (Required)</label>
                    <div class="file-upload-container" onclick="document.getElementById('investment-proof').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload payment screenshot</p>
                        <input type="file" id="investment-proof" accept="image/*" style="display: none;" required>
                    </div>
                    <img id="investment-preview" class="file-preview" src="" alt="Investment proof preview">
                </div>
                <div class="form-group">
                    <label for="investment-remarks">Remarks (Optional)</label>
                    <textarea id="investment-remarks" class="form-control" placeholder="Any additional notes" rows="3"></textarea>
                </div>
                <div id="investment-summary" style="background: var(--secondary); padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: none;">
                    <h4>Investment Summary</h4>
                    <div class="calculation-item">
                        <span>Principal Amount:</span>
                        <span id="summary-principal">0.00</span>
                    </div>
                    <div class="calculation-item">
                        <span>Daily Interest:</span>
                        <span id="summary-daily-interest">0.00</span>
                    </div>
                    <div class="calculation-item">
                        <span>Total Interest:</span>
                        <span id="summary-total-interest">0.00</span>
                    </div>
                    <div class="calculation-item total">
                        <span>Total Return:</span>
                        <span id="summary-total-return">0.00</span>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="invest-submit-btn">
                    <span class="btn-text">Submit Investment</span>
                    <div class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Deposit Modal -->
    <div id="deposit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Deposit Funds</h2>
                <button class="close-modal" onclick="app.closeModal('deposit-modal')">&times;</button>
            </div>
            <form id="deposit-form">
                <div class="form-group">
                    <label for="deposit-amount">Amount to Deposit ()</label>
                    <input type="number" id="deposit-amount" class="form-control" placeholder="Enter amount" min="3500" required>
                    <small style="color: var(--text-muted);">Minimum deposit: 3,500</small>
                </div>
                <div class="form-group">
                    <label for="deposit-method">Payment Method</label>
                    <select id="deposit-method" class="form-control" required>
                        <option value="">Select payment method</option>
                        <option value="bank_transfer">Bank Transfer</option>
                        <option value="opay">Opay</option>
                        <option value="card">Credit/Debit Card</option>
                        <option value="crypto">Cryptocurrency</option>
                        <option value="ussd">USSD</option>
                    </select>
                </div>
                <div id="bank-details-section" style="display: none;">
                    <div class="form-group">
                        <label>Bank Account Details</label>
                        <div style="background: var(--secondary); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                            <p><strong>Bank:</strong> Raw Wealthy Investment Bank</p>
                            <p><strong>Account Name:</strong> Raw Wealthy Investment Ltd</p>
                            <p><strong>Account Number:</strong> 9162804535</p>
                            <p><strong>Account Name:</strong> Israel Wycliffe</p>
                            <p><strong>Sort Code:</strong> 123456</p>
                        </div>
                    </div>
                </div>
                <div id="opay-details-section" style="display: none;">
                    <div class="form-group">
                        <label>Opay Payment Details</label>
                        <div style="background: var(--secondary); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                            <p><strong>Opay Name:</strong> Raw Wealthy Investment</p>
                            <p><strong>Opay Number:</strong> 09162804535</p>
                            <p><strong>Account Name:</strong> Israel Wycliffe</p>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Upload Payment Proof</label>
                    <div class="file-upload-container" onclick="document.getElementById('deposit-proof').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload payment proof</p>
                        <input type="file" id="deposit-proof" accept="image/*" style="display: none;" required>
                    </div>
                    <img id="deposit-preview" class="file-preview" src="" alt="Deposit proof preview">
                </div>
                <div class="form-group">
                    <label for="deposit-remarks">Remarks (Optional)</label>
                    <textarea id="deposit-remarks" class="form-control" placeholder="Any additional notes" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="deposit-submit-btn">
                    <span class="btn-text">Submit Deposit Request</span>
                    <div class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div id="withdraw-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Withdraw Funds</h2>
                <button class="close-modal" onclick="app.closeModal('withdraw-modal')">&times;</button>
            </div>
            <form id="withdraw-form">
                <div class="withdrawal-fee-notice">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>A 5% withdrawal fee will be deducted from your withdrawal amount.</span>
                </div>
                <div class="form-group">
                    <label for="withdraw-amount">Amount to Withdraw ()</label>
                    <input type="number" id="withdraw-amount" class="form-control" placeholder="Enter amount" min="1000" required>
                    <small style="color: var(--text-muted);">Minimum withdrawal: 1,000 | Maximum withdrawal: 500,000</small>
                    <small style="color: var(--text-muted); display: block; margin-top: 0.5rem;">Available Balance: <span id="available-balance">0.00</span></small>
                </div>
                <div class="form-group">
                    <label for="withdraw-method">Withdrawal Method</label>
                    <select id="withdraw-method" class="form-control" required>
                        <option value="">Select withdrawal method</option>
                        <option value="bank_transfer">Bank Transfer</option>
                        <option value="opay">Opay</option>
                        <option value="crypto">Cryptocurrency</option>
                        <option value="mobile_money">Mobile Money</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="withdraw-account">Bank Account Details</label>
                    <div style="background: var(--secondary); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        <p id="withdraw-account-info">No bank account saved. Please update your profile.</p>
                    </div>
                </div>
                <div class="form-group">
                    <label>Withdrawal Details</label>
                    <div style="background: var(--secondary); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        <p><strong>Requested Amount:</strong> <span id="requested-amount">0.00</span></p>
                        <p><strong>Withdrawal Fee (5%):</strong> <span id="withdrawal-fee-amount">0.00</span></p>
                        <p><strong>Processing Time:</strong> <span>24-48 hours</span></p>
                        <p><strong>You Will Receive:</strong> <span id="net-amount" style="color: var(--accent-gold); font-weight: 600;">0.00</span></p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="withdraw-remarks">Remarks (Optional)</label>
                    <textarea id="withdraw-remarks" class="form-control" placeholder="Any additional notes" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="withdraw-submit-btn">
                    <span class="btn-text">Submit Withdrawal Request</span>
                    <div class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Calculator Modal -->
    <div id="calculator-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Investment Calculator</h2>
                <button class="close-modal" onclick="app.closeModal('calculator-modal')">&times;</button>
            </div>
            <div class="calculator-container">
                <div class="form-group">
                    <label for="calc-investment-amount">Investment Amount ()</label>
                    <input type="number" id="calc-investment-amount" class="form-control" value="3500" min="3500" step="500">
                </div>
                <div class="form-group">
                    <label for="calc-plan">Investment Plan</label>
                    <select id="calc-plan" class="form-control">
                        <!-- Options will be dynamically loaded -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="calc-duration">Investment Duration (days)</label>
                    <input type="range" id="calc-duration" class="form-control" min="30" max="365" value="90">
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                        <span>30 days</span>
                        <span id="calc-duration-value">90 days</span>
                        <span>365 days</span>
                    </div>
                </div>
                <div class="calculator-result">
                    <h3>Investment Projection</h3>
                    <div class="value" id="calc-total-return">0.00</div>
                    <p>Total Return after <span id="calc-duration-display">90</span> days</p>
                    <div style="margin-top: 1rem; text-align: left;">
                        <p><strong>Daily Earnings:</strong> <span id="calc-daily-earnings">0.00</span></p>
                        <p><strong>Monthly Earnings:</strong> <span id="calc-monthly-earnings">0.00</span></p>
                        <p><strong>Total Profit:</strong> <span id="calc-total-profit">0.00</span></p>
                        <p><strong>ROI:</strong> <span id="calc-roi">0%</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Reset Modal -->
    <div id="password-reset-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Reset Password</h2>
                <button class="close-modal" onclick="app.closeModal('password-reset-modal')">&times;</button>
            </div>
            <div class="password-reset-steps">
                <div class="password-reset-step active">
                    <div class="password-reset-step-number">1</div>
                    <div class="password-reset-step-label">Email</div>
                </div>
                <div class="password-reset-step">
                    <div class="password-reset-step-number">2</div>
                    <div class="password-reset-step-label">Code</div>
                </div>
                <div class="password-reset-step">
                    <div class="password-reset-step-number">3</div>
                    <div class="password-reset-step-label">New Password</div>
                </div>
            </div>
            <form id="password-reset-form">
                <div id="password-reset-step-1">
                    <div class="form-group">
                        <label for="reset-email">Enter your email address</label>
                        <input type="email" id="reset-email" class="form-control" placeholder="Your registered email" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="reset-send-btn">
                        <span class="btn-text">Send Reset Code</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </div>
                <div id="password-reset-step-2" style="display: none;">
                    <div class="form-group">
                        <label for="reset-code">Enter the 6-digit code sent to your email</label>
                        <input type="text" id="reset-code" class="form-control" placeholder="Enter code" maxlength="6" required>
                    </div>
                    <button type="button" class="btn btn-outline" style="width: 100%; margin-bottom: 1rem;" onclick="app.resendResetCode()">
                        Resend Code
                    </button>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="reset-verify-btn">
                        <span class="btn-text">Verify Code</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </div>
                <div id="password-reset-step-3" style="display: none;">
                    <div class="form-group">
                        <label for="new-reset-password">New Password</label>
                        <input type="password" id="new-reset-password" class="form-control" placeholder="Enter new password" required>
                    </div>
                    <div class="form-group">
                        <label for="confirm-reset-password">Confirm New Password</label>
                        <input type="password" id="confirm-reset-password" class="form-control" placeholder="Confirm new password" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="reset-change-btn">
                        <span class="btn-text">Change Password</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- User Detail Modal -->
    <div id="user-detail-modal" class="modal">
        <div class="modal-content user-detail-modal">
            <div class="modal-header">
                <h2>User Details</h2>
                <button class="close-modal" onclick="app.closeModal('user-detail-modal')">&times;</button>
            </div>
            <div id="user-detail-content">
                <!-- User details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
        <i class="fas fa-chevron-up"></i>
    </div>

    <script>
        // ==================== RAW WEALTHY INVESTMENT PLATFORM v2.0 ====================
        // Fully connected with backend endpoints and advanced features

        const app = {
            // ==================== CONFIGURATION ====================
            config: {
                API_BASE_URL: 'https://real-wealthy-1.onrender.com/api',
                VERSION: '2.0.0',
                MIN_INVESTMENT: 3500,
                MIN_DEPOSIT: 3500,
                MIN_WITHDRAWAL: 1000,
                MAX_WITHDRAWAL: 500000,
                PLATFORM_FEE_PERCENT: 5,
                REFERRAL_COMMISSION_PERCENT: 15,
                WELCOME_BONUS: 10000,
                SESSION_TIMEOUT: 30 * 60 * 1000,
                AUTO_REFRESH_INTERVAL: 30 * 1000,
                FILE_SIZE_LIMIT: 10 * 1024 * 1024,
                
                // Bank Details for Deposits
                BANK_DETAILS: {
                    bank_name: 'Raw Wealthy Investment Bank',
                    account_name: 'Israel Wycliffe',
                    account_number: '9162804535',
                    sort_code: '123456'
                },
                
                // OPay Details
                OPAY_DETAILS: {
                    name: 'Israel Wycliffe',
                    number: '09162804535'
                }
            },

            // ==================== GLOBAL STATE ====================
            state: {
                currentUser: null,
                token: localStorage.getItem('raw_wealthy_token'),
                isAdmin: false,
                isAuthenticated: false,
                investmentPlans: [],
                userStats: {
                    totalBalance: 0,
                    activeInvestments: 0,
                    totalEarnings: 0,
                    referralEarnings: 0,
                    todaysEarnings: 0,
                    dailyInterest: 0,
                    pendingWithdrawals: 0,
                    monthlyProjection: 0
                },
                activePage: 'home',
                theme: localStorage.getItem('theme') || 'dark',
                mobileMenuOpen: false,
                charts: {},
                adminData: {
                    users: [],
                    investments: [],
                    deposits: [],
                    withdrawals: [],
                    kyc: [],
                    currentPage: 1,
                    totalPages: 1,
                    itemsPerPage: 10
                }
            },

            // ==================== INITIALIZATION ====================
            init() {
                console.log(' Raw Wealthy v2.0 Initializing...');
                
                // Initialize core systems
                this.initTheme();
                this.setupEventListeners();
                this.initFileUploadPreviews();
                this.initPasswordToggles();
                
                // Check authentication
                this.checkAuthentication();
                
                // Load initial data
                this.loadInvestmentPlans();
                
                // Setup automatic refresh
                this.startAutoRefresh();
                
                console.log(' Application initialized successfully');
            },

            // ==================== AUTHENTICATION ====================
            async checkAuthentication() {
                if (this.state.token) {
                    try {
                        const response = await this.apiRequest('/profile');
                        if (response.success) {
                            this.state.currentUser = response.data;
                            this.state.isAdmin = ['admin', 'super_admin'].includes(this.state.currentUser.role);
                            this.state.isAuthenticated = true;
                            
                            this.updateUserUI();
                            this.showPage('dashboard');
                            this.updateDashboard();
                            
                            if (this.state.isAdmin) {
                                this.loadAdminData();
                            }
                        }
                    } catch (error) {
                        this.logout();
                    }
                } else {
                    this.showPage('home');
                }
            },

            async handleRegistration(e) {
                e.preventDefault();
                
                const form = e.target;
                const formData = new FormData(form);
                const data = {
                    full_name: formData.get('fullname'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    password: formData.get('password'),
                    referral_code: formData.get('referral') || ''
                };
                
                // Validation
                if (!this.validateEmail(data.email)) {
                    this.showToast('Please enter a valid email address', 'error');
                    return;
                }
                
                if (data.password.length < 6) {
                    this.showToast('Password must be at least 6 characters', 'error');
                    return;
                }
                
                this.setLoadingState('register-btn', true);
                
                try {
                    const response = await this.apiRequest('/auth/register', {
                        method: 'POST',
                        body: data
                    });
                    
                    if (response.success) {
                        this.state.token = response.data.token;
                        this.state.currentUser = response.data.user;
                        localStorage.setItem('raw_wealthy_token', response.data.token);
                        
                        this.showToast('Registration successful! Welcome to Raw Wealthy.', 'success');
                        this.setLoadingState('register-btn', false);
                        
                        setTimeout(() => {
                            this.showPage('dashboard');
                            this.updateDashboard();
                        }, 1500);
                    }
                } catch (error) {
                    console.error('Registration failed:', error);
                    this.setLoadingState('register-btn', false);
                }
            },

            async handleLogin(e) {
                e.preventDefault();
                
                const form = e.target;
                const formData = new FormData(form);
                const data = {
                    email: formData.get('email'),
                    password: formData.get('password')
                };
                
                this.setLoadingState('login-btn', true);
                
                try {
                    const response = await this.apiRequest('/auth/login', {
                        method: 'POST',
                        body: data
                    });
                    
                    if (response.success) {
                        this.state.token = response.data.token;
                        this.state.currentUser = response.data.user;
                        this.state.isAdmin = ['admin', 'super_admin'].includes(this.state.currentUser.role);
                        localStorage.setItem('raw_wealthy_token', response.data.token);
                        
                        this.showToast('Login successful!', 'success');
                        this.setLoadingState('login-btn', false);
                        
                        setTimeout(() => {
                            if (this.state.isAdmin) {
                                this.showPage('admin');
                            } else {
                                this.showPage('dashboard');
                            }
                            this.updateDashboard();
                        }, 1000);
                    }
                } catch (error) {
                    console.error('Login failed:', error);
                    this.setLoadingState('login-btn', false);
                }
            },

            logout() {
                this.state.currentUser = null;
                this.state.token = null;
                this.state.isAdmin = false;
                this.state.isAuthenticated = false;
                localStorage.removeItem('raw_wealthy_token');
                
                this.showPage('home');
                this.showToast('You have been logged out successfully.', 'info');
            },

            // ==================== DASHBOARD SYSTEM ====================
            async updateDashboard() {
                if (!this.state.isAuthenticated) return;
                
                try {
                    // Load user profile with all data
                    const profileResponse = await this.apiRequest('/profile');
                    if (profileResponse.success) {
                        this.state.currentUser = profileResponse.data;
                        this.updateUserUI();
                    }
                    
                    // Load user investments
                    const investmentsResponse = await this.apiRequest('/investments?status=active');
                    if (investmentsResponse.success) {
                        this.updateInvestmentsList(investmentsResponse.data);
                        this.calculateDailyEarnings(investmentsResponse.data);
                    }
                    
                    // Load transactions
                    const transactionsResponse = await this.apiRequest('/transactions?limit=10');
                    if (transactionsResponse.success) {
                        this.updateTransactionsList(transactionsResponse.data);
                    }
                    
                    // Load referral stats
                    const referralResponse = await this.apiRequest('/referrals/stats');
                    if (referralResponse.success) {
                        this.updateReferralStats(referralResponse.data);
                    }
                    
                    // Update charts
                    this.updateCharts();
                    
                } catch (error) {
                    console.error('Dashboard update failed:', error);
                }
            },

            calculateDailyEarnings(investments) {
                let totalDailyInterest = 0;
                let totalMonthlyProjection = 0;
                let totalActiveInvestments = 0;
                
                investments.forEach(investment => {
                    const amount = parseFloat(investment.amount) || 0;
                    const dailyInterestRate = parseFloat(investment.daily_interest) || 0;
                    
                    // Calculate daily interest
                    const dailyInterest = (amount * dailyInterestRate) / 100;
                    totalDailyInterest += dailyInterest;
                    
                    // Add to active investments total
                    totalActiveInvestments += amount;
                    
                    // Calculate monthly projection (30 days)
                    totalMonthlyProjection += (dailyInterest * 30);
                });
                
                // Update UI
                this.updateStat('daily-interest', totalDailyInterest);
                this.updateStat('today-earnings', totalDailyInterest);
                this.updateStat('active-investments', totalActiveInvestments);
                this.updateStat('monthly-projection', totalMonthlyProjection);
                
                // Update earnings breakdown
                this.updateDailyEarningsBreakdown(investments, totalDailyInterest);
                
                // Update state
                this.state.userStats.dailyInterest = totalDailyInterest;
                this.state.userStats.todaysEarnings = totalDailyInterest;
                this.state.userStats.activeInvestments = totalActiveInvestments;
                this.state.userStats.monthlyProjection = totalMonthlyProjection;
            },

            updateDailyEarningsBreakdown(investments, totalDailyInterest) {
                const container = document.getElementById('daily-earnings-breakdown');
                if (!container) return;
                
                let html = '';
                
                investments.forEach((investment, index) => {
                    const amount = parseFloat(investment.amount) || 0;
                    const dailyInterestRate = parseFloat(investment.daily_interest) || 0;
                    const dailyEarning = (amount * dailyInterestRate) / 100;
                    const percentage = totalDailyInterest > 0 ? (dailyEarning / totalDailyInterest * 100).toFixed(1) : 0;
                    
                    html += `
                        <div class="calculation-item">
                            <span>${investment.plan?.name || 'Investment'} (${dailyInterestRate}%):</span>
                            <span>${dailyEarning.toLocaleString()} (${percentage}%)</span>
                        </div>
                    `;
                });
                
                html += `
                    <div class="calculation-item total">
                        <span>Total Daily Earnings:</span>
                        <span>${totalDailyInterest.toLocaleString()}</span>
                    </div>
                `;
                
                container.innerHTML = html;
            },

            updateInvestmentsList(investments) {
                const container = document.getElementById('active-investments-list');
                if (!container) return;
                
                if (investments.length === 0) {
                    container.innerHTML = `
                        <div style="text-align: center; padding: 2rem; color: var(--text-muted);">
                            <i class="fas fa-chart-line fa-3x" style="margin-bottom: 1rem; opacity: 0.5;"></i>
                            <h4>No Active Investments</h4>
                            <p>Start your first investment to begin earning</p>
                            <button class="btn btn-primary" onclick="app.openModal('invest-modal')" style="margin-top: 1rem;">
                                <i class="fas fa-plus"></i> Start Investing
                            </button>
                        </div>
                    `;
                    return;
                }
                
                let html = '';
                investments.forEach(investment => {
                    const amount = parseFloat(investment.amount) || 0;
                    const dailyInterest = parseFloat(investment.daily_interest) || 0;
                    const dailyEarning = (amount * dailyInterest) / 100;
                    const startDate = new Date(investment.start_date);
                    const endDate = new Date(investment.end_date);
                    const now = new Date();
                    const totalDays = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24));
                    const elapsedDays = Math.ceil((now - startDate) / (1000 * 60 * 60 * 24));
                    const progress = Math.min((elapsedDays / totalDays) * 100, 100);
                    
                    html += `
                        <div class="investment-item">
                            <div style="flex: 1;">
                                <div class="investment-name">${investment.plan?.name || 'Investment'}</div>
                                <div class="investment-status">Active  ${dailyInterest}% daily</div>
                                <div style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--text-muted);">
                                    Started: ${startDate.toLocaleDateString()}  Ends: ${endDate.toLocaleDateString()}
                                </div>
                                <div style="margin-top: 0.5rem;">
                                    <div style="height: 6px; background: var(--secondary); border-radius: 3px; overflow: hidden;">
                                        <div style="height: 100%; width: ${progress}%; background: var(--accent-emerald); border-radius: 3px;"></div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; font-size: 0.8rem; margin-top: 0.3rem;">
                                        <span>Day ${elapsedDays} of ${totalDays}</span>
                                        <span>${progress.toFixed(1)}% Complete</span>
                                    </div>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div class="investment-amount">${amount.toLocaleString()}</div>
                                <div style="font-size: 0.9rem; color: var(--accent-emerald); margin-top: 0.3rem;">
                                    ${dailyEarning.toLocaleString()}/day
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                container.innerHTML = html;
            },

            updateTransactionsList(transactions) {
                const container = document.getElementById('recent-transactions-list');
                if (!container) return;
                
                if (transactions.length === 0) {
                    container.innerHTML = `
                        <div style="text-align: center; padding: 2rem; color: var(--text-muted);">
                            <i class="fas fa-exchange-alt fa-3x" style="margin-bottom: 1rem; opacity: 0.5;"></i>
                            <h4>No Transactions Yet</h4>
                            <p>Your transaction history will appear here</p>
                        </div>
                    `;
                    return;
                }
                
                let html = '';
                transactions.forEach(transaction => {
                    const amount = parseFloat(transaction.amount) || 0;
                    const date = new Date(transaction.createdAt);
                    const type = transaction.type || 'transaction';
                    const status = transaction.status || 'completed';
                    
                    // Determine icon and color based on type
                    let icon = 'exchange-alt';
                    let color = 'var(--text-light)';
                    
                    switch(type) {
                        case 'deposit':
                            icon = 'plus-circle';
                            color = 'var(--success)';
                            break;
                        case 'withdrawal':
                            icon = 'minus-circle';
                            color = 'var(--error)';
                            break;
                        case 'investment':
                            icon = 'chart-line';
                            color = 'var(--accent-gold)';
                            break;
                        case 'earning':
                            icon = 'coins';
                            color = 'var(--accent-emerald)';
                            break;
                        case 'referral_bonus':
                            icon = 'user-friends';
                            color = 'var(--accent-purple)';
                            break;
                    }
                    
                    html += `
                        <div class="transaction-item">
                            <div style="display: flex; align-items: center; gap: 1rem; flex: 1;">
                                <div style="width: 40px; height: 40px; border-radius: 50%; background: ${color}20; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-${icon}" style="color: ${color};"></i>
                                </div>
                                <div>
                                    <div class="transaction-type">${this.formatTransactionType(type)}</div>
                                    <div class="transaction-date">${date.toLocaleDateString()}  ${date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                                    <div style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.2rem;">
                                        ${transaction.description || ''}
                                    </div>
                                </div>
                            </div>
                            <div class="transaction-amount" style="color: ${amount >= 0 ? 'var(--success)' : 'var(--error)'};">
                                ${amount >= 0 ? '+' : ''}${Math.abs(amount).toLocaleString()}
                            </div>
                        </div>
                    `;
                });
                
                container.innerHTML = html;
            },

            formatTransactionType(type) {
                const types = {
                    'deposit': 'Deposit',
                    'withdrawal': 'Withdrawal',
                    'investment': 'Investment',
                    'earning': 'Daily Earnings',
                    'interest': 'Interest',
                    'referral_bonus': 'Referral Bonus',
                    'bonus': 'Bonus',
                    'fee': 'Platform Fee'
                };
                return types[type] || type.replace('_', ' ').toUpperCase();
            },

            updateReferralStats(stats) {
                // Update dashboard stats
                this.updateStat('referral-bonus', stats.total_earnings || 0);
                this.updateStat('total-referrals-count', stats.total_referrals || 0);
                
                // Update state
                this.state.userStats.referralEarnings = stats.total_earnings || 0;
                
                // Update referral page if it's visible
                if (document.getElementById('referral-page')?.style.display === 'flex') {
                    this.updateReferralPage(stats);
                }
            },

            updateReferralPage(stats) {
                document.getElementById('total-referrals').textContent = stats.total_referrals || 0;
                document.getElementById('active-referrals').textContent = stats.active_referrals || 0;
                document.getElementById('total-referral-earnings').textContent = `${(stats.total_earnings || 0).toLocaleString()}`;
                document.getElementById('pending-referral-earnings').textContent = `${(stats.pending_earnings || 0).toLocaleString()}`;
                document.getElementById('today-referral-earnings').textContent = `${(stats.today_earnings || 0).toLocaleString()}`;
                
                // Update referral link and code
                const referralLink = document.getElementById('referral-link');
                const referralCode = document.getElementById('referral-code');
                
                if (referralLink && this.state.currentUser?.referral_code) {
                    referralLink.value = `${window.location.origin}/register?ref=${this.state.currentUser.referral_code}`;
                }
                
                if (referralCode && this.state.currentUser?.referral_code) {
                    referralCode.value = this.state.currentUser.referral_code;
                }
            },

            // ==================== INVESTMENT PLANS ====================
            async loadInvestmentPlans() {
                try {
                    const response = await this.apiRequest('/plans');
                    if (response.success) {
                        this.state.investmentPlans = response.data;
                        this.renderInvestmentPlans();
                        this.renderInvestmentPlansPage();
                    }
                } catch (error) {
                    console.error('Failed to load investment plans:', error);
                    // Use default plans as fallback
                    this.state.investmentPlans = this.getDefaultPlans();
                    this.renderInvestmentPlans();
                }
            },

            getDefaultPlans() {
                return [
                    {
                        _id: '1',
                        name: 'Cocoa Beans',
                        description: 'Invest in premium cocoa beans with stable returns',
                        min_amount: 3500,
                        daily_interest: 2.5,
                        total_interest: 75,
                        duration: 30,
                        risk_level: 'low',
                        color: '#f59e0b',
                        icon: 'seedling',
                        is_popular: true
                    },
                    {
                        _id: '2',
                        name: 'Gold',
                        description: 'Precious metal investment with high liquidity',
                        min_amount: 50000,
                        daily_interest: 3.2,
                        total_interest: 96,
                        duration: 30,
                        risk_level: 'medium',
                        color: '#FFD700',
                        icon: 'gem',
                        is_popular: true
                    },
                    {
                        _id: '3',
                        name: 'Crude Oil',
                        description: 'Energy sector investment with premium returns',
                        min_amount: 100000,
                        daily_interest: 4.1,
                        total_interest: 123,
                        duration: 30,
                        risk_level: 'high',
                        color: '#000000',
                        icon: 'oil-can',
                        is_popular: false
                    }
                ];
            },

            renderInvestmentPlans() {
                const container = document.getElementById('plans-container');
                if (!container) return;
                
                container.innerHTML = this.state.investmentPlans.map(plan => `
                    <div class="plan-card">
                        ${plan.is_popular ? '<div class="plan-badge">Most Popular</div>' : ''}
                        <div class="plan-header">
                            <h3 class="plan-name">${plan.name}</h3>
                            <div class="plan-price">${plan.min_amount.toLocaleString()}</div>
                            <div class="plan-period">Minimum Investment</div>
                        </div>
                        <div class="plan-features">
                            <div class="plan-feature">
                                <i class="fas fa-chart-line"></i>
                                <span>Daily Returns: ${plan.daily_interest}%</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-percentage"></i>
                                <span>Total Returns: ${plan.total_interest}%</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Duration: ${plan.duration} Days</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-shield-alt"></i>
                                <span>Risk Level: ${plan.risk_level}</span>
                            </div>
                        </div>
                        <button class="btn btn-primary plan-button" onclick="app.openInvestmentModal('${plan._id}')">
                            Invest Now
                        </button>
                    </div>
                `).join('');
            },

            renderInvestmentPlansPage() {
                const container = document.getElementById('investment-plans-list');
                if (!container) return;
                
                container.innerHTML = this.state.investmentPlans.map(plan => `
                    <div class="plan-card">
                        ${plan.is_popular ? '<div class="plan-badge">Recommended</div>' : ''}
                        <div class="plan-header">
                            <h3 class="plan-name">${plan.name}</h3>
                            <div class="plan-price">${plan.daily_interest}%</div>
                            <div class="plan-period">Daily Returns</div>
                        </div>
                        <div class="plan-features">
                            <div class="plan-feature">
                                <i class="fas fa-money-bill-wave"></i>
                                <span>Min Investment: ${plan.min_amount.toLocaleString()}</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-percentage"></i>
                                <span>Total Returns: ${plan.total_interest}%</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Duration: ${plan.duration} Days</span>
                            </div>
                            <div class="plan-feature">
                                <i class="fas fa-shield-alt"></i>
                                <span>Risk: ${plan.risk_level}</span>
                            </div>
                        </div>
                        <p style="color: var(--text-muted); margin: 1rem 0; font-size: 0.9rem;">${plan.description}</p>
                        <button class="btn btn-primary plan-button" onclick="app.openInvestmentModal('${plan._id}')">
                            Invest in ${plan.name}
                        </button>
                    </div>
                `).join('');
            },

            // ==================== INVESTMENT MODAL ====================
            async openInvestmentModal(planId) {
                if (!this.state.isAuthenticated) {
                    this.showToast('Please login to make an investment', 'error');
                    this.showPage('login');
                    return;
                }
                
                const plan = this.state.investmentPlans.find(p => p._id === planId);
                if (!plan) return;
                
                // Populate plan select
                const planSelect = document.getElementById('investment-plan');
                if (planSelect) {
                    planSelect.innerHTML = `
                        <option value="${plan._id}">${plan.name} - ${plan.daily_interest}% daily</option>
                    `;
                }
                
                // Set minimum amount
                const amountInput = document.getElementById('investment-amount');
                if (amountInput) {
                    amountInput.min = plan.min_amount;
                    amountInput.value = plan.min_amount;
                    amountInput.placeholder = `Minimum: ${plan.min_amount.toLocaleString()}`;
                }
                
                // Update summary
                this.updateInvestmentSummary();
                
                this.openModal('invest-modal');
            },

            updateInvestmentSummary() {
                const amountInput = document.getElementById('investment-amount');
                const planSelect = document.getElementById('investment-plan');
                const durationSelect = document.getElementById('investment-duration');
                
                if (!amountInput || !planSelect || !durationSelect) return;
                
                const amount = parseFloat(amountInput.value) || 0;
                const planId = planSelect.value;
                const duration = parseInt(durationSelect.value) || 30;
                
                const plan = this.state.investmentPlans.find(p => p._id === planId);
                if (!plan) return;
                
                const dailyInterestRate = parseFloat(plan.daily_interest) || 0;
                const dailyInterest = (amount * dailyInterestRate) / 100;
                const totalInterest = dailyInterest * duration;
                const totalReturn = amount + totalInterest;
                
                // Update summary
                document.getElementById('summary-principal').textContent = `${amount.toLocaleString()}`;
                document.getElementById('summary-daily-interest').textContent = `${dailyInterest.toLocaleString()}`;
                document.getElementById('summary-total-interest').textContent = `${totalInterest.toLocaleString()}`;
                document.getElementById('summary-total-return').textContent = `${totalReturn.toLocaleString()}`;
                
                // Show summary
                document.getElementById('investment-summary').style.display = 'block';
            },

            async handleInvestment(e) {
                e.preventDefault();
                
                if (!this.state.isAuthenticated) {
                    this.showToast('Please login to make an investment', 'error');
                    this.showPage('login');
                    return;
                }
                
                const form = e.target;
                const formData = new FormData(form);
                
                // Validate investment
                const amount = parseFloat(formData.get('amount'));
                const planId = formData.get('plan_id');
                const duration = parseInt(formData.get('duration'));
                
                const plan = this.state.investmentPlans.find(p => p._id === planId);
                if (!plan) {
                    this.showToast('Please select a valid investment plan', 'error');
                    return;
                }
                
                if (amount < plan.min_amount) {
                    this.showToast(`Minimum investment for ${plan.name} is ${plan.min_amount.toLocaleString()}`, 'error');
                    return;
                }
                
                // Check if user has sufficient balance
                if (amount > (this.state.currentUser.balance || 0)) {
                    this.showToast('Insufficient balance for this investment', 'error');
                    return;
                }
                
                // Handle file upload
                const proofFile = document.getElementById('investment-proof').files[0];
                if (!proofFile) {
                    this.showToast('Please upload payment proof', 'error');
                    return;
                }
                
                if (proofFile.size > this.config.FILE_SIZE_LIMIT) {
                    this.showToast('File size too large (max 10MB)', 'error');
                    return;
                }
                
                this.setLoadingState('invest-submit-btn', true);
                
                try {
                    // First upload the file
                    const uploadFormData = new FormData();
                    uploadFormData.append('file', proofFile);
                    
                    const uploadResponse = await this.apiRequest('/upload', {
                        method: 'POST',
                        body: uploadFormData
                    });
                    
                    if (!uploadResponse.success) {
                        throw new Error('Failed to upload payment proof');
                    }
                    
                    // Create investment
                    const investmentData = {
                        plan_id: planId,
                        amount: amount,
                        duration: duration,
                        auto_renew: formData.get('auto_renew') === 'on',
                        payment_proof: uploadResponse.data.fileUrl,
                        remarks: formData.get('remarks') || ''
                    };
                    
                    const investmentResponse = await this.apiRequest('/investments', {
                        method: 'POST',
                        body: investmentData
                    });
                    
                    if (investmentResponse.success) {
                        this.showToast('Investment submitted successfully!', 'success');
                        this.closeModal('invest-modal');
                        this.updateDashboard();
                    }
                } catch (error) {
                    console.error('Investment failed:', error);
                    this.showToast('Investment failed. Please try again.', 'error');
                } finally {
                    this.setLoadingState('invest-submit-btn', false);
                }
            },

            // ==================== DEPOSIT SYSTEM ====================
            async handleDeposit(e) {
                e.preventDefault();
                
                if (!this.state.isAuthenticated) {
                    this.showToast('Please login to make a deposit', 'error');
                    this.showPage('login');
                    return;
                }
                
                const form = e.target;
                const formData = new FormData(form);
                
                const amount = parseFloat(formData.get('amount'));
                const method = formData.get('method');
                
                if (amount < this.config.MIN_DEPOSIT) {
                    this.showToast(`Minimum deposit is ${this.config.MIN_DEPOSIT.toLocaleString()}`, 'error');
                    return;
                }
                
                // Handle file upload
                const proofFile = document.getElementById('deposit-proof').files[0];
                if (!proofFile) {
                    this.showToast('Please upload payment proof', 'error');
                    return;
                }
                
                if (proofFile.size > this.config.FILE_SIZE_LIMIT) {
                    this.showToast('File size too large (max 10MB)', 'error');
                    return;
                }
                
                this.setLoadingState('deposit-submit-btn', true);
                
                try {
                    // Upload the file
                    const uploadFormData = new FormData();
                    uploadFormData.append('file', proofFile);
                    
                    const uploadResponse = await this.apiRequest('/upload', {
                        method: 'POST',
                        body: uploadFormData
                    });
                    
                    if (!uploadResponse.success) {
                        throw new Error('Failed to upload payment proof');
                    }
                    
                    // Create deposit
                    const depositData = {
                        amount: amount,
                        payment_method: method,
                        payment_proof: uploadResponse.data.fileUrl,
                        remarks: formData.get('remarks') || ''
                    };
                    
                    const depositResponse = await this.apiRequest('/deposits', {
                        method: 'POST',
                        body: depositData
                    });
                    
                    if (depositResponse.success) {
                        this.showToast('Deposit request submitted successfully!', 'success');
                        this.closeModal('deposit-modal');
                        this.updateDashboard();
                    }
                } catch (error) {
                    console.error('Deposit failed:', error);
                    this.showToast('Deposit failed. Please try again.', 'error');
                } finally {
                    this.setLoadingState('deposit-submit-btn', false);
                }
            },

            // ==================== WITHDRAWAL SYSTEM ====================
            async handleWithdrawal(e) {
                e.preventDefault();
                
                if (!this.state.isAuthenticated) {
                    this.showToast('Please login to make a withdrawal', 'error');
                    this.showPage('login');
                    return;
                }
                
                const form = e.target;
                const formData = new FormData(form);
                
                const amount = parseFloat(formData.get('amount'));
                const method = formData.get('method');
                
                // Validate withdrawal amount
                if (amount < this.config.MIN_WITHDRAWAL) {
                    this.showToast(`Minimum withdrawal is ${this.config.MIN_WITHDRAWAL.toLocaleString()}`, 'error');
                    return;
                }
                
                if (amount > this.config.MAX_WITHDRAWAL) {
                    this.showToast(`Maximum withdrawal is ${this.config.MAX_WITHDRAWAL.toLocaleString()}`, 'error');
                    return;
                }
                
                if (amount > (this.state.currentUser.balance || 0)) {
                    this.showToast('Insufficient balance for withdrawal', 'error');
                    return;
                }
                
                this.setLoadingState('withdraw-submit-btn', true);
                
                try {
                    const withdrawalData = {
                        amount: amount,
                        payment_method: method,
                        remarks: formData.get('remarks') || ''
                    };
                    
                    const withdrawalResponse = await this.apiRequest('/withdrawals', {
                        method: 'POST',
                        body: withdrawalData
                    });
                    
                    if (withdrawalResponse.success) {
                        this.showToast('Withdrawal request submitted successfully!', 'success');
                        this.closeModal('withdraw-modal');
                        this.updateDashboard();
                    }
                } catch (error) {
                    console.error('Withdrawal failed:', error);
                    this.showToast('Withdrawal failed. Please try again.', 'error');
                } finally {
                    this.setLoadingState('withdraw-submit-btn', false);
                }
            },

            updateWithdrawalFee() {
                const amountInput = document.getElementById('withdraw-amount');
                const feeDisplay = document.getElementById('withdrawal-fee-amount');
                const netDisplay = document.getElementById('net-amount');
                const requestedDisplay = document.getElementById('requested-amount');
                
                if (!amountInput || !feeDisplay || !netDisplay || !requestedDisplay) return;
                
                const amount = parseFloat(amountInput.value) || 0;
                const fee = amount * (this.config.PLATFORM_FEE_PERCENT / 100);
                const netAmount = amount - fee;
                
                requestedDisplay.textContent = `${amount.toLocaleString()}`;
                feeDisplay.textContent = `${fee.toLocaleString()}`;
                netDisplay.textContent = `${netAmount.toLocaleString()}`;
            },

            // ==================== PROFILE MANAGEMENT ====================
            async loadProfileData() {
                if (!this.state.isAuthenticated) return;
                
                try {
                    const response = await this.apiRequest('/profile');
                    if (response.success) {
                        this.state.currentUser = response.data;
                        this.updateProfileForm();
                        this.updateBankDetails();
                        this.updateKYCStatus();
                    }
                } catch (error) {
                    console.error('Failed to load profile data:', error);
                }
            },

            updateProfileForm() {
                const user = this.state.currentUser;
                if (!user) return;
                
                // Update form fields
                const fields = [
                    { id: 'profile-fullname', value: user.full_name },
                    { id: 'profile-email', value: user.email },
                    { id: 'profile-phone', value: user.phone || '' }
                ];
                
                fields.forEach(field => {
                    const element = document.getElementById(field.id);
                    if (element) element.value = field.value;
                });
                
                // Update country if available
                const countrySelect = document.getElementById('profile-country');
                if (countrySelect && user.country) {
                    countrySelect.value = user.country;
                }
            },

            updateBankDetails() {
                const user = this.state.currentUser;
                const container = document.getElementById('current-bank-details');
                const withdrawInfo = document.getElementById('withdraw-account-info');
                
                if (!user) return;
                
                // Display current bank details
                if (container) {
                    if (user.bank_name && user.account_number) {
                        container.innerHTML = `
                            <h4>Current Bank Details</h4>
                            <div class="bank-detail-item">
                                <span>Bank Name:</span>
                                <span>${user.bank_name}</span>
                            </div>
                            <div class="bank-detail-item">
                                <span>Account Name:</span>
                                <span>${user.account_name || 'Not set'}</span>
                            </div>
                            <div class="bank-detail-item">
                                <span>Account Number:</span>
                                <span>${user.account_number}</span>
                            </div>
                        `;
                    } else {
                        container.innerHTML = `
                            <div style="text-align: center; color: var(--text-muted); padding: 1rem;">
                                <i class="fas fa-university fa-2x" style="margin-bottom: 0.5rem; opacity: 0.5;"></i>
                                <p>No bank details saved</p>
                            </div>
                        `;
                    }
                }
                
                // Update withdrawal modal info
                if (withdrawInfo) {
                    if (user.bank_name && user.account_number) {
                        withdrawInfo.innerHTML = `
                            <strong>Bank:</strong> ${user.bank_name}<br>
                            <strong>Account Name:</strong> ${user.account_name || 'Not set'}<br>
                            <strong>Account Number:</strong> ${user.account_number}
                        `;
                    } else {
                        withdrawInfo.textContent = 'No bank account saved. Please update your profile.';
                    }
                }
            },

            updateKYCStatus() {
                const user = this.state.currentUser;
                const statusElement = document.getElementById('kyc-status-text');
                
                if (!user || !statusElement) return;
                
                let status = 'Not Submitted';
                let badgeClass = 'pending';
                
                if (user.kyc_status === 'approved') {
                    status = 'Approved';
                    badgeClass = 'approved';
                } else if (user.kyc_status === 'pending') {
                    status = 'Pending Review';
                    badgeClass = 'pending';
                } else if (user.kyc_status === 'rejected') {
                    status = 'Rejected';
                    badgeClass = 'rejected';
                }
                
                statusElement.textContent = status;
                statusElement.className = `status-badge ${badgeClass}`;
            },

            async handleProfileUpdate(e) {
                e.preventDefault();
                
                const form = e.target;
                const formId = form.id;
                
                this.setLoadingState(form.querySelector('button[type="submit"]').id, true);
                
                try {
                    let endpoint = '/profile';
                    let method = 'PUT';
                    let data = {};
                    
                    switch(formId) {
                        case 'personal-form':
                            data = {
                                full_name: form.querySelector('#profile-fullname').value,
                                phone: form.querySelector('#profile-phone').value,
                                country: form.querySelector('#profile-country').value
                            };
                            break;
                            
                        case 'bank-form':
                            endpoint = '/profile/bank';
                            data = {
                                bank_name: form.querySelector('#bank-name').value,
                                account_name: form.querySelector('#account-name').value,
                                account_number: form.querySelector('#account-number').value
                            };
                            break;
                            
                        case 'password-change-form':
                            endpoint = '/profile/password';
                            data = {
                                current_password: form.querySelector('#current-password').value,
                                new_password: form.querySelector('#new-password').value,
                                confirm_password: form.querySelector('#confirm-new-password').value
                            };
                            break;
                            
                        case 'preferences-form':
                            data = {
                                currency: form.querySelector('#currency').value,
                                language: form.querySelector('#language').value,
                                timezone: form.querySelector('#timezone').value,
                                risk_tolerance: form.querySelector('#risk-tolerance-pref').value
                            };
                            break;
                    }
                    
                    const response = await this.apiRequest(endpoint, {
                        method: method,
                        body: data
                    });
                    
                    if (response.success) {
                        this.showToast('Profile updated successfully!', 'success');
                        this.loadProfileData();
                        form.reset();
                    }
                } catch (error) {
                    console.error('Profile update failed:', error);
                    this.showToast('Update failed. Please try again.', 'error');
                } finally {
                    this.setLoadingState(form.querySelector('button[type="submit"]').id, false);
                }
            },

            async handleKYCSubmission(e) {
                e.preventDefault();
                
                const form = e.target;
                const formData = new FormData(form);
                
                // Validate required files
                const idFront = document.getElementById('id-front').files[0];
                const idBack = document.getElementById('id-back').files[0];
                const selfieWithId = document.getElementById('selfie-with-id').files[0];
                
                if (!idFront || !idBack || !selfieWithId) {
                    this.showToast('Please upload all required documents', 'error');
                    return;
                }
                
                // Validate file sizes
                const files = [idFront, idBack, selfieWithId];
                for (const file of files) {
                    if (file.size > this.config.FILE_SIZE_LIMIT) {
                        this.showToast('File size too large (max 10MB)', 'error');
                        return;
                    }
                }
                
                this.setLoadingState('kyc-submit-btn', true);
                
                try {
                    // Upload all files
                    const uploadPromises = files.map(file => {
                        const uploadFormData = new FormData();
                        uploadFormData.append('file', file);
                        return this.apiRequest('/upload', {
                            method: 'POST',
                            body: uploadFormData
                        });
                    });
                    
                    const uploadResults = await Promise.all(uploadPromises);
                    
                    // Check if all uploads succeeded
                    for (const result of uploadResults) {
                        if (!result.success) {
                            throw new Error('Failed to upload documents');
                        }
                    }
                    
                    // Submit KYC application
                    const kycData = {
                        id_type: formData.get('id_type'),
                        id_number: formData.get('id_number'),
                        id_front: uploadResults[0].data.fileUrl,
                        id_back: uploadResults[1].data.fileUrl,
                        selfie_with_id: uploadResults[2].data.fileUrl
                    };
                    
                    const kycResponse = await this.apiRequest('/kyc', {
                        method: 'POST',
                        body: kycData
                    });
                    
                    if (kycResponse.success) {
                        this.showToast('KYC application submitted successfully!', 'success');
                        form.reset();
                        this.updateKYCStatus();
                    }
                } catch (error) {
                    console.error('KYC submission failed:', error);
                    this.showToast('KYC submission failed. Please try again.', 'error');
                } finally {
                    this.setLoadingState('kyc-submit-btn', false);
                }
            },

            // ==================== ADMIN SYSTEM ====================
            async loadAdminData() {
                if (!this.state.isAdmin) return;
                
                try {
                    await Promise.all([
                        this.loadAdminUsers(),
                        this.loadAdminInvestments(),
                        this.loadAdminDeposits(),
                        this.loadAdminWithdrawals(),
                        this.loadAdminKYC()
                    ]);
                    
                    this.updateAdminStats();
                } catch (error) {
                    console.error('Failed to load admin data:', error);
                }
            },

            async loadAdminUsers() {
                try {
                    const response = await this.apiRequest('/admin/users', {
                        params: {
                            page: this.state.adminData.currentPage,
                            limit: this.state.adminData.itemsPerPage
                        }
                    });
                    
                    if (response.success) {
                        this.state.adminData.users = response.data.users || [];
                        this.state.adminData.totalPages = response.data.totalPages || 1;
                        this.renderAdminUsers();
                    }
                } catch (error) {
                    console.error('Failed to load admin users:', error);
                }
            },

            renderAdminUsers() {
                const table = document.getElementById('admin-users-table');
                if (!table) return;
                
                if (this.state.adminData.users.length === 0) {
                    table.innerHTML = `
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 2rem; color: var(--text-muted);">
                                No users found
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                let html = '';
                this.state.adminData.users.forEach(user => {
                    const joinDate = new Date(user.createdAt);
                    const kycStatus = user.kyc_status || 'not_submitted';
                    let kycBadge = 'pending';
                    
                    switch(kycStatus) {
                        case 'approved':
                            kycBadge = 'approved';
                            break;
                        case 'rejected':
                            kycBadge = 'rejected';
                            break;
                        case 'pending':
                            kycBadge = 'pending';
                            break;
                        default:
                            kycBadge = 'pending';
                    }
                    
                    html += `
                        <tr>
                            <td>${user._id?.substring(0, 8) || 'N/A'}</td>
                            <td>${user.full_name || 'N/A'}</td>
                            <td>${user.email || 'N/A'}</td>
                            <td>${user.phone || 'N/A'}</td>
                            <td>${(user.balance || 0).toLocaleString()}</td>
                            <td>
                                <span class="status-badge ${user.status === 'active' ? 'approved' : 'pending'}">
                                    ${user.status || 'inactive'}
                                </span>
                            </td>
                            <td>
                                <span class="status-badge ${kycBadge}">
                                    ${kycStatus}
                                </span>
                            </td>
                            <td>${joinDate.toLocaleDateString()}</td>
                            <td>
                                <div class="admin-user-actions">
                                    <button class="action-btn view" onclick="app.viewUserDetails('${user._id}')">
                                        View
                                    </button>
                                    <button class="action-btn edit" onclick="app.editUser('${user._id}')">
                                        Edit
                                    </button>
                                    <button class="action-btn delete" onclick="app.deleteUser('${user._id}')">
                                        Delete
                                    </button>
                                </div>
                            </td>
                        </tr>
                    `;
                });
                
                table.innerHTML = html;
                
                // Update pagination
                this.updateUserPagination();
            },

            updateUserPagination() {
                const pageInfo = document.getElementById('user-page-info');
                const prevBtn = document.getElementById('prev-user-page');
                const nextBtn = document.getElementById('next-user-page');
                const paginationInfo = document.getElementById('user-pagination-info');
                
                if (pageInfo) {
                    pageInfo.textContent = `Page ${this.state.adminData.currentPage} of ${this.state.adminData.totalPages}`;
                }
                
                if (prevBtn) {
                    prevBtn.disabled = this.state.adminData.currentPage <= 1;
                }
                
                if (nextBtn) {
                    nextBtn.disabled = this.state.adminData.currentPage >= this.state.adminData.totalPages;
                }
                
                if (paginationInfo) {
                    const start = (this.state.adminData.currentPage - 1) * this.state.adminData.itemsPerPage + 1;
                    const end = Math.min(start + this.state.adminData.itemsPerPage - 1, this.state.adminData.users.length);
                    paginationInfo.textContent = `Showing ${start}-${end} of ${this.state.adminData.users.length} users`;
                }
            },

            prevUserPage() {
                if (this.state.adminData.currentPage > 1) {
                    this.state.adminData.currentPage--;
                    this.loadAdminUsers();
                }
            },

            nextUserPage() {
                if (this.state.adminData.currentPage < this.state.adminData.totalPages) {
                    this.state.adminData.currentPage++;
                    this.loadAdminUsers();
                }
            },

            async viewUserDetails(userId) {
                try {
                    const response = await this.apiRequest(`/admin/users/${userId}`);
                    if (response.success) {
                        this.showUserDetailsModal(response.data);
                    }
                } catch (error) {
                    console.error('Failed to load user details:', error);
                    this.showToast('Failed to load user details', 'error');
                }
            },

            showUserDetailsModal(user) {
                const modalContent = document.getElementById('user-detail-content');
                if (!modalContent) return;
                
                const joinDate = new Date(user.createdAt);
                const lastLogin = user.last_login ? new Date(user.last_login) : null;
                
                let html = `
                    <div class="user-detail-section">
                        <h3>Personal Information</h3>
                        <div class="detail-row">
                            <span class="detail-label">Full Name:</span>
                            <span class="detail-value">${user.full_name || 'N/A'}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Email:</span>
                            <span class="detail-value">${user.email || 'N/A'}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Phone:</span>
                            <span class="detail-value">${user.phone || 'N/A'}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Role:</span>
                            <span class="detail-value">${user.role || 'user'}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Status:</span>
                            <span class="detail-value">
                                <span class="status-badge ${user.status === 'active' ? 'approved' : 'pending'}">
                                    ${user.status || 'inactive'}
                                </span>
                            </span>
                        </div>
                    </div>
                    
                    <div class="user-detail-section">
                        <h3>Account Information</h3>
                        <div class="detail-row">
                            <span class="detail-label">Balance:</span>
                            <span class="detail-value">${(user.balance || 0).toLocaleString()}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Deposits:</span>
                            <span class="detail-value">${(user.total_deposits || 0).toLocaleString()}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Withdrawals:</span>
                            <span class="detail-value">${(user.total_withdrawals || 0).toLocaleString()}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Investments:</span>
                            <span class="detail-value">${(user.total_investments || 0).toLocaleString()}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total Earnings:</span>
                            <span class="detail-value">${(user.total_earnings || 0).toLocaleString()}</span>
                        </div>
                    </div>
                    
                    <div class="user-detail-section">
                        <h3>KYC Information</h3>
                        <div class="detail-row">
                            <span class="detail-label">KYC Status:</span>
                            <span class="detail-value">
                                <span class="status-badge ${user.kyc_status === 'approved' ? 'approved' : user.kyc_status === 'rejected' ? 'rejected' : 'pending'}">
                                    ${user.kyc_status || 'not_submitted'}
                                </span>
                            </span>
                        </div>
                        ${user.kyc_data ? `
                            <div class="detail-row">
                                <span class="detail-label">ID Type:</span>
                                <span class="detail-value">${user.kyc_data.id_type || 'N/A'}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">ID Number:</span>
                                <span class="detail-value">${user.kyc_data.id_number || 'N/A'}</span>
                            </div>
                        ` : ''}
                    </div>
                    
                    <div class="user-detail-section">
                        <h3>Timestamps</h3>
                        <div class="detail-row">
                            <span class="detail-label">Joined:</span>
                            <span class="detail-value">${joinDate.toLocaleString()}</span>
                        </div>
                        ${lastLogin ? `
                            <div class="detail-row">
                                <span class="detail-label">Last Login:</span>
                                <span class="detail-value">${lastLogin.toLocaleString()}</span>
                            </div>
                        ` : ''}
                        <div class="detail-row">
                            <span class="detail-label">Referral Code:</span>
                            <span class="detail-value">${user.referral_code || 'N/A'}</span>
                        </div>
                        ${user.referred_by ? `
                            <div class="detail-row">
                                <span class="detail-label">Referred By:</span>
                                <span class="detail-value">${user.referred_by}</span>
                            </div>
                        ` : ''}
                    </div>
                `;
                
                modalContent.innerHTML = html;
                this.openModal('user-detail-modal');
            },

            async loadAdminInvestments() {
                try {
                    const response = await this.apiRequest('/admin/investments');
                    if (response.success) {
                        this.state.adminData.investments = response.data || [];
                        this.renderAdminInvestments();
                    }
                } catch (error) {
                    console.error('Failed to load admin investments:', error);
                }
            },

            renderAdminInvestments() {
                const table = document.getElementById('admin-investments-table');
                if (!table) return;
                
                if (this.state.adminData.investments.length === 0) {
                    table.innerHTML = `
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 2rem; color: var(--text-muted);">
                                No investments found
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                let html = '';
                this.state.adminData.investments.forEach(investment => {
                    const startDate = new Date(investment.start_date);
                    const endDate = new Date(investment.end_date);
                    
                    html += `
                        <tr>
                            <td>${investment._id?.substring(0, 8) || 'N/A'}</td>
                            <td>${investment.user?.full_name || 'N/A'}</td>
                            <td>${investment.plan?.name || 'N/A'}</td>
                            <td>${(investment.amount || 0).toLocaleString()}</td>
                            <td>${investment.daily_interest || 0}%</td>
                            <td>${startDate.toLocaleDateString()}</td>
                            <td>${endDate.toLocaleDateString()}</td>
                            <td>
                                <span class="status-badge ${investment.status || 'pending'}">
                                    ${investment.status || 'pending'}
                                </span>
                            </td>
                            <td>
                                <div class="pending-actions">
                                    ${investment.status === 'pending' ? `
                                        <button class="quick-action-btn approve" onclick="app.approveInvestment('${investment._id}')">
                                            Approve
                                        </button>
                                        <button class="quick-action-btn reject" onclick="app.rejectInvestment('${investment._id}')">
                                            Reject
                                        </button>
                                    ` : `
                                        <button class="action-btn view" onclick="app.viewInvestmentDetails('${investment._id}')">
                                            View
                                        </button>
                                    `}
                                </div>
                            </td>
                        </tr>
                    `;
                });
                
                table.innerHTML = html;
            },

            async approveInvestment(investmentId) {
                if (!confirm('Are you sure you want to approve this investment?')) return;
                
                try {
                    const response = await this.apiRequest(`/admin/investments/${investmentId}/approve`, {
                        method: 'POST'
                    });
                    
                    if (response.success) {
                        this.showToast('Investment approved successfully!', 'success');
                        this.loadAdminInvestments();
                    }
                } catch (error) {
                    console.error('Failed to approve investment:', error);
                    this.showToast('Failed to approve investment', 'error');
                }
            },

            async rejectInvestment(investmentId) {
                if (!confirm('Are you sure you want to reject this investment?')) return;
                
                try {
                    const response = await this.apiRequest(`/admin/investments/${investmentId}/reject`, {
                        method: 'POST'
                    });
                    
                    if (response.success) {
                        this.showToast('Investment rejected successfully!', 'success');
                        this.loadAdminInvestments();
                    }
                } catch (error) {
                    console.error('Failed to reject investment:', error);
                    this.showToast('Failed to reject investment', 'error');
                }
            },

            async loadAdminDeposits() {
                try {
                    const response = await this.apiRequest('/admin/pending-deposits');
                    if (response.success) {
                        this.state.adminData.deposits = response.data || [];
                        this.renderAdminDeposits();
                    }
                } catch (error) {
                    console.error('Failed to load admin deposits:', error);
                }
            },

            renderAdminDeposits() {
                const table = document.getElementById('admin-deposits-table');
                if (!table) return;
                
                if (this.state.adminData.deposits.length === 0) {
                    table.innerHTML = `
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 2rem; color: var(--text-muted);">
                                No pending deposits found
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                let html = '';
                this.state.adminData.deposits.forEach(deposit => {
                    const date = new Date(deposit.createdAt);
                    
                    html += `
                        <tr>
                            <td>${deposit._id?.substring(0, 8) || 'N/A'}</td>
                            <td>${deposit.user?.full_name || 'N/A'}</td>
                            <td>${(deposit.amount || 0).toLocaleString()}</td>
                            <td>${deposit.payment_method || 'N/A'}</td>
                            <td>
                                ${deposit.payment_proof ? `
                                    <a href="${deposit.payment_proof}" target="_blank" style="color: var(--accent-emerald);">
                                        <i class="fas fa-eye"></i> View Proof
                                    </a>
                                ` : 'No proof'}
                            </td>
                            <td>${date.toLocaleDateString()}</td>
                            <td>
                                <span class="status-badge ${deposit.status || 'pending'}">
                                    ${deposit.status || 'pending'}
                                </span>
                            </td>
                            <td>
                                <div class="pending-actions">
                                    ${deposit.status === 'pending' ? `
                                        <button class="quick-action-btn approve" onclick="app.approveDeposit('${deposit._id}')">
                                            Approve
                                        </button>
                                        <button class="quick-action-btn reject" onclick="app.rejectDeposit('${deposit._id}')">
                                            Reject
                                        </button>
                                    ` : `
                                        <button class="action-btn view" onclick="app.viewDepositDetails('${deposit._id}')">
                                            View
                                        </button>
                                    `}
                                </div>
                            </td>
                        </tr>
                    `;
                });
                
                table.innerHTML = html;
            },

            async approveDeposit(depositId) {
                if (!confirm('Are you sure you want to approve this deposit?')) return;
                
                try {
                    const response = await this.apiRequest(`/admin/deposits/${depositId}/approve`, {
                        method: 'POST'
                    });
                    
                    if (response.success) {
                        this.showToast('Deposit approved successfully!', 'success');
                        this.loadAdminDeposits();
                    }
                } catch (error) {
                    console.error('Failed to approve deposit:', error);
                    this.showToast('Failed to approve deposit', 'error');
                }
            },

            async rejectDeposit(depositId) {
                if (!confirm('Are you sure you want to reject this deposit?')) return;
                
                try {
                    const response = await this.apiRequest(`/admin/deposits/${depositId}/reject`, {
                        method: 'POST'
                    });
                    
                    if (response.success) {
                        this.showToast('Deposit rejected successfully!', 'success');
                        this.loadAdminDeposits();
                    }
                } catch (error) {
                    console.error('Failed to reject deposit:', error);
                    this.showToast('Failed to reject deposit', 'error');
                }
            },

            async loadAdminWithdrawals() {
                try {
                    const response = await this.apiRequest('/admin/pending-withdrawals');
                    if (response.success) {
                        this.state.adminData.withdrawals = response.data || [];
                        this.renderAdminWithdrawals();
                    }
                } catch (error) {
                    console.error('Failed to load admin withdrawals:', error);
                }
            },

            renderAdminWithdrawals() {
                const table = document.getElementById('admin-withdrawals-table');
                if (!table) return;
                
                if (this.state.adminData.withdrawals.length === 0) {
                    table.innerHTML = `
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 2rem; color: var(--text-muted);">
                                No pending withdrawals found
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                let html = '';
                this.state.adminData.withdrawals.forEach(withdrawal => {
                    const date = new Date(withdrawal.createdAt);
                    const fee = withdrawal.platform_fee || 0;
                    const netAmount = withdrawal.net_amount || (withdrawal.amount - fee);
                    
                    html += `
                        <tr>
                            <td>${withdrawal._id?.substring(0, 8) || 'N/A'}</td>
                            <td>${withdrawal.user?.full_name || 'N/A'}</td>
                            <td>${(withdrawal.amount || 0).toLocaleString()}</td>
                            <td>${fee.toLocaleString()}</td>
                            <td>${netAmount.toLocaleString()}</td>
                            <td>${withdrawal.payment_method || 'N/A'}</td>
                            <td>${date.toLocaleDateString()}</td>
                            <td>
                                <span class="status-badge ${withdrawal.status || 'pending'}">
                                    ${withdrawal.status || 'pending'}
                                </span>
                            </td>
                            <td>
                                <div class="pending-actions">
                                    ${withdrawal.status === 'pending' ? `
                                        <button class="quick-action-btn approve" onclick="app.approveWithdrawal('${withdrawal._id}')">
                                            Approve
                                        </button>
                                        <button class="quick-action-btn reject" onclick="app.rejectWithdrawal('${withdrawal._id}')">
                                            Reject
                                        </button>
                                    ` : `
                                        <button class="action-btn view" onclick="app.viewWithdrawalDetails('${withdrawal._id}')">
                                            View
                                        </button>
                                    `}
                                </div>
                            </td>
                        </tr>
                    `;
                });
                
                table.innerHTML = html;
            },

            async approveWithdrawal(withdrawalId) {
                if (!confirm('Are you sure you want to approve this withdrawal?')) return;
                
                try {
                    const response = await this.apiRequest(`/admin/withdrawals/${withdrawalId}/approve`, {
                        method: 'POST'
                    });
                    
                    if (response.success) {
                        this.showToast('Withdrawal approved successfully!', 'success');
                        this.loadAdminWithdrawals();
                    }
                } catch (error) {
                    console.error('Failed to approve withdrawal:', error);
                    this.showToast('Failed to approve withdrawal', 'error');
                }
            },

            async rejectWithdrawal(withdrawalId) {
                if (!confirm('Are you sure you want to reject this withdrawal?')) return;
                
                try {
                    const response = await this.apiRequest(`/admin/withdrawals/${withdrawalId}/reject`, {
                        method: 'POST'
                    });
                    
                    if (response.success) {
                        this.showToast('Withdrawal rejected successfully!', 'success');
                        this.loadAdminWithdrawals();
                    }
                } catch (error) {
                    console.error('Failed to reject withdrawal:', error);
                    this.showToast('Failed to reject withdrawal', 'error');
                }
            },

            async loadAdminKYC() {
                try {
                    const response = await this.apiRequest('/admin/pending-kyc');
                    if (response.success) {
                        this.state.adminData.kyc = response.data || [];
                        this.renderAdminKYC();
                    }
                } catch (error) {
                    console.error('Failed to load admin KYC:', error);
                }
            },

            renderAdminKYC() {
                const table = document.getElementById('admin-kyc-table');
                if (!table) return;
                
                if (this.state.adminData.kyc.length === 0) {
                    table.innerHTML = `
                        <tr>
                            <td colspan="7" style="text-align: center; padding: 2rem; color: var(--text-muted);">
                                No pending KYC submissions found
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                let html = '';
                this.state.adminData.kyc.forEach(kyc => {
                    const date = new Date(kyc.createdAt);
                    
                    html += `
                        <tr>
                            <td>${kyc._id?.substring(0, 8) || 'N/A'}</td>
                            <td>${kyc.user?.full_name || 'N/A'}</td>
                            <td>${kyc.id_type || 'N/A'}</td>
                            <td>${kyc.id_number || 'N/A'}</td>
                            <td>${date.toLocaleDateString()}</td>
                            <td>
                                <span class="status-badge ${kyc.status || 'pending'}">
                                    ${kyc.status || 'pending'}
                                </span>
                            </td>
                            <td>
                                <div class="pending-actions">
                                    ${kyc.status === 'pending' ? `
                                        <button class="quick-action-btn approve" onclick="app.approveKYC('${kyc._id}')">
                                            Approve
                                        </button>
                                        <button class="quick-action-btn reject" onclick="app.rejectKYC('${kyc._id}')">
                                            Reject
                                        </button>
                                    ` : `
                                        <button class="action-btn view" onclick="app.viewKYCDetails('${kyc._id}')">
                                            View
                                        </button>
                                    `}
                                </div>
                            </td>
                        </tr>
                    `;
                });
                
                table.innerHTML = html;
            },

            async approveKYC(kycId) {
                if (!confirm('Are you sure you want to approve this KYC?')) return;
                
                try {
                    const response = await this.apiRequest(`/admin/kyc/${kycId}/approve`, {
                        method: 'POST'
                    });
                    
                    if (response.success) {
                        this.showToast('KYC approved successfully!', 'success');
                        this.loadAdminKYC();
                    }
                } catch (error) {
                    console.error('Failed to approve KYC:', error);
                    this.showToast('Failed to approve KYC', 'error');
                }
            },

            async rejectKYC(kycId) {
                if (!confirm('Are you sure you want to reject this KYC?')) return;
                
                try {
                    const response = await this.apiRequest(`/admin/kyc/${kycId}/reject`, {
                        method: 'POST'
                    });
                    
                    if (response.success) {
                        this.showToast('KYC rejected successfully!', 'success');
                        this.loadAdminKYC();
                    }
                } catch (error) {
                    console.error('Failed to reject KYC:', error);
                    this.showToast('Failed to reject KYC', 'error');
                }
            },

            updateAdminStats() {
                // Calculate admin stats
                const totalUsers = this.state.adminData.users.length;
                const totalInvested = this.state.adminData.investments.reduce((sum, inv) => sum + (inv.amount || 0), 0);
                const totalWithdrawn = this.state.adminData.withdrawals.reduce((sum, wd) => sum + (wd.amount || 0), 0);
                const pendingRequests = this.state.adminData.deposits.filter(d => d.status === 'pending').length +
                                      this.state.adminData.withdrawals.filter(w => w.status === 'pending').length +
                                      this.state.adminData.kyc.filter(k => k.status === 'pending').length;
                
                // Update UI
                this.updateStat('admin-total-users', totalUsers, false);
                this.updateStat('admin-total-invested', totalInvested);
                this.updateStat('admin-total-withdrawn', totalWithdrawn);
                this.updateStat('admin-pending-requests', pendingRequests, false);
                
                // Calculate platform earnings (5% of withdrawals)
                const platformEarnings = totalWithdrawn * 0.05;
                this.updateStat('admin-platform-earnings', platformEarnings);
                
                // Calculate active investments
                const activeInvestments = this.state.adminData.investments.filter(inv => inv.status === 'active').length;
                this.updateStat('admin-active-investments', activeInvestments, false);
                
                // Calculate today's deposits and withdrawals
                const today = new Date().toDateString();
                const todayDeposits = this.state.adminData.deposits
                    .filter(d => new Date(d.createdAt).toDateString() === today)
                    .reduce((sum, d) => sum + (d.amount || 0), 0);
                
                const todayWithdrawals = this.state.adminData.withdrawals
                    .filter(w => new Date(w.createdAt).toDateString() === today)
                    .reduce((sum, w) => sum + (w.amount || 0), 0);
                
                this.updateStat('admin-today-deposits', todayDeposits);
                this.updateStat('admin-today-withdrawals', todayWithdrawals);
            },

            // ==================== UTILITY FUNCTIONS ====================
            async apiRequest(endpoint, options = {}) {
                const url = new URL(this.config.API_BASE_URL + endpoint);
                
                // Add query parameters
                if (options.params) {
                    Object.keys(options.params).forEach(key => {
                        url.searchParams.append(key, options.params[key]);
                    });
                }
                
                const headers = {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json',
                    ...options.headers
                };
                
                if (this.state.token) {
                    headers['Authorization'] = `Bearer ${this.state.token}`;
                }
                
                const config = {
                    method: options.method || 'GET',
                    headers: headers,
                    ...options
                };
                
                // Handle FormData
                if (options.body instanceof FormData) {
                    delete config.headers['Content-Type'];
                    config.body = options.body;
                } else if (options.body && typeof options.body === 'object') {
                    config.body = JSON.stringify(options.body);
                }
                
                this.showLoadingSpinner(true);
                
                try {
                    const response = await fetch(url, config);
                    const data = await response.json();
                    
                    if (!response.ok || !data.success) {
                        throw new Error(data.message || `HTTP ${response.status}`);
                    }
                    
                    this.showLoadingSpinner(false);
                    return data;
                    
                } catch (error) {
                    this.showLoadingSpinner(false);
                    console.error('API Request Failed:', error);
                    
                    if (error.message.includes('401') || error.message.includes('token')) {
                        this.logout();
                        this.showToast('Your session has expired. Please login again.', 'warning');
                    } else {
                        this.showToast(error.message || 'An error occurred. Please try again.', 'error');
                    }
                    
                    throw error;
                }
            },

            showLoadingSpinner(show) {
                const spinner = document.getElementById('loading-spinner');
                if (spinner) {
                    spinner.style.display = show ? 'flex' : 'none';
                }
            },

            setLoadingState(buttonId, isLoading) {
                const button = document.getElementById(buttonId);
                if (!button) return;
                
                const buttonText = button.querySelector('.btn-text');
                const buttonLoading = button.querySelector('.btn-loading');
                
                if (isLoading) {
                    button.disabled = true;
                    if (buttonText) buttonText.style.display = 'none';
                    if (buttonLoading) buttonLoading.style.display = 'flex';
                } else {
                    button.disabled = false;
                    if (buttonText) buttonText.style.display = 'block';
                    if (buttonLoading) buttonLoading.style.display = 'none';
                }
            },

            showToast(message, type = 'info', duration = 3000) {
                const container = document.getElementById('toast-container');
                if (!container) return;
                
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                
                const icons = {
                    success: 'check-circle',
                    error: 'exclamation-circle',
                    warning: 'exclamation-triangle',
                    info: 'info-circle'
                };
                
                toast.innerHTML = `
                    <i class="fas fa-${icons[type] || 'info-circle'}"></i>
                    <span>${message}</span>
                `;
                
                container.appendChild(toast);
                
                // Remove after duration
                setTimeout(() => {
                    if (toast.parentNode === container) {
                        container.removeChild(toast);
                    }
                }, duration);
                
                // Auto-remove on click
                toast.addEventListener('click', () => {
                    if (toast.parentNode === container) {
                        container.removeChild(toast);
                    }
                });
            },

            updateStat(elementId, value, isCurrency = true) {
                const element = document.getElementById(elementId);
                if (!element) return;
                
                if (isCurrency) {
                    element.textContent = `${value.toLocaleString()}`;
                } else {
                    element.textContent = value.toLocaleString();
                }
            },

            updateUserUI() {
                const user = this.state.currentUser;
                if (!user) return;
                
                // Update user name
                const userNameElements = document.querySelectorAll('#user-name');
                userNameElements.forEach(element => {
                    element.textContent = user.full_name;
                });
                
                // Update user avatar
                const avatarElement = document.getElementById('user-avatar');
                if (avatarElement) {
                    const initials = user.full_name
                        .split(' ')
                        .map(n => n[0])
                        .join('')
                        .toUpperCase()
                        .slice(0, 2);
                    avatarElement.textContent = initials;
                }
                
                // Update user tier based on balance
                const tierElement = document.getElementById('user-tier');
                if (tierElement) {
                    const balance = user.balance || 0;
                    let tier = 'Standard Investor';
                    
                    if (balance >= 1000000) tier = 'Gold Investor';
                    else if (balance >= 500000) tier = 'Silver Investor';
                    else if (balance >= 100000) tier = 'Bronze Investor';
                    
                    tierElement.textContent = tier;
                }
                
                // Update dashboard stats
                this.updateStat('total-balance', user.balance || 0);
                this.state.userStats.totalBalance = user.balance || 0;
                
                // Update available balance in withdrawal modal
                const availableBalance = document.getElementById('available-balance');
                if (availableBalance) {
                    availableBalance.textContent = `${(user.balance || 0).toLocaleString()}`;
                }
            },

            // ==================== UI MANAGEMENT ====================
            showPage(page) {
                // Hide all pages
                const pages = [
                    'home-page', 'registration-page', 'login-page', 'dashboard-page',
                    'investment-plans-page', 'profile-page', 'referral-page', 
                    'support-page', 'admin-page'
                ];
                
                pages.forEach(pageId => {
                    const element = document.getElementById(pageId);
                    if (element) element.style.display = 'none';
                });
                
                // Show requested page
                let pageElement;
                switch(page) {
                    case 'home':
                        pageElement = document.getElementById('home-page');
                        if (pageElement) pageElement.style.display = 'block';
                        break;
                    case 'register':
                        pageElement = document.getElementById('registration-page');
                        if (pageElement) pageElement.style.display = 'flex';
                        break;
                    case 'login':
                        pageElement = document.getElementById('login-page');
                        if (pageElement) pageElement.style.display = 'flex';
                        break;
                    case 'dashboard':
                        pageElement = document.getElementById('dashboard-page');
                        if (pageElement) {
                            pageElement.style.display = 'flex';
                            this.updateDashboard();
                        }
                        break;
                    case 'investment-plans':
                        pageElement = document.getElementById('investment-plans-page');
                        if (pageElement) {
                            pageElement.style.display = 'flex';
                            this.renderInvestmentPlansPage();
                        }
                        break;
                    case 'profile':
                        pageElement = document.getElementById('profile-page');
                        if (pageElement) {
                            pageElement.style.display = 'flex';
                            this.loadProfileData();
                        }
                        break;
                    case 'referral':
                        pageElement = document.getElementById('referral-page');
                        if (pageElement) {
                            pageElement.style.display = 'flex';
                            this.updateReferralPage(this.state.userStats);
                        }
                        break;
                    case 'support':
                        pageElement = document.getElementById('support-page');
                        if (pageElement) pageElement.style.display = 'flex';
                        break;
                    case 'admin':
                        pageElement = document.getElementById('admin-page');
                        if (pageElement) {
                            pageElement.style.display = 'flex';
                            if (this.state.isAdmin) {
                                this.loadAdminData();
                            }
                        }
                        break;
                }
                
                // Update active state
                this.updateActiveNavigation(page);
                
                // Close mobile menu
                this.closeMobileMenu();
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Update state
                this.state.activePage = page;
            },

            updateActiveNavigation(page) {
                // Update desktop navigation
                const navLinks = document.querySelectorAll('.nav-links a');
                navLinks.forEach(link => {
                    link.classList.remove('active');
                });
                
                // Update mobile navigation
                const mobileLinks = document.querySelectorAll('.mobile-menu-links a');
                mobileLinks.forEach(link => {
                    link.classList.remove('active');
                });
            },

            openModal(modalId) {
                const modal = document.getElementById(modalId);
                if (!modal) return;
                
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                
                // Special setup for specific modals
                switch(modalId) {
                    case 'invest-modal':
                        this.setupInvestModal();
                        break;
                    case 'deposit-modal':
                        this.setupDepositModal();
                        break;
                    case 'withdraw-modal':
                        this.setupWithdrawModal();
                        break;
                    case 'calculator-modal':
                        this.setupCalculatorModal();
                        break;
                }
            },

            closeModal(modalId) {
                const modal = document.getElementById(modalId);
                if (!modal) return;
                
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
                
                // Reset form
                const form = modal.querySelector('form');
                if (form) form.reset();
                
                // Clear previews
                modal.querySelectorAll('.file-preview').forEach(preview => {
                    preview.style.display = 'none';
                    preview.src = '';
                });
            },

            setupDepositModal() {
                const methodSelect = document.getElementById('deposit-method');
                const bankSection = document.getElementById('bank-details-section');
                const opaySection = document.getElementById('opay-details-section');
                
                if (methodSelect) {
                    methodSelect.addEventListener('change', () => {
                        const method = methodSelect.value;
                        
                        if (bankSection) {
                            bankSection.style.display = method === 'bank_transfer' ? 'block' : 'none';
                        }
                        
                        if (opaySection) {
                            opaySection.style.display = method === 'opay' ? 'block' : 'none';
                        }
                    });
                }
            },

            setupWithdrawModal() {
                const amountInput = document.getElementById('withdraw-amount');
                if (amountInput) {
                    amountInput.addEventListener('input', () => {
                        this.updateWithdrawalFee();
                    });
                }
                
                // Initial update
                this.updateWithdrawalFee();
            },

            setupCalculatorModal() {
                const amountInput = document.getElementById('calc-investment-amount');
                const planSelect = document.getElementById('calc-plan');
                const durationSlider = document.getElementById('calc-duration');
                const durationValue = document.getElementById('calc-duration-value');
                
                // Populate plan select
                if (planSelect) {
                    planSelect.innerHTML = this.state.investmentPlans.map(plan => `
                        <option value="${plan._id}">${plan.name} (${plan.daily_interest}% daily)</option>
                    `).join('');
                }
                
                // Update duration display
                if (durationSlider && durationValue) {
                    durationSlider.addEventListener('input', () => {
                        durationValue.textContent = `${durationSlider.value} days`;
                        this.updateCalculator();
                    });
                }
                
                // Update on any change
                [amountInput, planSelect, durationSlider].forEach(element => {
                    if (element) {
                        element.addEventListener('input', () => {
                            this.updateCalculator();
                        });
                    }
                });
                
                // Initial calculation
                this.updateCalculator();
            },

            updateCalculator() {
                const amount = parseFloat(document.getElementById('calc-investment-amount').value) || 3500;
                const planId = document.getElementById('calc-plan').value;
                const duration = parseInt(document.getElementById('calc-duration').value) || 90;
                
                const plan = this.state.investmentPlans.find(p => p._id === planId);
                if (!plan) return;
                
                const dailyRate = parseFloat(plan.daily_interest) || 0;
                const dailyEarning = (amount * dailyRate) / 100;
                const totalEarnings = dailyEarning * duration;
                const totalReturn = amount + totalEarnings;
                const roi = (totalEarnings / amount) * 100;
                
                // Update display
                document.getElementById('calc-total-return').textContent = `${totalReturn.toLocaleString()}`;
                document.getElementById('calc-daily-earnings').textContent = `${dailyEarning.toLocaleString()}`;
                document.getElementById('calc-monthly-earnings').textContent = `${(dailyEarning * 30).toLocaleString()}`;
                document.getElementById('calc-total-profit').textContent = `${totalEarnings.toLocaleString()}`;
                document.getElementById('calc-roi').textContent = `${roi.toFixed(2)}%`;
                document.getElementById('calc-duration-display').textContent = duration;
            },

            // ==================== EVENT LISTENERS ====================
            setupEventListeners() {
                // Theme toggle
                document.getElementById('theme-toggle').addEventListener('click', () => this.toggleTheme());
                
                // Mobile menu
                document.getElementById('hamburger').addEventListener('click', () => this.toggleMobileMenu());
                document.getElementById('close-mobile-menu').addEventListener('click', () => this.closeMobileMenu());
                document.getElementById('mobile-menu-overlay').addEventListener('click', () => this.closeMobileMenu());
                
                // Form submissions
                document.getElementById('registration-form')?.addEventListener('submit', (e) => this.handleRegistration(e));
                document.getElementById('login-form')?.addEventListener('submit', (e) => this.handleLogin(e));
                document.getElementById('invest-form')?.addEventListener('submit', (e) => this.handleInvestment(e));
                document.getElementById('deposit-form')?.addEventListener('submit', (e) => this.handleDeposit(e));
                document.getElementById('withdraw-form')?.addEventListener('submit', (e) => this.handleWithdrawal(e));
                
                // Profile forms
                document.getElementById('personal-form')?.addEventListener('submit', (e) => this.handleProfileUpdate(e));
                document.getElementById('bank-form')?.addEventListener('submit', (e) => this.handleProfileUpdate(e));
                document.getElementById('password-change-form')?.addEventListener('submit', (e) => this.handleProfileUpdate(e));
                document.getElementById('preferences-form')?.addEventListener('submit', (e) => this.handleProfileUpdate(e));
                document.getElementById('kyc-form')?.addEventListener('submit', (e) => this.handleKYCSubmission(e));
                
                // Investment amount validation
                document.getElementById('investment-amount')?.addEventListener('input', () => this.updateInvestmentSummary());
                document.getElementById('investment-plan')?.addEventListener('change', () => this.updateInvestmentSummary());
                document.getElementById('investment-duration')?.addEventListener('change', () => this.updateInvestmentSummary());
                
                // Back to top
                document.getElementById('back-to-top')?.addEventListener('click', () => this.scrollToTop());
                
                // Scroll events
                window.addEventListener('scroll', () => this.handleScroll());
            },

            initFileUploadPreviews() {
                const fileInputs = [
                    { input: 'investment-proof', preview: 'investment-preview' },
                    { input: 'deposit-proof', preview: 'deposit-preview' },
                    { input: 'id-front', preview: 'id-front-preview' },
                    { input: 'id-back', preview: 'id-back-preview' },
                    { input: 'selfie-with-id', preview: 'selfie-with-id-preview' }
                ];
                
                fileInputs.forEach(({ input, preview }) => {
                    const inputElement = document.getElementById(input);
                    const previewElement = document.getElementById(preview);
                    
                    if (inputElement && previewElement) {
                        inputElement.addEventListener('change', (e) => {
                            const file = e.target.files[0];
                            if (file) {
                                // Validate file size
                                if (file.size > this.config.FILE_SIZE_LIMIT) {
                                    this.showToast('File size too large (max 10MB)', 'error');
                                    inputElement.value = '';
                                    return;
                                }
                                
                                // Validate file type
                                if (!file.type.startsWith('image/')) {
                                    this.showToast('Please upload an image file', 'error');
                                    inputElement.value = '';
                                    return;
                                }
                                
                                // Show preview
                                const reader = new FileReader();
                                reader.onload = (e) => {
                                    previewElement.src = e.target.result;
                                    previewElement.style.display = 'block';
                                };
                                reader.readAsDataURL(file);
                            }
                        });
                    }
                });
            },

            initPasswordToggles() {
                document.querySelectorAll('.password-toggle').forEach(toggle => {
                    toggle.addEventListener('click', function() {
                        const input = this.previousElementSibling;
                        const icon = this.querySelector('i');
                        
                        if (input.type === 'password') {
                            input.type = 'text';
                            icon.classList.remove('fa-eye');
                            icon.classList.add('fa-eye-slash');
                        } else {
                            input.type = 'password';
                            icon.classList.remove('fa-eye-slash');
                            icon.classList.add('fa-eye');
                        }
                    });
                });
            },

            toggleTheme() {
                const body = document.body;
                const icon = document.querySelector('#theme-toggle i');
                
                if (body.classList.contains('light-mode')) {
                    // Switch to dark mode
                    body.classList.remove('light-mode');
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                    localStorage.setItem('theme', 'dark');
                    this.state.theme = 'dark';
                    this.showToast('Switched to dark mode', 'info');
                } else {
                    // Switch to light mode
                    body.classList.add('light-mode');
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                    localStorage.setItem('theme', 'light');
                    this.state.theme = 'light';
                    this.showToast('Switched to light mode', 'info');
                }
            },

            initTheme() {
                const savedTheme = localStorage.getItem('theme') || 'dark';
                const body = document.body;
                const icon = document.querySelector('#theme-toggle i');
                
                if (savedTheme === 'light') {
                    body.classList.add('light-mode');
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                } else {
                    body.classList.remove('light-mode');
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                }
                
                this.state.theme = savedTheme;
            },

            toggleMobileMenu() {
                const menu = document.getElementById('mobile-menu');
                const overlay = document.getElementById('mobile-menu-overlay');
                
                if (menu.classList.contains('active')) {
                    this.closeMobileMenu();
                } else {
                    menu.classList.add('active');
                    overlay.classList.add('active');
                    document.body.style.overflow = 'hidden';
                    this.state.mobileMenuOpen = true;
                }
            },

            closeMobileMenu() {
                const menu = document.getElementById('mobile-menu');
                const overlay = document.getElementById('mobile-menu-overlay');
                
                menu.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = 'auto';
                this.state.mobileMenuOpen = false;
            },

            handleScroll() {
                const navbar = document.querySelector('.navbar');
                const backToTop = document.getElementById('back-to-top');
                
                // Update navbar
                if (navbar) {
                    if (window.scrollY > 50) {
                        navbar.classList.add('scrolled');
                    } else {
                        navbar.classList.remove('scrolled');
                    }
                }
                
                // Update back to top button
                if (backToTop) {
                    if (window.scrollY > 300) {
                        backToTop.classList.add('visible');
                    } else {
                        backToTop.classList.remove('visible');
                    }
                }
            },

            scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            },

            // ==================== CHART FUNCTIONS ====================
            updateCharts() {
                // Update earnings chart
                this.updateEarningsChart();
                
                // Update portfolio chart
                this.updatePortfolioChart();
            },

            updateEarningsChart() {
                const ctx = document.getElementById('earnings-chart');
                if (!ctx) return;
                
                // Destroy existing chart
                if (this.state.charts.earnings) {
                    this.state.charts.earnings.destroy();
                }
                
                // Generate sample data for last 7 days
                const labels = [];
                const earningsData = [];
                
                for (let i = 6; i >= 0; i--) {
                    const date = new Date();
                    date.setDate(date.getDate() - i);
                    labels.push(date.toLocaleDateString('en-US', { weekday: 'short' }));
                    
                    // Generate random earnings data
                    const baseEarnings = this.state.userStats.dailyInterest || 1000;
                    const randomFactor = 0.8 + Math.random() * 0.4; // 0.8 to 1.2
                    earningsData.push(baseEarnings * randomFactor);
                }
                
                // Create new chart
                this.state.charts.earnings = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Daily Earnings',
                            data: earningsData,
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return '' + value.toLocaleString();
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)'
                                }
                            }
                        }
                    }
                });
            },

            updatePortfolioChart() {
                const ctx = document.getElementById('portfolio-chart');
                if (!ctx) return;
                
                // Destroy existing chart
                if (this.state.charts.portfolio) {
                    this.state.charts.portfolio.destroy();
                }
                
                // Get investment distribution from user data
                // This would normally come from the backend
                const distribution = {
                    'Cocoa Beans': 40,
                    'Gold': 35,
                    'Crude Oil': 25
                };
                
                const labels = Object.keys(distribution);
                const data = Object.values(distribution);
                const colors = ['#f59e0b', '#FFD700', '#000000'];
                
                // Create chart
                this.state.charts.portfolio = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: labels,
                        datasets: [{
                            data: data,
                            backgroundColor: colors,
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            },

            // ==================== HELPER FUNCTIONS ====================
            validateEmail(email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(email);
            },

            copyReferralLink() {
                const linkInput = document.getElementById('referral-link');
                if (!linkInput) return;
                
                linkInput.select();
                linkInput.setSelectionRange(0, 99999);
                
                try {
                    document.execCommand('copy');
                    this.showToast('Referral link copied to clipboard!', 'success');
                } catch (error) {
                    console.error('Failed to copy:', error);
                    this.showToast('Failed to copy link', 'error');
                }
            },

            copyReferralCode() {
                const codeInput = document.getElementById('referral-code');
                if (!codeInput) return;
                
                codeInput.select();
                codeInput.setSelectionRange(0, 99999);
                
                try {
                    document.execCommand('copy');
                    this.showToast('Referral code copied to clipboard!', 'success');
                } catch (error) {
                    console.error('Failed to copy:', error);
                    this.showToast('Failed to copy code', 'error');
                }
            },

            switchProfileTab(tab) {
                // Hide all tabs
                const tabs = ['personal', 'security', 'bank', 'preferences', 'kyc'];
                tabs.forEach(tabId => {
                    const element = document.getElementById(`${tabId}-tab`);
                    if (element) element.style.display = 'none';
                });
                
                // Show selected tab
                const selectedTab = document.getElementById(`${tab}-tab`);
                if (selectedTab) selectedTab.style.display = 'block';
                
                // Update active state in sidebar
                const navLinks = document.querySelectorAll('.profile-nav a');
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('onclick')?.includes(`'${tab}'`)) {
                        link.classList.add('active');
                    }
                });
            },

            switchAdminTab(tab) {
                // Hide all tabs
                const tabs = ['overview', 'users', 'investments', 'deposits', 'withdrawals', 'kyc', 'settings'];
                tabs.forEach(tabId => {
                    const element = document.getElementById(`${tabId}-tab`);
                    if (element) element.style.display = 'none';
                });
                
                // Show selected tab
                const selectedTab = document.getElementById(`${tab}-tab`);
                if (selectedTab) selectedTab.style.display = 'block';
                
                // Update active state in sidebar
                const navLinks = document.querySelectorAll('.admin-nav a');
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('onclick')?.includes(`'${tab}'`)) {
                        link.classList.add('active');
                    }
                });
            },

            switchSupportCategory(category) {
                // Hide all categories
                const categories = ['faq', 'contact', 'tickets'];
                categories.forEach(catId => {
                    const element = document.getElementById(`${catId}-category`);
                    if (element) element.style.display = 'none';
                });
                
                // Show selected category
                const selectedCategory = document.getElementById(`${category}-category`);
                if (selectedCategory) selectedCategory.style.display = 'block';
                
                // Update active state
                const categoryElements = document.querySelectorAll('.support-category');
                categoryElements.forEach(el => {
                    el.classList.remove('active');
                    if (el.getAttribute('onclick')?.includes(`'${category}'`)) {
                        el.classList.add('active');
                    }
                });
            },

            toggleFaq(element) {
                const faqItem = element.closest('.faq-item');
                faqItem.classList.toggle('active');
            },

            startAutoRefresh() {
                // Refresh dashboard every 30 seconds if user is authenticated
                setInterval(() => {
                    if (this.state.isAuthenticated && document.getElementById('dashboard-page')?.style.display === 'flex') {
                        this.updateDashboard();
                    }
                }, this.config.AUTO_REFRESH_INTERVAL);
            },

            // Stub functions for unimplemented features
            toggleAutoInvest() {
                this.showToast('Auto-invest feature coming soon!', 'info');
            },

            setupReminders() {
                this.showToast('Reminders feature coming soon!', 'info');
            },

            enable2FA() {
                this.showToast('2FA feature coming soon!', 'info');
            },

            disable2FA() {
                this.showToast('2FA feature coming soon!', 'info');
            },

            shareOnFacebook() {
                const url = encodeURIComponent(window.location.origin + '/register?ref=' + (this.state.currentUser?.referral_code || ''));
                window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
            },

            shareOnTwitter() {
                const text = encodeURIComponent('Join Raw Wealthy Investment Platform and start earning daily returns on raw materials investments!');
                const url = encodeURIComponent(window.location.origin + '/register?ref=' + (this.state.currentUser?.referral_code || ''));
                window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank');
            },

            shareOnWhatsApp() {
                const text = encodeURIComponent('Join Raw Wealthy Investment Platform and start earning daily returns! Use my referral code: ' + (this.state.currentUser?.referral_code || ''));
                const url = encodeURIComponent(window.location.origin + '/register?ref=' + (this.state.currentUser?.referral_code || ''));
                window.open(`https://wa.me/?text=${text}%20${url}`, '_blank');
            },

            shareOnTelegram() {
                const text = encodeURIComponent('Join Raw Wealthy Investment Platform and start earning daily returns on raw materials investments! Use my referral code: ' + (this.state.currentUser?.referral_code || ''));
                const url = encodeURIComponent(window.location.origin + '/register?ref=' + (this.state.currentUser?.referral_code || ''));
                window.open(`https://t.me/share/url?url=${url}&text=${text}`, '_blank');
            },

            exportUsers() {
                this.showToast('Export feature coming soon!', 'info');
            },

            filterAdminInvestments() {
                this.showToast('Filter feature coming soon!', 'info');
            },

            filterAdminDeposits() {
                this.showToast('Filter feature coming soon!', 'info');
            },

            filterAdminWithdrawals() {
                this.showToast('Filter feature coming soon!', 'info');
            },

            filterAdminKYC() {
                this.showToast('Filter feature coming soon!', 'info');
            },

            editUser(userId) {
                this.showToast('Edit user feature coming soon!', 'info');
            },

            deleteUser(userId) {
                if (confirm('Are you sure you want to delete this user?')) {
                    this.showToast('Delete user feature coming soon!', 'info');
                }
            },

            viewInvestmentDetails(investmentId) {
                this.showToast('View investment details feature coming soon!', 'info');
            },

            viewDepositDetails(depositId) {
                this.showToast('View deposit details feature coming soon!', 'info');
            },

            viewWithdrawalDetails(withdrawalId) {
                this.showToast('View withdrawal details feature coming soon!', 'info');
            },

            viewKYCDetails(kycId) {
                this.showToast('View KYC details feature coming soon!', 'info');
            }
        };

        // Initialize the application when DOM is loaded
        window.addEventListener('DOMContentLoaded', () => {
            app.init();
        });

        // Make app available globally for onclick handlers
        window.app = app;

        console.log(' Raw Wealthy Investment Platform v2.0 Loaded Successfully!');
    </script>
</body>
</html>
