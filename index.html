<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raw Wealthy Investment Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        :root {
            --primary: #0f172a;
            --secondary: #1e293b;
            --accent-gold: #f59e0b;
            --accent-emerald: #10b981;
            --accent-blue: #3b82f6;
            --accent-purple: #8b5cf6;
            --text-light: #f8fafc;
            --text-muted: #94a3b8;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --radius: 12px;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;
            --gradient-primary: linear-gradient(135deg, #f59e0b, #d97706);
            --gradient-secondary: linear-gradient(135deg, #10b981, #059669);
            --gradient-blue: linear-gradient(135deg, #3b82f6, #2563eb);
            --gradient-purple: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--primary);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
            transition: var(--transition);
        }

        body.light-mode {
            --primary: #f8fafc;
            --secondary: #e2e8f0;
            --text-light: #0f172a;
            --text-muted: #64748b;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            background-color: var(--primary);
            color: var(--text-light);
        }

        /* Loading Spinner */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(251, 191, 36, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent-gold);
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 9998;
            max-width: 350px;
        }
        
        .toast {
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            animation: slideInRight 0.3s, slideOutRight 0.5s 2.5s;
            animation-fill-mode: forwards;
            opacity: 0;
            transform: translateX(100%);
        }
        
        .toast.success {
            background: var(--success);
            color: white;
        }
        
        .toast.error {
            background: var(--error);
            color: white;
        }
        
        .toast.warning {
            background: var(--warning);
            color: white;
        }
        
        .toast.info {
            background: var(--info);
            color: white;
        }
        
        .toast i {
            margin-right: 0.5rem;
            font-size: 1.2rem;
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideOutRight {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }

        /* Navbar */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 5%;
            background-color: rgba(15, 23, 42, 0.95);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .light-mode .navbar {
            background-color: rgba(248, 250, 252, 0.95);
        }
        
        .navbar.scrolled {
            padding: 1rem 5%;
            background-color: rgba(15, 23, 42, 0.98);
        }
        
        .light-mode .navbar.scrolled {
            background-color: rgba(248, 250, 252, 0.98);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .logo i {
            color: var(--accent-emerald);
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text-light);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
        }
        
        .light-mode .nav-links a {
            color: var(--text-light);
        }
        
        .nav-links a:hover {
            color: var(--accent-gold);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--accent-gold);
            transition: var(--transition);
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .nav-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .btn {
            padding: 0.7rem 1.5rem;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            outline: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--accent-emerald);
            color: var(--accent-emerald);
        }
        
        .btn-outline:hover:not(:disabled) {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .light-mode .btn-outline:hover:not(:disabled) {
            color: var(--text-light);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-gold), #f59e0b);
            color: var(--primary);
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(251, 191, 36, 0.3);
        }
        
        .theme-toggle {
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 0.5rem;
            border-radius: 50%;
        }
        
        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .theme-toggle {
            color: var(--text-light);
        }
        
        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }
        
        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 280px;
            height: 100vh;
            background: var(--primary);
            z-index: 1001;
            padding: 2rem;
            transition: var(--transition);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .light-mode .mobile-menu {
            background: var(--primary);
        }
        
        .mobile-menu.active {
            right: 0;
        }
        
        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .mobile-menu-links {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .mobile-menu-links a {
            color: var(--text-light);
            text-decoration: none;
            font-size: 1.1rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }
        
        .light-mode .mobile-menu-links a {
            color: var(--text-light);
        }
        
        .mobile-menu-links a:hover {
            color: var(--accent-gold);
            padding-left: 0.5rem;
        }
        
        .mobile-menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: auto;
        }
        
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
        }
        
        .mobile-menu-overlay.active {
            display: block;
        }
        
        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 0 5%;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.8)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }
        
        .light-mode .hero {
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.9), rgba(226, 232, 240, 0.8)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .hero-content {
            max-width: 600px;
            z-index: 1;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: var(--text-muted);
        }
        
        .hero-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .hero-stats {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }
        
        .stat {
            display: flex;
            flex-direction: column;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .hero-visual {
            position: absolute;
            right: 5%;
            bottom: 10%;
            width: 500px;
            height: 400px;
            background: linear-gradient(135deg, var(--accent-emerald), var(--accent-gold));
            border-radius: 20px;
            opacity: 0.1;
            transform: rotate(10deg);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px) rotate(10deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
            100% { transform: translateY(0px) rotate(10deg); }
        }
        
        /* About Section */
        .section {
            padding: 5rem 5%;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--accent-gold);
            border-radius: 2px;
        }
        
        .section-title p {
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .about-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            align-items: center;
        }
        
        .about-text h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
        }
        
        .about-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .feature {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            transition: var(--transition);
            padding: 1rem;
            border-radius: var(--radius);
        }
        
        .feature:hover {
            background: var(--secondary);
            transform: translateY(-5px);
        }
        
        .light-mode .feature:hover {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .feature-icon {
            width: 50px;
            height: 50px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-gold);
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        .light-mode .feature-icon {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .feature-content h4 {
            margin-bottom: 0.5rem;
        }
        
        .feature-content p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .about-image {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transform: perspective(1000px) rotateY(-5deg);
            transition: var(--transition);
        }
        
        .about-image:hover {
            transform: perspective(1000px) rotateY(0deg);
        }
        
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* Plans Section */
        .plans {
            background-color: var(--secondary);
        }
        
        .light-mode .plans {
            background-color: rgba(30, 41, 59, 0.1);
        }
        
        .plans-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .plan-card {
            background: var(--primary);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(251, 191, 36, 0.1);
            display: flex;
            flex-direction: column;
        }
        
        .light-mode .plan-card {
            background: white;
        }
        
        .plan-card:hover {
            transform: translateY(-10px);
            border-color: var(--accent-gold);
        }
        
        .plan-badge {
            position: absolute;
            top: 20px;
            right: -30px;
            background: var(--accent-emerald);
            color: var(--primary);
            padding: 5px 30px;
            transform: rotate(45deg);
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .plan-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .plan-header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .plan-name {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .plan-price {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .plan-period {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .plan-features {
            margin-bottom: 2rem;
            flex-grow: 1;
        }
        
        .plan-feature {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
        }
        
        .plan-feature i {
            color: var(--accent-emerald);
        }
        
        .plan-button {
            width: 100%;
            padding: 1rem;
            text-align: center;
            margin-top: auto;
        }
        
        /* How It Works */
        .steps {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            position: relative;
        }
        
        .steps::before {
            content: '';
            position: absolute;
            top: 50px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-emerald);
            z-index: 0;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            max-width: 250px;
            position: relative;
            z-index: 1;
            background: var(--secondary);
            padding: 2rem 1.5rem;
            border-radius: var(--radius);
            transition: var(--transition);
        }
        
        .light-mode .step {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .step:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }
        
        .step-number {
            width: 60px;
            height: 60px;
            background: var(--accent-gold);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }
        
        .step-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        .step-description {
            color: var(--text-muted);
        }
        
        /* Testimonials */
        .testimonials {
            background-color: var(--secondary);
        }
        
        .light-mode .testimonials {
            background-color: rgba(30, 41, 59, 0.1);
        }
        
        .testimonials-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .testimonial-card {
            background: var(--primary);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .light-mode .testimonial-card {
            background: white;
        }
        
        .testimonial-card:hover {
            transform: translateY(-5px);
        }
        
        .testimonial-content {
            margin-bottom: 1.5rem;
            font-style: italic;
            position: relative;
        }
        
        .testimonial-content::before {
            content: '"';
            font-size: 4rem;
            color: var(--accent-gold);
            position: absolute;
            top: -20px;
            left: -10px;
            opacity: 0.3;
            line-height: 1;
        }
        
        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid var(--accent-gold);
        }
        
        .author-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .author-info h4 {
            margin-bottom: 0.2rem;
        }
        
        .author-info p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        /* Footer */
        footer {
            background-color: #0a0f1c;
            padding: 4rem 5% 2rem;
        }
        
        .light-mode footer {
            background-color: #e2e8f0;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }
        
        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background: var(--accent-gold);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.8rem;
        }
        
        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .footer-links a:hover {
            color: var(--accent-gold);
            padding-left: 5px;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .social-links a {
            width: 40px;
            height: 40px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            transition: var(--transition);
        }
        
        .light-mode .social-links a {
            background: rgba(30, 41, 59, 0.1);
            color: var(--text-light);
        }
        
        .social-links a:hover {
            background: var(--accent-gold);
            color: var(--primary);
            transform: translateY(-3px);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .light-mode .footer-bottom {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* Registration Page */
        .registration-page, .login-page, .dashboard-page, .investment-plans-page, .profile-page, .kyc-page, .investment-history-page, .transaction-history-page, .referral-page, .support-page, .admin-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 5%;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
        }
        
        .light-mode .registration-page, 
        .light-mode .login-page, 
        .light-mode .dashboard-page, 
        .light-mode .investment-plans-page,
        .light-mode .profile-page,
        .light-mode .kyc-page,
        .light-mode .investment-history-page,
        .light-mode .transaction-history-page,
        .light-mode .referral-page,
        .light-mode .support-page,
        .light-mode .admin-page {
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.9), rgba(226, 232, 240, 0.9)), url('https://images.unsplash.com/photo-1642790553125-43a195c07ed7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .registration-container, .login-container, .dashboard-container, .investment-plans-container, .profile-container, .kyc-container, .investment-history-container, .transaction-history-container, .referral-container, .support-container, .admin-container {
            display: flex;
            max-width: 1000px;
            width: 100%;
            background: var(--primary);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .light-mode .registration-container, 
        .light-mode .login-container, 
        .light-mode .dashboard-container, 
        .light-mode .investment-plans-container,
        .light-mode .profile-container,
        .light-mode .kyc-container,
        .light-mode .investment-history-container,
        .light-mode .transaction-history-container,
        .light-mode .referral-container,
        .light-mode .support-container,
        .light-mode .admin-container {
            background: white;
        }
        
        .registration-info, .login-info {
            flex: 1;
            padding: 3rem;
            background: linear-gradient(135deg, var(--accent-emerald), var(--accent-gold));
            color: var(--primary);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .registration-info h2, .login-info h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .registration-info p, .login-info p {
            margin-bottom: 2rem;
        }
        
        .info-features {
            list-style: none;
        }
        
        .info-features li {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .info-features i {
            font-size: 1.2rem;
        }
        
        .registration-form, .login-form {
            flex: 1;
            padding: 3rem;
        }
        
        .form-header, .login-form-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .form-header h2, .login-form-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .form-header p, .login-form-header p {
            color: var(--text-muted);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 1rem;
            background: var(--secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .light-mode .form-control {
            background: rgba(30, 41, 59, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--text-light);
        }
        
        .form-control:focus {
            border-color: var(--accent-emerald);
            outline: none;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
        }
        
        .password-strength {
            height: 4px;
            margin-top: 0.5rem;
            border-radius: 2px;
            transition: var(--transition);
        }
        
        .password-strength.weak {
            background: var(--error);
            width: 25%;
        }
        
        .password-strength.medium {
            background: var(--warning);
            width: 50%;
        }
        
        .password-strength.strong {
            background: var(--success);
            width: 100%;
        }
        
        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
        }
        
        .form-footer, .login-form-footer {
            margin-top: 2rem;
            text-align: center;
        }
        
        .form-footer p, .login-form-footer p {
            color: var(--text-muted);
            margin-top: 1rem;
        }
        
        .form-footer a, .login-form-footer a {
            color: var(--accent-gold);
            text-decoration: none;
        }
        
        .forgot-password {
            display: block;
            text-align: right;
            margin-top: 0.5rem;
            color: var(--accent-emerald);
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .forgot-password:hover {
            text-decoration: underline;
        }
        
        /* Dashboard Page */
        .dashboard-container {
            max-width: 1200px;
            flex-direction: column;
            padding: 0;
        }
        
        .dashboard-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .light-mode .dashboard-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .dashboard-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent-emerald);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
            border: 2px solid var(--accent-gold);
        }
        
        .dashboard-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            padding: 2rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            transition: var(--transition);
        }
        
        .light-mode .stat-card {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card h3 {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }
        
        .stat-card .value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .chart-container {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }
        
        .light-mode .chart-container {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .chart-container h3 {
            margin-bottom: 1rem;
        }
        
        .investments-list, .transactions-list {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .investments-list, .light-mode .transactions-list {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .investments-list h3, .transactions-list h3 {
            margin-bottom: 1rem;
        }
        
        .investment-item, .transaction-item {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }
        
        .light-mode .investment-item, .light-mode .transaction-item {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .investment-item:hover, .transaction-item:hover {
            background: rgba(255, 255, 255, 0.05);
            padding-left: 0.5rem;
            padding-right: 0.5rem;
            border-radius: 5px;
        }
        
        .light-mode .investment-item:hover, .light-mode .transaction-item:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .investment-item:last-child, .transaction-item:last-child {
            border-bottom: none;
        }
        
        .investment-name, .transaction-type {
            font-weight: 500;
        }
        
        .investment-amount, .transaction-amount {
            color: var(--accent-gold);
            font-weight: 600;
        }
        
        .investment-status, .transaction-date {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        .action-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .light-mode .action-card {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            background: rgba(30, 41, 59, 0.8);
        }
        
        .light-mode .action-card:hover {
            background: rgba(30, 41, 59, 0.2);
        }
        
        .action-card i {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--accent-emerald);
        }
        
        /* Investment Plans Page */
        .investment-plans-container {
            max-width: 1200px;
            flex-direction: column;
            padding: 0;
        }
        
        .investment-plans-header {
            padding: 2rem;
            background: var(--secondary);
            text-align: center;
        }
        
        .light-mode .investment-plans-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .investment-plans-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .investment-plans-content {
            padding: 2rem;
        }
        
        /* Profile Page */
        .profile-container {
            max-width: 1000px;
            flex-direction: column;
            padding: 0;
        }
        
        .profile-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .light-mode .profile-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .profile-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .profile-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            padding: 2rem;
        }
        
        .profile-sidebar {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            height: fit-content;
        }
        
        .light-mode .profile-sidebar {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .profile-nav {
            list-style: none;
        }
        
        .profile-nav li {
            margin-bottom: 1rem;
        }
        
        .profile-nav a {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1rem;
            color: var(--text-light);
            text-decoration: none;
            border-radius: 8px;
            transition: var(--transition);
        }
        
        .light-mode .profile-nav a {
            color: var(--text-light);
        }
        
        .profile-nav a:hover, .profile-nav a.active {
            background: rgba(251, 191, 36, 0.1);
            color: var(--accent-gold);
        }
        
        .profile-main {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .profile-main {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .profile-section {
            margin-bottom: 2rem;
        }
        
        .profile-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .profile-section h2 {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .two-factor-setup {
            background: rgba(16, 185, 129, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1rem;
        }
        
        .two-factor-code {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .two-factor-code input {
            width: 40px;
            height: 40px;
            text-align: center;
            font-size: 1.2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            background: var(--primary);
            color: var(--text-light);
        }
        
        .light-mode .two-factor-code input {
            background: white;
            color: var(--text-light);
        }
        
        /* KYC Page */
        .kyc-container {
            max-width: 800px;
            flex-direction: column;
            padding: 0;
        }
        
        .kyc-header {
            padding: 2rem;
            background: var(--secondary);
            text-align: center;
        }
        
        .light-mode .kyc-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .kyc-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .kyc-content {
            padding: 2rem;
        }
        
        .kyc-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .kyc-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-emerald);
            z-index: 0;
        }
        
        .kyc-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .kyc-step-number {
            width: 40px;
            height: 40px;
            background: var(--secondary);
            color: var(--text-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 0.5rem;
            border: 2px solid var(--accent-emerald);
        }
        
        .kyc-step.active .kyc-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .kyc-step.completed .kyc-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .kyc-step-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .kyc-step.active .kyc-step-label {
            color: var(--accent-emerald);
            font-weight: 600;
        }
        
        .kyc-form-section {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }
        
        .light-mode .kyc-form-section {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .file-upload {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .light-mode .file-upload {
            border: 2px dashed rgba(0, 0, 0, 0.2);
        }
        
        .file-upload:hover {
            border-color: var(--accent-emerald);
        }
        
        .file-upload i {
            font-size: 3rem;
            color: var(--accent-emerald);
            margin-bottom: 1rem;
        }
        
        /* Investment History Page */
        .investment-history-container {
            max-width: 1200px;
            flex-direction: column;
            padding: 0;
        }
        
        .investment-history-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .light-mode .investment-history-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .investment-history-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .investment-history-content {
            padding: 2rem;
        }
        
        .filters {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .filter-select {
            padding: 0.7rem 1rem;
            background: var(--secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            color: var(--text-light);
            min-width: 150px;
        }
        
        .light-mode .filter-select {
            background: rgba(30, 41, 59, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--text-light);
        }
        
        /* Transaction History Page */
        .transaction-history-container {
            max-width: 1200px;
            flex-direction: column;
            padding: 0;
        }
        
        .transaction-history-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .light-mode .transaction-history-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .transaction-history-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .transaction-history-content {
            padding: 2rem;
        }
        
        /* Referral Page */
        .referral-container {
            max-width: 1000px;
            flex-direction: column;
            padding: 0;
        }
        
        .referral-header {
            padding: 2rem;
            background: var(--secondary);
            text-align: center;
        }
        
        .light-mode .referral-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .referral-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .referral-content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .referral-stats {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .referral-stats {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .referral-stat {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .referral-stat {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .referral-stat:last-child {
            border-bottom: none;
        }
        
        .referral-links {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .referral-links {
            background: rgba(30, 41, 59, 0.1);
        }
        
        /* Support Page */
        .support-container {
            max-width: 1000px;
            flex-direction: column;
            padding: 0;
        }
        
        .support-header {
            padding: 2rem;
            background: var(--secondary);
            text-align: center;
        }
        
        .light-mode .support-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .support-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .support-content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }
        
        .support-categories {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            height: fit-content;
        }
        
        .light-mode .support-categories {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .support-category {
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .support-category:hover, .support-category.active {
            background: rgba(251, 191, 36, 0.1);
            color: var(--accent-gold);
        }
        
        .support-category i {
            margin-right: 0.5rem;
        }
        
        .support-main {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .support-main {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .faq-item {
            margin-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 1.5rem;
        }
        
        .light-mode .faq-item {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .faq-question {
            font-weight: 600;
            margin-bottom: 0.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .faq-answer {
            color: var(--text-muted);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .faq-item.active .faq-answer {
            max-height: 500px;
        }
        
        /* Admin Page */
        .admin-container {
            max-width: 1400px;
            flex-direction: column;
            padding: 0;
        }
        
        .admin-header {
            padding: 2rem;
            background: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .light-mode .admin-header {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .admin-header h1 {
            font-size: 2rem;
            color: var(--accent-gold);
        }
        
        .admin-content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
        }
        
        .admin-sidebar {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
            height: fit-content;
        }
        
        .light-mode .admin-sidebar {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .admin-nav {
            list-style: none;
        }
        
        .admin-nav li {
            margin-bottom: 1rem;
        }
        
        .admin-nav a {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1rem;
            color: var(--text-light);
            text-decoration: none;
            border-radius: 8px;
            transition: var(--transition);
        }
        
        .light-mode .admin-nav a {
            color: var(--text-light);
        }
        
        .admin-nav a:hover, .admin-nav a.active {
            background: rgba(251, 191, 36, 0.1);
            color: var(--accent-gold);
        }
        
        .admin-main {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .admin-main {
            background: rgba(30, 41, 59, 0.1);
        }
        
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .admin-stat {
            background: var(--primary);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            transition: var(--transition);
        }
        
        .light-mode .admin-stat {
            background: white;
        }
        
        .admin-stat:hover {
            transform: translateY(-5px);
        }
        
        .admin-stat .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-gold);
            display: block;
        }
        
        .admin-stat .label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .admin-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .admin-table th, .admin-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .admin-table th, .light-mode .admin-table td {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .admin-table th {
            color: var(--text-muted);
            font-weight: 600;
        }
        
        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-badge.pending {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .status-badge.approved {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .status-badge.rejected {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal-content {
            background: var(--primary);
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            width: 100%;
            box-shadow: var(--shadow);
            max-height: 90vh;
            overflow-y: auto;
            animation: modalAppear 0.3s ease;
        }
        
        .light-mode .modal-content {
            background: white;
        }
        
        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .modal-header h2 {
            font-size: 1.5rem;
            color: var(--accent-gold);
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .close-modal:hover {
            color: var(--accent-gold);
        }
        
        /* Password Reset Modal */
        .password-reset-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .password-reset-steps::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-emerald);
            z-index: 0;
        }
        
        .password-reset-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .password-reset-step-number {
            width: 30px;
            height: 30px;
            background: var(--secondary);
            color: var(--text-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 0.5rem;
            border: 2px solid var(--accent-emerald);
            font-size: 0.8rem;
        }
        
        .password-reset-step.active .password-reset-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .password-reset-step.completed .password-reset-step-number {
            background: var(--accent-emerald);
            color: var(--primary);
        }
        
        .password-reset-step-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }
        
        .password-reset-step.active .password-reset-step-label {
            color: var(--accent-emerald);
            font-weight: 600;
        }
        
        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--accent-gold);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            z-index: 999;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }
        
        /* File Upload Styles */
        .file-upload-container {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            margin-bottom: 1rem;
        }
        
        .light-mode .file-upload-container {
            border: 2px dashed rgba(0, 0, 0, 0.2);
        }
        
        .file-upload-container:hover {
            border-color: var(--accent-emerald);
        }
        
        .file-upload-container i {
            font-size: 3rem;
            color: var(--accent-emerald);
            margin-bottom: 1rem;
        }
        
        .file-preview {
            max-width: 100%;
            max-height: 200px;
            margin-top: 1rem;
            border-radius: 5px;
            display: none;
        }
        
        /* Currency Toggle */
        .currency-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .currency-toggle label {
            font-weight: 500;
        }
        
        .currency-toggle select {
            background: var(--secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            color: var(--text-light);
            padding: 0.5rem;
        }
        
        /* Withdrawal Fee Notice */
        .withdrawal-fee-notice {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            color: var(--warning);
            font-size: 0.9rem;
        }
        
        .withdrawal-fee-notice i {
            margin-right: 0.5rem;
        }
        
        /* NEW FEATURES - Advanced Dashboard */
        .earnings-breakdown {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        
        .earnings-breakdown h3 {
            margin-bottom: 1rem;
        }
        
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .breakdown-item:last-child {
            border-bottom: none;
            font-weight: 600;
            color: var(--accent-gold);
        }
        
        .performance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .metric-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
        }
        
        .metric-card .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-gold);
            margin-bottom: 0.5rem;
        }
        
        .metric-card .label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        /* Investment Calculator */
        .calculator-container {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        
        .calculator-result {
            background: var(--primary);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1.5rem;
            text-align: center;
        }
        
        .calculator-result .value {
            font-size: 2rem;
            color: var(--accent-gold);
            font-weight: 700;
            margin: 0.5rem 0;
        }
        
        /* Portfolio Diversification */
        .portfolio-chart {
            height: 300px;
            margin: 1rem 0;
        }
        
        /* News Feed */
        .news-feed {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .news-item {
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .news-item:last-child {
            border-bottom: none;
        }
        
        .news-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .news-date {
            color: var(--text-muted);
            font-size: 0.8rem;
        }
        
        /* Automation Tools */
        .automation-tools {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .tool-card {
            background: var(--secondary);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
            background: rgba(30, 41, 59, 0.8);
        }
        
        .tool-card i {
            font-size: 2rem;
            color: var(--accent-emerald);
            margin-bottom: 1rem;
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .admin-content {
                grid-template-columns: 1fr;
            }
            
            .admin-sidebar {
                order: 2;
            }
            
            .admin-main {
                order: 1;
            }
            
            .admin-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .steps {
                flex-direction: column;
                gap: 3rem;
            }
            
            .steps::before {
                display: none;
            }
            
            .registration-container, .login-container {
                flex-direction: column;
            }
            
            .dashboard-content {
                grid-template-columns: 1fr;
            }
            
            .profile-content {
                grid-template-columns: 1fr;
            }
            
            .referral-content {
                grid-template-columns: 1fr;
            }
            
            .support-content {
                grid-template-columns: 1fr;
            }
            
            .about-content {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .navbar {
                padding: 1rem 5%;
            }
            
            .nav-links, .nav-buttons {
                display: none;
            }
            
            .hamburger {
                display: block;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero-buttons {
                flex-direction: column;
            }
            
            .hero-stats {
                flex-direction: column;
                gap: 1rem;
            }
            
            .about-features {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .admin-stats {
                grid-template-columns: 1fr;
            }
            
            .kyc-steps {
                flex-direction: column;
                gap: 2rem;
            }
            
            .kyc-steps::before {
                display: none;
            }
            
            .password-reset-steps {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            .password-reset-steps::before {
                display: none;
            }
        }
        
        @media (max-width: 576px) {
            .section {
                padding: 3rem 5%;
            }
            
            .plans-container, .testimonials-container {
                grid-template-columns: 1fr;
            }
            
            .registration-info, .registration-form, .login-info, .login-form {
                padding: 2rem;
            }
            
            .dashboard-header, .investment-plans-header, .profile-header, .kyc-header, .investment-history-header, .transaction-history-header, .referral-header, .support-header, .admin-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .filters {
                flex-direction: column;
            }
            
            .filter-select {
                min-width: 100%;
            }
            
            .two-factor-code {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loading-spinner">
        <div class="spinner"></div>
        <p>Processing your request...</p>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobile-menu-overlay"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-header">
            <div class="logo">
                <i class="fas fa-gem"></i>
                <span>Raw Wealthy</span>
            </div>
            <button class="close-modal" id="close-mobile-menu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-menu-links">
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-info-circle"></i> About
            </a>
            <a href="#" onclick="app.showPage('investment-plans'); app.closeMobileMenu();">
                <i class="fas fa-chart-line"></i> Raw Materials
            </a>
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-cogs"></i> How It Works
            </a>
            <a href="#" onclick="app.showPage('home'); app.closeMobileMenu();">
                <i class="fas fa-comments"></i> Testimonials
            </a>
        </div>
        <div class="mobile-menu-buttons">
            <button class="btn btn-outline" onclick="app.showPage('login'); app.closeMobileMenu();">Login</button>
            <button class="btn btn-primary" onclick="app.showPage('register'); app.closeMobileMenu();">Register</button>
        </div>
    </div>

    <!-- Home Page -->
    <div id="home-page">
        <!-- Navbar -->
        <nav class="navbar">
            <div class="logo">
                <i class="fas fa-gem"></i>
                <span>Raw Wealthy</span>
            </div>
            <div class="nav-links">
                <a href="#" onclick="app.showPage('home')">Home</a>
                <a href="#" onclick="app.showPage('home')">About</a>
                <a href="#" onclick="app.showPage('investment-plans')">Raw Materials</a>
                <a href="#" onclick="app.showPage('home')">How It Works</a>
                <a href="#" onclick="app.showPage('home')">Testimonials</a>
            </div>
            <div class="nav-buttons">
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn btn-outline" onclick="app.showPage('login')">Login</button>
                <button class="btn btn-primary" onclick="app.showPage('register')">Register</button>
            </div>
            <div class="hamburger" id="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="hero-content">
                <h1>Invest in Raw Materials. <span class="gradient-text">Earn Daily.</span></h1>
                <p>Join thousands of investors who are growing their wealth with our secure raw materials investment platform. Start with as little as 3,500 and watch your money grow.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="app.showPage('register')">Get Started</button>
                    <button class="btn btn-outline" onclick="app.showPage('investment-plans')">Investment Plans</button>
                </div>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-value" id="total-invested-stat">2.5B+</span>
                        <span class="stat-label">Total Invested</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="active-investors-stat">15,240+</span>
                        <span class="stat-label">Active Investors</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="user-rating-stat">4.9/5</span>
                        <span class="stat-label">User Rating</span>
                    </div>
                </div>
            </div>
            <div class="hero-visual"></div>
        </section>

        <!-- About Section -->
        <section class="section" id="about">
            <div class="section-title">
                <h2>Why Choose Raw Wealthy?</h2>
                <p>We provide a secure and transparent platform for investing in raw materials with industry-leading returns.</p>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <h3>Your Trusted Partner in Raw Materials Investment</h3>
                    <p>With over 7 years of experience in the raw materials industry, we've helped thousands of clients achieve their financial goals through carefully curated investment plans.</p>
                    <p>Our platform uses advanced security measures and follows strict compliance protocols to ensure your investments are safe and secure.</p>
                    <div class="about-features">
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="feature-content">
                                <h4>Secure Investments</h4>
                                <p>Bank-level security for all transactions</p>
                            </div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="feature-content">
                                <h4>High Returns</h4>
                                <p>Industry-leading ROI on all plans</p>
                            </div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="feature-content">
                                <h4>24/7 Support</h4>
                                <p>Round-the-clock customer service</p>
                            </div>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="feature-content">
                                <h4>Verified Platform</h4>
                                <p>Fully licensed and regulated</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="about-image">
                    <img src="https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Investment Growth">
                </div>
            </div>
        </section>

        <!-- Raw Materials Plans Section -->
        <section class="section plans" id="plans">
            <div class="section-title">
                <h2>Raw Materials Investment Plans</h2>
                <p>Choose from our carefully curated raw materials investment plans designed to maximize your returns.</p>
            </div>
            <div class="plans-container" id="plans-container">
                <!-- Plans will be dynamically loaded here -->
            </div>
        </section>

        <!-- How It Works Section -->
        <section class="section" id="how-it-works">
            <div class="section-title">
                <h2>How It Works</h2>
                <p>Getting started with Raw Wealthy is simple and straightforward.</p>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3 class="step-title">Register</h3>
                    <p class="step-description">Create your account in less than 2 minutes with our simple registration process.</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3 class="step-title">Invest</h3>
                    <p class="step-description">Choose a raw material investment plan that suits your goals and make your first deposit.</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3 class="step-title">Earn</h3>
                    <p class="step-description">Watch your investment grow with daily returns that you can withdraw or reinvest.</p>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="section testimonials" id="testimonials">
            <div class="section-title">
                <h2>What Our Investors Say</h2>
                <p>Hear from our satisfied investors who have achieved financial success with our platform.</p>
            </div>
            <div class="testimonials-container">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "I've been investing with Raw Wealthy for over a year now, and the returns have been consistently impressive. The platform is easy to use, and their customer support is excellent."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Michael Johnson">
                        </div>
                        <div class="author-info">
                            <h4>Michael Johnson</h4>
                            <p>Gold Investor</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "As a beginner in investing, I was hesitant at first. But Raw Wealthy made the process so simple. I started with the Cocoa plan and have already upgraded to Gold. Highly recommended!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Sarah Williams">
                        </div>
                        <div class="author-info">
                            <h4>Sarah Williams</h4>
                            <p>Silver Investor</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "The transparency and regular updates on my investments give me peace of mind. I've tried other platforms, but Raw Wealthy stands out with their professionalism and high returns."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Robert Chen">
                        </div>
                        <div class="author-info">
                            <h4>Robert Chen</h4>
                            <p>Bronze Investor</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Raw Wealthy</h3>
                    <p>Your trusted partner for secure and high-yield raw materials investment opportunities. Start growing your wealth today.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#" onclick="app.showPage('home')"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#about"><i class="fas fa-chevron-right"></i> About Us</a></li>
                        <li><a href="#" onclick="app.showPage('investment-plans')"><i class="fas fa-chevron-right"></i> Investment Plans</a></li>
                        <li><a href="#how-it-works"><i class="fas fa-chevron-right"></i> How It Works</a></li>
                        <li><a href="#testimonials"><i class="fas fa-chevron-right"></i> Testimonials</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Terms of Service</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Cookie Policy</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Disclaimer</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"></i> support@rawwealthy.com</li>
                        <li><i class="fas fa-phone"></i> +234 (0) 812 345 6789</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Investment St, Lagos, Nigeria</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Raw Wealthy Investment Platform. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Registration Page -->
    <div id="registration-page" class="registration-page" style="display: none;">
        <div class="registration-container">
            <div class="registration-info">
                <h2>Join Thousands of Successful Investors</h2>
                <p>Create your account today and start your journey to financial freedom with our secure and high-yield raw materials investment plans.</p>
                <ul class="info-features">
                    <li><i class="fas fa-check-circle"></i> Secure and encrypted platform</li>
                    <li><i class="fas fa-check-circle"></i> Daily returns on your investments</li>
                    <li><i class="fas fa-check-circle"></i> 24/7 customer support</li>
                    <li><i class="fas fa-check-circle"></i> Multiple withdrawal options</li>
                    <li><i class="fas fa-check-circle"></i> Referral bonus program</li>
                </ul>
            </div>
            <div class="registration-form">
                <div class="form-header">
                    <h2>Create Account</h2>
                    <p>Fill in your details to get started</p>
                </div>
                <form id="registration-form">
                    <div class="form-group">
                        <label for="fullname">Full Name</label>
                        <input type="text" id="fullname" class="form-control" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" class="form-control" placeholder="Create a password" required>
                        <button type="button" class="password-toggle" id="password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                        <div class="password-strength" id="password-strength"></div>
                    </div>
                    <div class="form-group">
                        <label for="confirm-password">Confirm Password</label>
                        <input type="password" id="confirm-password" class="form-control" placeholder="Confirm your password" required>
                        <button type="button" class="password-toggle" id="confirm-password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="form-group">
                        <label for="referral">Referral Code (Optional)</label>
                        <input type="text" id="referral" class="form-control" placeholder="Enter referral code if any">
                    </div>
                    <div class="form-group">
                        <label for="risk-tolerance">Risk Tolerance</label>
                        <select id="risk-tolerance" class="form-control" required>
                            <option value="low">Low (Conservative)</option>
                            <option value="medium" selected>Medium (Balanced)</option>
                            <option value="high">High (Aggressive)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="investment-strategy">Investment Strategy</label>
                        <select id="investment-strategy" class="form-control" required>
                            <option value="conservative">Conservative</option>
                            <option value="balanced" selected>Balanced</option>
                            <option value="aggressive">Aggressive</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="register-btn">
                        <span class="btn-text">Create Account</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </form>
                <div class="form-footer">
                    <p>Already have an account? <a href="#" onclick="app.showPage('login')">Login here</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="login-page" style="display: none;">
        <div class="login-container">
            <div class="login-info">
                <h2>Welcome Back!</h2>
                <p>Access your investment dashboard to track your portfolio, view earnings, and manage your investments.</p>
                <ul class="info-features">
                    <li><i class="fas fa-check-circle"></i> Track your investment performance</li>
                    <li><i class="fas fa-check-circle"></i> View real-time earnings</li>
                    <li><i class="fas fa-check-circle"></i> Manage your portfolio</li>
                    <li><i class="fas fa-check-circle"></i> Withdraw your earnings</li>
                    <li><i class="fas fa-check-circle"></i> Access exclusive features</li>
                </ul>
            </div>
            <div class="login-form">
                <div class="login-form-header">
                    <h2>Login to Your Account</h2>
                    <p>Enter your credentials to access your dashboard</p>
                </div>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email Address</label>
                        <input type="email" id="login-email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" class="form-control" placeholder="Enter your password" required>
                        <button type="button" class="password-toggle" id="login-password-toggle">
                            <i class="fas fa-eye"></i>
                        </button>
                        <a href="#" class="forgot-password" onclick="app.openModal('password-reset-modal'); return false;">Forgot Password?</a>
                    </div>
                    <div id="two-factor-section" style="display: none;">
                        <div class="form-group">
                            <label for="two-factor-code">Two-Factor Authentication Code</label>
                            <input type="text" id="two-factor-code" class="form-control" placeholder="Enter 6-digit code">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="login-btn">
                        <span class="btn-text">Login</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </form>
                <div class="login-form-footer">
                    <p>Don't have an account? <a href="#" onclick="app.showPage('register')">Register here</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard-page" class="dashboard-page" style="display: none;">
        <div class="dashboard-container">
            <div class="dashboard-header">
                <h1>Dashboard</h1>
                <div class="user-info">
                    <div class="user-avatar" id="user-avatar">JD</div>
                    <div>
                        <div id="user-name">John Doe</div>
                        <div style="color: var(--text-muted); font-size: 0.9rem;" id="user-tier">Standard Investor</div>
                    </div>
                    <button class="btn btn-outline" onclick="app.logout()">Logout</button>
                </div>
            </div>
            <div class="dashboard-content">
                <div class="dashboard-main">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Total Balance</h3>
                            <div class="value" id="total-balance">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Active Investments</h3>
                            <div class="value" id="active-investments">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Total Earnings</h3>
                            <div class="value" id="total-earnings">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Referral Bonus</h3>
                            <div class="value" id="referral-bonus">0.00</div>
                        </div>
                        <!-- New Stat Cards -->
                        <div class="stat-card">
                            <h3>Today's Interest</h3>
                            <div class="value" id="daily-interest">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Today's Earnings</h3>
                            <div class="value" id="today-earnings">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Pending Earnings</h3>
                            <div class="value" id="pending-earnings">0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Monthly Projection</h3>
                            <div class="value" id="monthly-projection">0.00</div>
                        </div>
                    </div>
                    
                    <!-- Performance Metrics -->
                    <div class="performance-metrics">
                        <div class="metric-card">
                            <div class="value" id="roi-percentage">0%</div>
                            <div class="label">ROI</div>
                        </div>
                        <div class="metric-card">
                            <div class="value" id="avg-daily-return">0%</div>
                            <div class="label">Avg Daily Return</div>
                        </div>
                        <div class="metric-card">
                            <div class="value" id="total-referrals-count">0</div>
                            <div class="label">Total Referrals</div>
                        </div>
                        <div class="metric-card">
                            <div class="value" id="commission-rate">15%</div>
                            <div class="label">Commission Rate</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Earnings Overview</h3>
                        <canvas id="earnings-chart"></canvas>
                    </div>
                    
                    <!-- Portfolio Diversification Chart -->
                    <div class="chart-container">
                        <h3>Portfolio Diversification</h3>
                        <div class="portfolio-chart">
                            <canvas id="portfolio-chart"></canvas>
                        </div>
                    </div>
                    
                    <!-- Earnings Breakdown -->
                    <div class="earnings-breakdown">
                        <h3>Earnings Breakdown</h3>
                        <div id="earnings-breakdown">
                            <div class="breakdown-item">
                                <span>Investment Earnings:</span>
                                <span id="investment-earnings">0.00</span>
                            </div>
                            <div class="breakdown-item">
                                <span>Referral Earnings:</span>
                                <span id="referral-earnings-detail">0.00</span>
                            </div>
                            <div class="breakdown-item">
                                <span>Bonus Earnings:</span>
                                <span id="bonus-earnings">0.00</span>
                            </div>
                            <div class="breakdown-item">
                                <span>Total:</span>
                                <span id="total-earnings-detail">0.00</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="investments-list">
                        <h3>Active Investments</h3>
                        <div id="active-investments-list">
                            <!-- Active investments will be dynamically loaded here -->
                        </div>
                    </div>
                    <div class="transactions-list">
                        <h3>Recent Transactions</h3>
                        <div id="recent-transactions-list">
                            <!-- Recent transactions will be dynamically loaded here -->
                        </div>
                    </div>
                </div>
                <div class="dashboard-sidebar">
                    <div class="quick-actions">
                        <div class="action-card" onclick="app.openModal('invest-modal')">
                            <i class="fas fa-plus-circle"></i>
                            <h3>New Investment</h3>
                            <p>Start a new investment plan</p>
                        </div>
                        <div class="action-card" onclick="app.openModal('deposit-modal')">
                            <i class="fas fa-wallet"></i>
                            <h3>Deposit Funds</h3>
                            <p>Add funds to your account</p>
                        </div>
                        <div class="action-card" onclick="app.openModal('withdraw-modal')">
                            <i class="fas fa-money-bill-wave"></i>
                            <h3>Withdraw Funds</h3>
                            <p>Transfer to your bank account</p>
                        </div>
                        <div class="action-card" onclick="app.showPage('referral')">
                            <i class="fas fa-user-friends"></i>
                            <h3>Refer Friends</h3>
                            <p>Earn 15% referral bonus</p>
                        </div>
                        <div class="action-card" onclick="app.openModal('calculator-modal')">
                            <i class="fas fa-calculator"></i>
                            <h3>Investment Calculator</h3>
                            <p>Calculate potential returns</p>
                        </div>
                        <div class="action-card" onclick="app.showPage('support')">
                            <i class="fas fa-headset"></i>
                            <h3>Support</h3>
                            <p>24/7 customer service</p>
                        </div>
                        <div class="action-card" onclick="app.showPage('profile')">
                            <i class="fas fa-user-cog"></i>
                            <h3>Profile</h3>
                            <p>Manage your account</p>
                        </div>
                    </div>
                    
                    <!-- News Feed -->
                    <div class="news-feed">
                        <h3>Market Updates</h3>
                        <div id="news-feed-content">
                            <div class="news-item">
                                <div class="news-title">Gold Prices Reach New High</div>
                                <div class="news-date">Today, 10:30 AM</div>
                            </div>
                            <div class="news-item">
                                <div class="news-title">Cocoa Production Increases</div>
                                <div class="news-date">Yesterday, 3:45 PM</div>
                            </div>
                            <div class="news-item">
                                <div class="news-title">New Investment Opportunities</div>
                                <div class="news-date">2 days ago</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Automation Tools -->
                    <div class="automation-tools">
                        <div class="tool-card" onclick="app.toggleAutoInvest()">
                            <i class="fas fa-robot"></i>
                            <h4>Auto-Invest</h4>
                            <p>Automatically reinvest earnings</p>
                        </div>
                        <div class="tool-card" onclick="app.setupReminders()">
                            <i class="fas fa-bell"></i>
                            <h4>Reminders</h4>
                            <p>Set investment reminders</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Plans Page -->
    <div id="investment-plans-page" class="investment-plans-page" style="display: none;">
        <div class="investment-plans-container">
            <div class="investment-plans-header">
                <h1>Raw Materials Investment Plans</h1>
                <p>Choose the plan that best fits your financial goals</p>
            </div>
            <div class="investment-plans-content">
                <div class="plans-container" id="investment-plans-list">
                    <!-- Investment plans will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile-page" class="profile-page" style="display: none;">
        <div class="profile-container">
            <div class="profile-header">
                <h1>Profile Settings</h1>
                <button class="btn btn-primary" onclick="app.showPage('dashboard')">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
            </div>
            <div class="profile-content">
                <div class="profile-sidebar">
                    <ul class="profile-nav">
                        <li><a href="#" class="active" onclick="app.switchProfileTab('personal')">
                            <i class="fas fa-user"></i> Personal Information
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('security')">
                            <i class="fas fa-shield-alt"></i> Security
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('bank')">
                            <i class="fas fa-university"></i> Bank Details
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('preferences')">
                            <i class="fas fa-cog"></i> Preferences
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('kyc')">
                            <i class="fas fa-id-card"></i> KYC Verification
                        </a></li>
                        <li><a href="#" onclick="app.switchProfileTab('notifications')">
                            <i class="fas fa-bell"></i> Notifications
                        </a></li>
                    </ul>
                </div>
                <div class="profile-main">
                    <!-- Personal Information Tab -->
                    <div class="profile-section" id="personal-tab">
                        <h2>Personal Information</h2>
                        <form id="personal-form">
                            <div class="form-group">
                                <label for="profile-fullname">Full Name</label>
                                <input type="text" id="profile-fullname" class="form-control" value="John Doe">
                            </div>
                            <div class="form-group">
                                <label for="profile-email">Email Address</label>
                                <input type="email" id="profile-email" class="form-control" value="john.doe@example.com" readonly>
                            </div>
                            <div class="form-group">
                                <label for="profile-phone">Phone Number</label>
                                <input type="tel" id="profile-phone" class="form-control" value="+234 (0) 812 345 6789">
                            </div>
                            <div class="form-group">
                                <label for="profile-country">Country</label>
                                <select id="profile-country" class="form-control">
                                    <option value="ng">Nigeria</option>
                                    <option value="gh">Ghana</option>
                                    <option value="sa">South Africa</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Changes</button>
                        </form>
                    </div>

                    <!-- Security Tab -->
                    <div class="profile-section" id="security-tab" style="display: none;">
                        <h2>Security Settings</h2>
                        <div class="form-group">
                            <label>Two-Factor Authentication</label>
                            <div class="two-factor-setup">
                                <p>Enhance your account security with two-factor authentication.</p>
                                <div id="two-factor-status">
                                    <p>Status: <span id="2fa-status-text">Disabled</span></p>
                                </div>
                                <button class="btn btn-outline" id="enable-2fa-btn" onclick="app.enable2FA()">Enable 2FA</button>
                                <button class="btn btn-outline" id="disable-2fa-btn" style="display: none;" onclick="app.disable2FA()">Disable 2FA</button>
                            </div>
                        </div>
                        <form id="password-change-form">
                            <div class="form-group">
                                <label for="current-password">Current Password</label>
                                <input type="password" id="current-password" class="form-control" placeholder="Enter current password">
                            </div>
                            <div class="form-group">
                                <label for="new-password">New Password</label>
                                <input type="password" id="new-password" class="form-control" placeholder="Enter new password">
                            </div>
                            <div class="form-group">
                                <label for="confirm-new-password">Confirm New Password</label>
                                <input type="password" id="confirm-new-password" class="form-control" placeholder="Confirm new password">
                            </div>
                            <button type="submit" class="btn btn-primary">Change Password</button>
                        </form>
                    </div>

                    <!-- Bank Details Tab -->
                    <div class="profile-section" id="bank-tab" style="display: none;">
                        <h2>Bank Account Details</h2>
                        <form id="bank-form">
                            <div class="form-group">
                                <label for="bank-name">Bank Name</label>
                                <input type="text" id="bank-name" class="form-control" placeholder="Enter your bank name">
                            </div>
                            <div class="form-group">
                                <label for="account-name">Account Name</label>
                                <input type="text" id="account-name" class="form-control" placeholder="Enter account name">
                            </div>
                            <div class="form-group">
                                <label for="account-number">Account Number</label>
                                <input type="text" id="account-number" class="form-control" placeholder="Enter account number">
                            </div>
                            <button type="submit" class="btn btn-primary">Save Bank Details</button>
                        </form>
                    </div>

                    <!-- Preferences Tab -->
                    <div class="profile-section" id="preferences-tab" style="display: none;">
                        <h2>Account Preferences</h2>
                        <form id="preferences-form">
                            <div class="form-group">
                                <label for="currency">Default Currency</label>
                                <select id="currency" class="form-control">
                                    <option value="ngn">NGN ()</option>
                                    <option value="usd">USD ($)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="language">Language</label>
                                <select id="language" class="form-control">
                                    <option value="en">English</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="timezone">Timezone</label>
                                <select id="timezone" class="form-control">
                                    <option value="wast">West Africa Standard Time (WAT)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="risk-tolerance-pref">Risk Tolerance</label>
                                <select id="risk-tolerance-pref" class="form-control">
                                    <option value="low">Low (Conservative)</option>
                                    <option value="medium">Medium (Balanced)</option>
                                    <option value="high">High (Aggressive)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="investment-strategy-pref">Investment Strategy</label>
                                <select id="investment-strategy-pref" class="form-control">
                                    <option value="conservative">Conservative</option>
                                    <option value="balanced">Balanced</option>
                                    <option value="aggressive">Aggressive</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Preferences</button>
                        </form>
                    </div>

                    <!-- KYC Verification Tab -->
                    <div class="profile-section" id="kyc-tab" style="display: none;">
                        <h2>KYC Verification</h2>
                        <div id="kyc-status">
                            <p>Status: <span id="kyc-status-text" class="status-badge pending">Pending</span></p>
                        </div>
                        <form id="kyc-form">
                            <div class="form-group">
                                <label for="id-type">ID Type</label>
                                <select id="id-type" class="form-control" required>
                                    <option value="">Select ID Type</option>
                                    <option value="national_id">National ID</option>
                                    <option value="passport">Passport</option>
                                    <option value="driver_license">Driver's License</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="id-number">ID Number</label>
                                <input type="text" id="id-number" class="form-control" placeholder="Enter ID Number" required>
                            </div>
                            <div class="form-group">
                                <label>Upload ID Front</label>
                                <div class="file-upload-container" onclick="document.getElementById('id-front').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload ID front image</p>
                                    <input type="file" id="id-front" accept="image/*" style="display: none;" required>
                                </div>
                                <img id="id-front-preview" class="file-preview" src="" alt="ID front preview">
                            </div>
                            <div class="form-group">
                                <label>Upload ID Back</label>
                                <div class="file-upload-container" onclick="document.getElementById('id-back').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload ID back image</p>
                                    <input type="file" id="id-back" accept="image/*" style="display: none;" required>
                                </div>
                                <img id="id-back-preview" class="file-preview" src="" alt="ID back preview">
                            </div>
                            <div class="form-group">
                                <label>Upload Selfie with ID</label>
                                <div class="file-upload-container" onclick="document.getElementById('selfie-with-id').click()">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Click to upload selfie with ID</p>
                                    <input type="file" id="selfie-with-id" accept="image/*" style="display: none;" required>
                                </div>
                                <img id="selfie-with-id-preview" class="file-preview" src="" alt="Selfie with ID preview">
                            </div>
                            <button type="submit" class="btn btn-primary" id="kyc-submit-btn">Submit KYC Application</button>
                        </form>
                    </div>
                    
                    <!-- Notifications Tab -->
                    <div class="profile-section" id="notifications-tab" style="display: none;">
                        <h2>Notification Settings</h2>
                        <form id="notifications-form">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="email-notifications" checked>
                                    Email Notifications
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="sms-notifications" checked>
                                    SMS Notifications
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="investment-alerts" checked>
                                    Investment Alerts
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="withdrawal-alerts" checked>
                                    Withdrawal Alerts
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="promotional-emails">
                                    Promotional Emails
                                </label>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Notification Settings</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Referral Page -->
    <div id="referral-page" class="referral-page" style="display: none;">
        <div class="referral-container">
            <div class="referral-header">
                <h1>Referral Program</h1>
                <p>Earn more by inviting friends to join Raw Wealthy</p>
            </div>
            <div class="referral-content">
                <div class="referral-stats">
                    <h2>Your Referral Stats</h2>
                    <div class="referral-stat">
                        <span>Total Referrals</span>
                        <span id="total-referrals">0</span>
                    </div>
                    <div class="referral-stat">
                        <span>Active Referrals</span>
                        <span id="active-referrals">0</span>
                    </div>
                    <div class="referral-stat">
                        <span>Total Earnings</span>
                        <span style="color: var(--accent-gold);" id="total-referral-earnings">0.00</span>
                    </div>
                    <div class="referral-stat">
                        <span>Pending Earnings</span>
                        <span style="color: var(--warning);" id="pending-referral-earnings">0.00</span>
                    </div>
                    <div class="referral-stat">
                        <span>Today's Earnings</span>
                        <span style="color: var(--success);" id="today-referral-earnings">0.00</span>
                    </div>
                </div>
                <div class="referral-links">
                    <h2>Your Referral Link</h2>
                    <div class="form-group">
                        <label>Share this link with friends</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="referral-link" class="form-control" value="" readonly>
                            <button class="btn btn-primary" onclick="app.copyReferralLink()">Copy</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Your Referral Code</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="referral-code" class="form-control" value="" readonly>
                            <button class="btn btn-primary" onclick="app.copyReferralCode()">Copy</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Share on Social Media</label>
                        <div class="social-links">
                            <a href="#" onclick="app.shareOnFacebook()"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" onclick="app.shareOnTwitter()"><i class="fab fa-twitter"></i></a>
                            <a href="#" onclick="app.shareOnWhatsApp()"><i class="fab fa-whatsapp"></i></a>
                            <a href="#" onclick="app.shareOnTelegram()"><i class="fab fa-telegram"></i></a>
                        </div>
                    </div>
                    <div style="margin-top: 1.5rem;">
                        <h3>How it works:</h3>
                        <ul style="padding-left: 1.2rem; margin-top: 0.5rem;">
                            <li>Share your referral link with friends</li>
                            <li>When they sign up and invest, you earn 15% of their first investment</li>
                            <li>No limit on how much you can earn</li>
                            <li>Earnings are credited after their investment is approved</li>
                            <li>Track your referrals in real-time</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Support Page -->
    <div id="support-page" class="support-page" style="display: none;">
        <div class="support-container">
            <div class="support-header">
                <h1>Help & Support</h1>
                <p>We're here to help you with any questions or issues</p>
            </div>
            <div class="support-content">
                <div class="support-categories">
                    <div class="support-category active" onclick="app.switchSupportCategory('faq')">
                        <i class="fas fa-question-circle"></i> FAQ
                    </div>
                    <div class="support-category" onclick="app.switchSupportCategory('contact')">
                        <i class="fas fa-envelope"></i> Contact Us
                    </div>
                    <div class="support-category" onclick="app.switchSupportCategory('tickets')">
                        <i class="fas fa-ticket-alt"></i> My Tickets
                    </div>
                </div>
                <div class="support-main">
                    <!-- FAQ Category -->
                    <div id="faq-category">
                        <h2>Frequently Asked Questions</h2>
                        <div class="faq-item active">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                How do I start investing? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>To start investing, simply register for an account, verify your identity, choose an investment plan that suits your goals, and make your first deposit. The process takes less than 10 minutes.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                When will I receive my returns? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Returns are calculated daily and credited to your account at the end of each business day. You can withdraw your earnings or reinvest them for compound growth.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                What is the minimum investment? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>The minimum investment is 3,500 for most of our plans. We offer tiered plans to accommodate different investment levels and goals.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                How secure is my investment? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>We employ bank-level security measures including SSL encryption, two-factor authentication, and segregated client accounts. Your investments are protected by our comprehensive security protocols.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="app.toggleFaq(this)">
                                Are there any withdrawal fees? <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Yes, we charge a 5% platform fee on all withdrawals to cover transaction costs and platform maintenance. This fee is automatically deducted from your withdrawal amount.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Category -->
                    <div id="contact-category" style="display: none;">
                        <h2>Contact Our Support Team</h2>
                        <form id="support-form">
                            <div class="form-group">
                                <label for="support-subject">Subject</label>
                                <input type="text" id="support-subject" class="form-control" placeholder="Enter subject" required>
                            </div>
                            <div class="form-group">
                                <label for="support-category">Category</label>
                                <select id="support-category" class="form-control" required>
                                    <option value="general">General Inquiry</option>
                                    <option value="technical">Technical Issue</option>
                                    <option value="investment">Investment Related</option>
                                    <option value="withdrawal">Withdrawal Issue</option>
                                    <option value="deposit">Deposit Issue</option>
                                    <option value="kyc">KYC Verification</option>
                                    <option value="account">Account Issue</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="support-message">Message</label>
                                <textarea id="support-message" class="form-control" rows="5" placeholder="Describe your issue" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Send Message</button>
                        </form>
                        <div style="margin-top: 1.5rem; text-align: center;">
                            <p>Or contact us directly:</p>
                            <p><i class="fas fa-envelope"></i> support@rawwealthy.com</p>
                            <p><i class="fas fa-phone"></i> +234 (0) 812 345 6789</p>
                        </div>
                    </div>
                    
                    <!-- Tickets Category -->
                    <div id="tickets-category" style="display: none;">
                        <h2>My Support Tickets</h2>
                        <div id="support-tickets-list">
                            <p style="text-align: center; color: var(--text-muted); padding: 2rem;">
                                No support tickets found
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Page -->
    <div id="admin-page" class="admin-page" style="display: none;">
        <div class="admin-container">
            <div class="admin-header">
                <h1>Admin Dashboard</h1>
                <button class="btn btn-outline" onclick="app.logout()">Logout</button>
            </div>
            <div class="admin-content">
                <div class="admin-sidebar">
                    <ul class="admin-nav">
                        <li><a href="#" class="active" onclick="app.switchAdminTab('overview')">
                            <i class="fas fa-tachometer-alt"></i> Overview
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('users')">
                            <i class="fas fa-users"></i> Users
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('investments')">
                            <i class="fas fa-chart-line"></i> Investments
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('deposits')">
                            <i class="fas fa-wallet"></i> Deposits
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('withdrawals')">
                            <i class="fas fa-money-bill-wave"></i> Withdrawals
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('kyc')">
                            <i class="fas fa-id-card"></i> KYC Verification
                        </a></li>
                        <li><a href="#" onclick="app.switchAdminTab('settings')">
                            <i class="fas fa-cogs"></i> Settings
                        </a></li>
                    </ul>
                </div>
                <div class="admin-main">
                    <!-- Overview Tab -->
                    <div id="overview-tab">
                        <h2>Platform Overview</h2>
                        <div class="admin-stats">
                            <div class="admin-stat">
                                <span class="value" id="admin-total-users">0</span>
                                <span class="label">Total Users</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-total-invested">0</span>
                                <span class="label">Total Invested</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-total-withdrawn">0</span>
                                <span class="label">Total Withdrawn</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-pending-requests">0</span>
                                <span class="label">Pending Requests</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-platform-earnings">0</span>
                                <span class="label">Platform Earnings</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-active-investments">0</span>
                                <span class="label">Active Investments</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-today-deposits">0</span>
                                <span class="label">Today's Deposits</span>
                            </div>
                            <div class="admin-stat">
                                <span class="value" id="admin-today-withdrawals">0</span>
                                <span class="label">Today's Withdrawals</span>
                            </div>
                        </div>

                        <div class="chart-container">
                            <h3>Platform Growth</h3>
                            <canvas id="platform-growth-chart"></canvas>
                        </div>
                        
                        <div class="chart-container">
                            <h3>Revenue Overview</h3>
                            <canvas id="revenue-chart"></canvas>
                        </div>
                    </div>

                    <!-- Users Tab -->
                    <div id="users-tab" style="display: none;">
                        <h2>User Management</h2>
                        <div style="margin-bottom: 1rem; display: flex; gap: 1rem;">
                            <input type="text" class="form-control" placeholder="Search users..." id="user-search" style="width: 300px;">
                            <button class="btn btn-primary" onclick="app.exportUsers()">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Joined</th>
                                    <th>Status</th>
                                    <th>Balance</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-users-table">
                                <!-- Users will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Investments Tab -->
                    <div id="investments-tab" style="display: none;">
                        <h2>Investment Requests</h2>
                        <div style="margin-bottom: 1rem;">
                            <select class="filter-select" id="investment-filter" onchange="app.filterInvestments()">
                                <option value="all">All Investments</option>
                                <option value="pending">Pending</option>
                                <option value="active">Active</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Plan</th>
                                    <th>Amount</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-investments-table">
                                <!-- Investment requests will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Deposits Tab -->
                    <div id="deposits-tab" style="display: none;">
                        <h2>Deposit Requests</h2>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Amount</th>
                                    <th>Method</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-deposits-table">
                                <!-- Deposit requests will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Withdrawals Tab -->
                    <div id="withdrawals-tab" style="display: none;">
                        <h2>Withdrawal Requests</h2>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Amount</th>
                                    <th>Fee</th>
                                    <th>Net Amount</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-withdrawals-table">
                                <!-- Withdrawal requests will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- KYC Tab -->
                    <div id="kyc-tab" style="display: none;">
                        <h2>KYC Verification Requests</h2>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>ID Type</th>
                                    <th>Submitted</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-kyc-table">
                                <!-- KYC requests will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Settings Tab -->
                    <div id="settings-tab" style="display: none;">
                        <h2>Platform Settings</h2>
                        <form id="admin-settings-form">
                            <div class="form-group">
                                <label for="platform-name">Platform Name</label>
                                <input type="text" id="platform-name" class="form-control" value="Raw Wealthy">
                            </div>
                            <div class="form-group">
                                <label for="welcome-bonus">Welcome Bonus ()</label>
                                <input type="number" id="welcome-bonus" class="form-control" value="10000">
                            </div>
                            <div class="form-group">
                                <label for="referral-commission">Referral Commission (%)</label>
                                <input type="number" id="referral-commission" class="form-control" value="15">
                            </div>
                            <div class="form-group">
                                <label for="withdrawal-fee">Withdrawal Fee (%)</label>
                                <input type="number" id="withdrawal-fee" class="form-control" value="5">
                            </div>
                            <div class="form-group">
                                <label for="min-investment">Minimum Investment ()</label>
                                <input type="number" id="min-investment" class="form-control" value="3500">
                            </div>
                            <div class="form-group">
                                <label for="min-withdrawal">Minimum Withdrawal ()</label>
                                <input type="number" id="min-withdrawal" class="form-control" value="1000">
                            </div>
                            <button type="submit" class="btn btn-primary">Save Settings</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Modal -->
    <div id="invest-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Make Investment</h2>
                <button class="close-modal" onclick="app.closeModal('invest-modal')">&times;</button>
            </div>
            <form id="invest-form">
                <div class="form-group">
                    <label for="investment-plan">Select Raw Material</label>
                    <select id="investment-plan" class="form-control" required>
                        <option value="">Choose a raw material</option>
                        <!-- Options will be dynamically loaded -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="investment-amount">Investment Amount ()</label>
                    <input type="number" id="investment-amount" class="form-control" placeholder="Enter amount" min="3500" required>
                </div>
                <div class="form-group">
                    <label>Auto Renew Investment</label>
                    <div style="margin-top: 10px;">
                        <input type="checkbox" id="auto-renew" style="margin-right: 8px;">
                        <label for="auto-renew">Automatically reinvest earnings when investment completes</label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Upload Payment Proof (Required)</label>
                    <div class="file-upload-container" onclick="document.getElementById('investment-proof').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload payment screenshot</p>
                        <input type="file" id="investment-proof" accept="image/*" style="display: none;" required>
                    </div>
                    <img id="investment-preview" class="file-preview" src="" alt="Investment proof preview">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="invest-submit-btn">
                    <span class="btn-text">Submit Investment</span>
                    <div class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Deposit Modal -->
    <div id="deposit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Deposit Funds</h2>
                <button class="close-modal" onclick="app.closeModal('deposit-modal')">&times;</button>
            </div>
            <form id="deposit-form">
                <div class="form-group">
                    <label for="deposit-amount">Amount to Deposit ()</label>
                    <input type="number" id="deposit-amount" class="form-control" placeholder="Enter amount" min="1000" required>
                </div>
                <div class="form-group">
                    <label for="deposit-method">Payment Method</label>
                    <select id="deposit-method" class="form-control" required>
                        <option value="">Select payment method</option>
                        <option value="bank_transfer">Bank Transfer</option>
                        <option value="card">Credit/Debit Card</option>
                        <option value="crypto">Cryptocurrency</option>
                        <option value="ussd">USSD</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Bank Account Details</label>
                    <div style="background: var(--secondary); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        <p><strong>Bank:</strong> Raw Wealthy Investment Bank</p>
                        <p><strong>Account Name:</strong> Raw Wealthy Investment Ltd</p>
                        <p><strong>Account Number:</strong> 1234567890</p>
                        <p><strong>Sort Code:</strong> 123456</p>
                    </div>
                </div>
                <div class="form-group">
                    <label>Upload Payment Proof</label>
                    <div class="file-upload-container" onclick="document.getElementById('deposit-proof').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Click to upload payment proof</p>
                        <input type="file" id="deposit-proof" accept="image/*" style="display: none;" required>
                    </div>
                    <img id="deposit-preview" class="file-preview" src="" alt="Deposit proof preview">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="deposit-submit-btn">
                    <span class="btn-text">Submit Deposit Request</span>
                    <div class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div id="withdraw-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Withdraw Funds</h2>
                <button class="close-modal" onclick="app.closeModal('withdraw-modal')">&times;</button>
            </div>
            <form id="withdraw-form">
                <div class="withdrawal-fee-notice">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>A 5% withdrawal fee will be deducted from your withdrawal amount.</span>
                </div>
                <div class="form-group">
                    <label for="withdraw-amount">Amount to Withdraw ()</label>
                    <input type="number" id="withdraw-amount" class="form-control" placeholder="Enter amount" min="1000" required>
                    <small style="color: var(--text-muted);">Minimum withdrawal: 1,000</small>
                </div>
                <div class="form-group">
                    <label for="withdraw-method">Withdrawal Method</label>
                    <select id="withdraw-method" class="form-control" required>
                        <option value="">Select withdrawal method</option>
                        <option value="bank_transfer">Bank Transfer</option>
                        <option value="crypto">Cryptocurrency</option>
                        <option value="mobile_money">Mobile Money</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="withdraw-account">Bank Account Details</label>
                    <div style="background: var(--secondary); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        <p id="withdraw-account-info">No bank account saved. Please update your profile.</p>
                    </div>
                </div>
                <div class="form-group">
                    <label>Withdrawal Details</label>
                    <div style="background: var(--secondary); padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        <p><strong>Requested Amount:</strong> <span id="requested-amount">0.00</span></p>
                        <p><strong>Withdrawal Fee (5%):</strong> <span id="withdrawal-fee-amount">0.00</span></p>
                        <p><strong>You Will Receive:</strong> <span id="net-amount" style="color: var(--accent-gold); font-weight: 600;">0.00</span></p>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="withdraw-submit-btn">
                    <span class="btn-text">Submit Withdrawal Request</span>
                    <div class="btn-loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </form>
        </div>
    </div>

    <!-- Calculator Modal -->
    <div id="calculator-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Investment Calculator</h2>
                <button class="close-modal" onclick="app.closeModal('calculator-modal')">&times;</button>
            </div>
            <div class="calculator-container">
                <div class="form-group">
                    <label for="calc-investment-amount">Investment Amount ()</label>
                    <input type="number" id="calc-investment-amount" class="form-control" value="3500" min="3500" step="500">
                </div>
                <div class="form-group">
                    <label for="calc-plan">Investment Plan</label>
                    <select id="calc-plan" class="form-control">
                        <option value="cocoa">Cocoa Beans (2.5% daily)</option>
                        <option value="gold">Gold (3.2% daily)</option>
                        <option value="silver">Silver (4.5% daily)</option>
                        <option value="diamond">Diamond (6.8% daily)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="calc-duration">Investment Duration (days)</label>
                    <input type="range" id="calc-duration" class="form-control" min="30" max="365" value="90">
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                        <span>30 days</span>
                        <span id="calc-duration-value">90 days</span>
                        <span>365 days</span>
                    </div>
                </div>
                <div class="calculator-result">
                    <h3>Investment Projection</h3>
                    <div class="value" id="calc-total-return">0.00</div>
                    <p>Total Return after <span id="calc-duration-display">90</span> days</p>
                    <div style="margin-top: 1rem; text-align: left;">
                        <p><strong>Daily Earnings:</strong> <span id="calc-daily-earnings">0.00</span></p>
                        <p><strong>Monthly Earnings:</strong> <span id="calc-monthly-earnings">0.00</span></p>
                        <p><strong>Total Profit:</strong> <span id="calc-total-profit">0.00</span></p>
                        <p><strong>ROI:</strong> <span id="calc-roi">0%</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Reset Modal -->
    <div id="password-reset-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Reset Password</h2>
                <button class="close-modal" onclick="app.closeModal('password-reset-modal')">&times;</button>
            </div>
            <div class="password-reset-steps">
                <div class="password-reset-step active">
                    <div class="password-reset-step-number">1</div>
                    <div class="password-reset-step-label">Email</div>
                </div>
                <div class="password-reset-step">
                    <div class="password-reset-step-number">2</div>
                    <div class="password-reset-step-label">Code</div>
                </div>
                <div class="password-reset-step">
                    <div class="password-reset-step-number">3</div>
                    <div class="password-reset-step-label">New Password</div>
                </div>
            </div>
            <form id="password-reset-form">
                <div id="password-reset-step-1">
                    <div class="form-group">
                        <label for="reset-email">Enter your email address</label>
                        <input type="email" id="reset-email" class="form-control" placeholder="Your registered email" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="reset-send-btn">
                        <span class="btn-text">Send Reset Code</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </div>
                <div id="password-reset-step-2" style="display: none;">
                    <div class="form-group">
                        <label for="reset-code">Enter the 6-digit code sent to your email</label>
                        <input type="text" id="reset-code" class="form-control" placeholder="Enter code" maxlength="6" required>
                    </div>
                    <button type="button" class="btn btn-outline" style="width: 100%; margin-bottom: 1rem;" onclick="app.resendResetCode()">
                        Resend Code
                    </button>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="reset-verify-btn">
                        <span class="btn-text">Verify Code</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </div>
                <div id="password-reset-step-3" style="display: none;">
                    <div class="form-group">
                        <label for="new-reset-password">New Password</label>
                        <input type="password" id="new-reset-password" class="form-control" placeholder="Enter new password" required>
                    </div>
                    <div class="form-group">
                        <label for="confirm-reset-password">Confirm New Password</label>
                        <input type="password" id="confirm-reset-password" class="form-control" placeholder="Confirm new password" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="reset-change-btn">
                        <span class="btn-text">Change Password</span>
                        <div class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
        <i class="fas fa-chevron-up"></i>
    </div><script>// ==================== RAW WEALTHY INVESTMENT PLATFORM v50.0 ====================
// Enhanced with AI-powered features, advanced analytics, and real-time updates

const app = {
    // ==================== CONFIGURATION ====================
    
    API_BASE_URL: 'https://real-wealthy-03bf.onrender.com/api',
    // Make sure it's EXACTLY this
        }
        
        // Platform configuration (must match backend)
        VERSION: '50.0.0',
        ENVIRONMENT: window.location.hostname === 'localhost' ? 'development' : 'production',
        MIN_INVESTMENT: 3500,
        MIN_DEPOSIT: 3500,
        MIN_WITHDRAWAL: 3500,
        PLATFORM_FEE_PERCENT: 10,
        REFERRAL_COMMISSION_PERCENT: 10,
        WELCOME_BONUS: 100,
        SESSION_TIMEOUT: 30 * 60 * 1000,
        RETRY_ATTEMPTS: 3,
        RETRY_DELAY: 1000,
        CACHE_DURATION: 5 * 60 * 1000,
        AUTO_REFRESH_INTERVAL: 30 * 1000,
        FILE_SIZE_LIMIT: 10 * 1024 * 1024,
        
        // AI Configuration
        AI_RECOMMENDATIONS_ENABLED: true,
        SMART_INVESTING_ENABLED: true,
        PREDICTION_ACCURACY: 85,
        
        // Real-time features
        LIVE_UPDATES_ENABLED: true,
        NOTIFICATION_INTERVAL: 60 * 1000,
        
        // Security
        AUTO_LOGOUT_ENABLED: true,
        PASSWORD_STRENGTH_REQUIRED: true,
        TWO_FACTOR_ENABLED: true
    },

    // ==================== GLOBAL STATE ====================
    state: {
        // User state
        currentUser: null,
        token: localStorage.getItem('raw_wealthy_token'),
        isAdmin: false,
        isAuthenticated: false,
        lastActivity: Date.now(),
        
        // Data state
        investmentPlans: [],
        notifications: [],
        marketData: null,
        
        // Dashboard state
        userStats: {
            totalBalance: 0,
            activeInvestments: 0,
            totalEarnings: 0,
            referralEarnings: 0,
            todaysEarnings: 0,
            pendingWithdrawals: 0,
            roiPercentage: 0,
            portfolioDiversification: {}
        },
        
        // UI state
        charts: {},
        activePage: 'home',
        theme: localStorage.getItem('theme') || 'dark',
        mobileMenuOpen: false,
        
        // Performance tracking
        performanceMetrics: {
            apiResponseTimes: {},
            pageLoadTimes: {},
            userActions: []
        },
        
        // Cache system
        dashboardCache: null,
        cacheTimestamp: null,
        
        // Real-time updates
        liveUpdates: {
            enabled: true,
            interval: null,
            lastUpdate: null
        },
        
        // AI features
        aiInsights: {
            recommendations: [],
            predictions: [],
            riskAssessment: null
        },
        
        // Network state
        networkOnline: navigator.onLine,
        retryCount: 0,
        
        // Debug mode
        debugMode: false
    },

    // ==================== INITIALIZATION ====================
    init() {
        console.log(` Raw Wealthy v${this.config.VERSION} Initializing...`);
        console.log(` Environment: ${this.config.ENVIRONMENT}`);
        console.log(` Backend URL: ${this.config.API_BASE_URL}`);
        
        // Initialize core systems
        this.initTheme();
        this.setupEventListeners();
        this.initSessionMonitor();
        this.initNetworkMonitor();
        this.initPerformanceTracker();
        
        // Check authentication
        this.checkAuthentication();
        
        // Load initial data
        this.loadInvestmentPlans();
        this.loadMarketData();
        this.initRealTimeUpdates();
        
        // Setup AI features
        if (this.config.AI_RECOMMENDATIONS_ENABLED) {
            this.initAIFeatures();
        }
        
        // Setup notifications
        this.initNotifications();
        
        // Initialize animations
        this.initAnimations();
        
        // Check URL parameters
        this.checkReferralFromURL();
        this.checkSessionRestore();
        
        // Show welcome message
        this.showWelcomeMessage();
        
        console.log(' Application initialized successfully');
    },

    // ==================== EVENT LISTENERS SETUP ====================
    setupEventListeners() {
        console.log(' Setting up event listeners...');
        
        // Theme toggle
        document.getElementById('theme-toggle').addEventListener('click', () => this.toggleTheme());
        
        // Mobile menu
        document.getElementById('hamburger').addEventListener('click', () => this.toggleMobileMenu());
        document.getElementById('close-mobile-menu').addEventListener('click', () => this.closeMobileMenu());
        document.getElementById('mobile-menu-overlay').addEventListener('click', () => this.closeMobileMenu());
        
        // Navigation
        this.setupNavigationListeners();
        
        // Form submissions
        this.setupFormListeners();
        
        // Modals
        this.setupModalListeners();
        
        // File uploads
        this.initFileUploadPreviews();
        
        // Password toggles
        this.initPasswordToggles();
        
        // Back to top
        document.getElementById('back-to-top').addEventListener('click', () => this.scrollToTop());
        
        // Scroll events
        window.addEventListener('scroll', () => this.handleScroll());
        
        // Window events
        window.addEventListener('resize', () => this.handleResize());
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => this.handleKeyboardShortcuts(e));
        
        // Click outside modals
        document.addEventListener('click', (e) => this.handleOutsideClick(e));
        
        // Form validation
        this.initFormValidation();
        
        // Real-time updates
        this.initRealTimeListeners();
        
        console.log(' Event listeners setup complete');
    },

    setupNavigationListeners() {
        // Home page navigation
        document.querySelectorAll('[onclick*="showPage(\'home\')"]').forEach(link => {
            link.addEventListener('click', (e) => {
                if (link.getAttribute('href') === '#') e.preventDefault();
                this.showPage('home');
            });
        });
        
        // Registration
        document.querySelectorAll('[onclick*="showPage(\'register\')"]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                this.showPage('register');
            });
        });
        
        // Login
        document.querySelectorAll('[onclick*="showPage(\'login\')"]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                this.showPage('login');
            });
        });
        
        // Dashboard
        document.querySelectorAll('[onclick*="showPage(\'dashboard\')"]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                this.showPage('dashboard');
            });
        });
        
        // Investment Plans
        document.querySelectorAll('[onclick*="showPage(\'investment-plans\')"]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                this.showPage('investment-plans');
            });
        });
        
        // Other pages...
        const pages = ['profile', 'referral', 'support', 'admin'];
        pages.forEach(page => {
            document.querySelectorAll(`[onclick*="showPage('${page}')"]`).forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.showPage(page);
                });
            });
        });
    },

    setupFormListeners() {
        // Registration form
        const regForm = document.getElementById('registration-form');
        if (regForm) {
            regForm.addEventListener('submit', (e) => this.handleRegistration(e));
        }
        
        // Login form
        const loginForm = document.getElementById('login-form');
        if (loginForm) {
            loginForm.addEventListener('submit', (e) => this.handleLogin(e));
        }
        
        // Investment form
        const investForm = document.getElementById('invest-form');
        if (investForm) {
            investForm.addEventListener('submit', (e) => this.handleInvestment(e));
        }
        
        // Deposit form
        const depositForm = document.getElementById('deposit-form');
        if (depositForm) {
            depositForm.addEventListener('submit', (e) => this.handleDeposit(e));
        }
        
        // Withdrawal form
        const withdrawForm = document.getElementById('withdraw-form');
        if (withdrawForm) {
            withdrawForm.addEventListener('submit', (e) => this.handleWithdrawal(e));
        }
        
        // Profile forms
        const profileForms = ['personal-form', 'bank-form', 'kyc-form', 'password-change-form'];
        profileForms.forEach(formId => {
            const form = document.getElementById(formId);
            if (form) {
                form.addEventListener('submit', (e) => this.handleProfileUpdate(e));
            }
        });
        
        // Support form
        const supportForm = document.getElementById('support-form');
        if (supportForm) {
            supportForm.addEventListener('submit', (e) => this.handleSupportRequest(e));
        }
        
        // Admin forms
        const adminForms = ['admin-settings-form'];
        adminForms.forEach(formId => {
            const form = document.getElementById(formId);
            if (form) {
                form.addEventListener('submit', (e) => this.handleAdminUpdate(e));
            }
        });
    },

    setupModalListeners() {
        // Modal close buttons
        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', function() {
                const modal = this.closest('.modal');
                if (modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        });
        
        // Modal open buttons
        const modals = ['invest-modal', 'deposit-modal', 'withdraw-modal', 'calculator-modal', 'password-reset-modal'];
        modals.forEach(modalId => {
            const trigger = document.querySelector(`[onclick*="openModal('${modalId}')"]`);
            if (trigger) {
                trigger.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.openModal(modalId);
                });
            }
        });
    },

    // ==================== AUTHENTICATION SYSTEM ====================
    checkAuthentication() {
        console.log(' Checking authentication...');
        
        if (this.state.token) {
            this.verifyToken();
        } else {
            this.showPage('home');
        }
    },

    async verifyToken() {
        try {
            const response = await this.apiRequest('/profile');
            
            if (response.success) {
                this.state.currentUser = response.data.user;
                this.state.isAdmin = ['admin', 'super_admin'].includes(this.state.currentUser.role);
                this.state.isAuthenticated = true;
                
                // Update UI
                this.updateUserUI();
                
                // Redirect based on role
                if (this.state.isAdmin) {
                    this.showPage('admin');
                } else {
                    this.showPage('dashboard');
                }
                
                // Start real-time updates
                this.startRealTimeUpdates();
                
                this.showToast('Welcome back!', 'success');
            } else {
                this.logout();
            }
        } catch (error) {
            console.error('Token verification failed:', error);
            this.logout();
        }
    },

    async handleRegistration(e) {
        e.preventDefault();
        console.log(' Processing registration...');
        
        const form = e.target;
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());
        
        // Validation
        if (!this.validateRegistration(data)) {
            return;
        }
        
        this.setLoadingState('register-btn', true);
        
        try {
            const response = await this.apiRequest('/auth/register', {
                method: 'POST',
                body: data
            });
            
            if (response.success) {
                // Store token and user data
                this.state.token = response.data.token;
                this.state.currentUser = response.data.user;
                localStorage.setItem('raw_wealthy_token', response.data.token);
                
                // Show success
                this.showToast('Registration successful! Welcome to Raw Wealthy.', 'success');
                this.setLoadingState('register-btn', false);
                
                // Redirect to dashboard
                setTimeout(() => {
                    this.showPage('dashboard');
                    this.updateDashboard();
                }, 1500);
            }
        } catch (error) {
            console.error('Registration failed:', error);
            this.setLoadingState('register-btn', false);
        }
    },

    async handleLogin(e) {
        e.preventDefault();
        console.log(' Processing login...');
        
        const form = e.target;
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());
        
        // Basic validation
        if (!data.email || !data.password) {
            this.showToast('Please fill in all fields', 'error');
            return;
        }
        
        this.setLoadingState('login-btn', true);
        
        try {
            const response = await this.apiRequest('/auth/login', {
                method: 'POST',
                body: data
            });
            
            if (response.success) {
                // Store token and user data
                this.state.token = response.data.token;
                this.state.currentUser = response.data.user;
                this.state.isAdmin = ['admin', 'super_admin'].includes(this.state.currentUser.role);
                localStorage.setItem('raw_wealthy_token', response.data.token);
                
                // Show success
                this.showToast('Login successful!', 'success');
                this.setLoadingState('login-btn', false);
                
                // Redirect based on role
                setTimeout(() => {
                    if (this.state.isAdmin) {
                        this.showPage('admin');
                    } else {
                        this.showPage('dashboard');
                    }
                    this.updateDashboard();
                }, 1000);
            }
        } catch (error) {
            console.error('Login failed:', error);
            this.setLoadingState('login-btn', false);
        }
    },

    logout() {
        console.log(' Logging out...');
        
        // Clear state
        this.state.currentUser = null;
        this.state.token = null;
        this.state.isAdmin = false;
        this.state.isAuthenticated = false;
        
        // Clear storage
        localStorage.removeItem('raw_wealthy_token');
        localStorage.removeItem('dashboard_cache');
        
        // Stop real-time updates
        this.stopRealTimeUpdates();
        
        // Reset UI
        this.showPage('home');
        
        // Show logout message
        this.showToast('You have been logged out successfully.', 'info');
    },

    // ==================== DASHBOARD SYSTEM ====================
    async updateDashboard() {
        if (!this.state.isAuthenticated) return;
        
        console.group(' Updating Dashboard');
        
        try {
            // Check cache first
            if (this.loadCachedDashboard()) {
                console.log(' Loaded from cache');
            }
            
            // Fetch all data in parallel
            const [profile, investments, transactions, referrals] = await Promise.all([
                this.apiRequest('/profile').catch(() => ({ data: { user: this.state.currentUser } })),
                this.apiRequest('/investments?status=active').catch(() => ({ data: { investments: [] } })),
                this.apiRequest('/transactions?limit=50').catch(() => ({ data: { transactions: [] } })),
                this.apiRequest('/referrals/stats').catch(() => ({ data: { stats: {} } }))
            ]);
            
            // Process data
            const processedData = this.processDashboardData(
                profile.data.user,
                investments.data.investments,
                transactions.data.transactions,
                referrals.data.stats
            );
            
            // Update UI
            this.updateDashboardUI(processedData);
            
            // Update state
            this.state.userStats = processedData;
            this.state.currentUser = {
                ...this.state.currentUser,
                ...profile.data.user,
                balance: processedData.totalBalance,
                total_earnings: processedData.totalEarnings
            };
            
            // Cache data
            this.cacheDashboardData(processedData);
            
            // Generate AI insights
            if (this.config.AI_RECOMMENDATIONS_ENABLED) {
                this.generateAIInsights(processedData);
            }
            
            console.log(' Dashboard updated successfully');
            
        } catch (error) {
            console.error(' Dashboard update failed:', error);
            this.loadCachedDashboard();
        }
        
        console.groupEnd();
    },

    processDashboardData(user, investments, transactions, referralStats) {
        console.log(' Processing dashboard data...');
        
        // Calculate total balance
        const totalBalance = this.calculateTotalBalance(user, transactions);
        
        // Calculate active investments
        const activeInvestments = this.calculateActiveInvestments(investments);
        
        // Calculate total earnings
        const totalEarnings = this.calculateTotalEarnings(transactions);
        
        // Calculate today's earnings
        const todaysEarnings = this.calculateTodaysEarnings(investments);
        
        // Calculate referral earnings
        const referralEarnings = this.calculateReferralEarnings(transactions, referralStats);
        
        // Calculate ROI
        const roiPercentage = this.calculateROI(investments, totalEarnings);
        
        // Calculate portfolio diversification
        const portfolioDiversification = this.calculatePortfolioDiversification(investments);
        
        return {
            totalBalance,
            activeInvestments,
            totalEarnings,
            todaysEarnings,
            referralEarnings,
            roiPercentage,
            portfolioDiversification,
            pendingWithdrawals: this.calculatePendingWithdrawals(transactions),
            lastUpdated: new Date().toISOString(),
            metrics: {
                totalInvestments: investments.length,
                successfulTransactions: transactions.filter(t => t.status === 'completed').length,
                averageDailyReturn: this.calculateAverageDailyReturn(investments),
                successRate: this.calculateSuccessRate(transactions)
            }
        };
    },

    calculateTotalBalance(user, transactions) {
        let balance = parseFloat(user.balance) || 0;
        
        // Validate balance
        if (balance < 0) {
            console.warn(' Negative balance detected, resetting to 0');
            balance = 0;
        }
        
        // Add transaction-based validation
        const transactionSum = transactions.reduce((sum, txn) => {
            const amount = parseFloat(txn.amount) || 0;
            
            switch(txn.type) {
                case 'deposit':
                case 'earning':
                case 'interest':
                case 'bonus':
                    return sum + amount;
                case 'withdrawal':
                case 'investment':
                case 'fee':
                    return sum - amount;
                default:
                    return sum;
            }
        }, 0);
        
        // Use weighted average for reliability
        const validatedBalance = (balance + transactionSum) / 2;
        
        return Math.max(0, validatedBalance);
    },

    calculateActiveInvestments(investments) {
        return investments.reduce((total, inv) => {
            if (inv.status === 'active') {
                return total + (parseFloat(inv.amount) || 0);
            }
            return total;
        }, 0);
    },

    calculateTotalEarnings(transactions) {
        return transactions.reduce((total, txn) => {
            if (['earning', 'interest', 'profit', 'dividend', 'bonus'].includes(txn.type)) {
                return total + (parseFloat(txn.amount) || 0);
            }
            return total;
        }, 0);
    },

    calculateTodaysEarnings(investments) {
        const today = new Date().toDateString();
        return investments.reduce((total, inv) => {
            if (inv.status === 'active' && inv.daily_interest) {
                const dailyRate = parseFloat(inv.daily_interest) || 0;
                const amount = parseFloat(inv.amount) || 0;
                const dailyEarning = (amount * dailyRate) / 100;
                
                // Pro-rate for today's investments
                if (inv.start_date) {
                    const startDate = new Date(inv.start_date);
                    if (startDate.toDateString() === today) {
                        const hoursSinceStart = (Date.now() - startDate) / (1000 * 60 * 60);
                        return total + (dailyEarning * (hoursSinceStart / 24));
                    }
                }
                
                return total + dailyEarning;
            }
            return total;
        }, 0);
    },

    calculateROI(investments, totalEarnings) {
        const totalInvested = investments.reduce((total, inv) => {
            return total + (parseFloat(inv.amount) || 0);
        }, 0);
        
        if (totalInvested === 0) return 0;
        
        return ((totalEarnings / totalInvested) * 100).toFixed(2);
    },

    calculatePortfolioDiversification(investments) {
        const diversification = {};
        
        investments.forEach(inv => {
            const planName = inv.plan?.name || 'Unknown';
            const amount = parseFloat(inv.amount) || 0;
            
            if (!diversification[planName]) {
                diversification[planName] = 0;
            }
            
            diversification[planName] += amount;
        });
        
        return diversification;
    },

    updateDashboardUI(data) {
        console.log(' Updating dashboard UI...');
        
        // Update main stats with animation
        this.updateStatWithAnimation('total-balance', data.totalBalance, '');
        this.updateStatWithAnimation('active-investments', data.activeInvestments, '');
        this.updateStatWithAnimation('total-earnings', data.totalEarnings, '');
        this.updateStatWithAnimation('referral-bonus', data.referralEarnings, '');
        
        // Update additional stats
        const elements = {
            'today-earnings': `${data.todaysEarnings.toLocaleString()}`,
            'roi-percentage': `${data.roiPercentage}%`,
            'pending-withdrawals': `${data.pendingWithdrawals.toLocaleString()}`,
            'active-count': data.metrics.totalInvestments
        };
        
        Object.entries(elements).forEach(([id, value]) => {
            const element = document.getElementById(id);
            if (element) element.textContent = value;
        });
        
        // Update investment list
        this.updateInvestmentList(data.investments || []);
        
        // Update transaction list
        this.updateTransactionList(data.transactions || []);
        
        // Update charts
        this.updateCharts(data);
        
        // Update portfolio diversification
        this.updatePortfolioChart(data.portfolioDiversification);
        
        // Update last updated time
        const lastUpdated = document.getElementById('last-updated');
        if (lastUpdated) {
            lastUpdated.textContent = new Date().toLocaleTimeString();
        }
        
        // Update user tier
        this.updateUserTier(data.totalBalance);
    },

    updateStatWithAnimation(elementId, targetValue, prefix = '') {
        const element = document.getElementById(elementId);
        if (!element) return;
        
        const currentValue = parseFloat(element.textContent.replace(/[^0-9.-]+/g, "")) || 0;
        
        if (Math.abs(targetValue - currentValue) < 0.01) {
            element.textContent = prefix + targetValue.toLocaleString();
            return;
        }
        
        // Animate the change
        const duration = 800;
        const startTime = Date.now();
        
        const animate = () => {
            const elapsed = Date.now() - startTime;
            const progress = Math.min(elapsed / duration, 1);
            
            // Easing function
            const easeOut = 1 - Math.pow(1 - progress, 3);
            const current = currentValue + ((targetValue - currentValue) * easeOut);
            
            element.textContent = prefix + Math.round(current).toLocaleString();
            
            if (progress < 1) {
                requestAnimationFrame(animate);
            } else {
                element.textContent = prefix + targetValue.toLocaleString();
            }
        };
        
        requestAnimationFrame(animate);
    },

    updateInvestmentList(investments) {
        const container = document.getElementById('active-investments-list');
        if (!container) return;
        
        if (investments.length === 0) {
            container.innerHTML = `
                <div class="empty-state">
                    <i class="fas fa-chart-line fa-3x"></i>
                    <h4>No Active Investments</h4>
                    <p>Start your first investment to begin earning</p>
                    <button class="btn btn-primary" onclick="app.openModal('invest-modal')">
                        <i class="fas fa-plus"></i> Start Investing
                    </button>
                </div>
            `;
            return;
        }
        
        container.innerHTML = investments.map(inv => `
            <div class="investment-item" onclick="app.viewInvestmentDetails('${inv._id}')">
                <div class="investment-icon">
                    <i class="fas fa-${this.getPlanIcon(inv.plan_id)}"></i>
                </div>
                <div class="investment-info">
                    <div class="investment-header">
                        <span class="investment-name">${inv.plan?.name || 'Investment'}</span>
                        <span class="investment-status ${inv.status}">${inv.status}</span>
                    </div>
                    <div class="investment-details">
                        <span class="investment-amount">${parseFloat(inv.amount).toLocaleString()}</span>
                        <span class="investment-duration">${inv.duration} days</span>
                    </div>
                    <div class="investment-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${this.calculateProgress(inv)}%"></div>
                        </div>
                        <span class="progress-text">${this.calculateProgress(inv)}% Complete</span>
                    </div>
                </div>
                <div class="investment-earnings">
                    <div class="daily-earnings">
                        <small>Daily: ${this.calculateDailyEarning(inv).toLocaleString()}</small>
                    </div>
                    <div class="total-earned">
                        <strong>${(parseFloat(inv.total_earned) || 0).toLocaleString()}</strong>
                    </div>
                </div>
            </div>
        `).join('');
    },

    updateTransactionList(transactions) {
        const container = document.getElementById('recent-transactions-list');
        if (!container) return;
        
        if (transactions.length === 0) {
            container.innerHTML = `
                <div class="empty-state">
                    <i class="fas fa-exchange-alt fa-3x"></i>
                    <h4>No Transactions Yet</h4>
                    <p>Your transaction history will appear here</p>
                </div>
            `;
            return;
        }
        
        container.innerHTML = transactions.slice(0, 10).map(txn => `
            <div class="transaction-item" onclick="app.viewTransactionDetails('${txn._id}')">
                <div class="transaction-icon ${this.getTransactionTypeClass(txn.type)}">
                    <i class="fas fa-${this.getTransactionIcon(txn.type)}"></i>
                </div>
                <div class="transaction-info">
                    <div class="transaction-description">${txn.description || txn.type}</div>
                    <div class="transaction-meta">
                        <span class="transaction-date">${new Date(txn.createdAt).toLocaleDateString()}</span>
                        <span class="transaction-time">${this.getTimeAgo(txn.createdAt)}</span>
                        <span class="transaction-status ${txn.status}">${txn.status}</span>
                    </div>
                </div>
                <div class="transaction-amount ${parseFloat(txn.amount) >= 0 ? 'positive' : 'negative'}">
                    ${parseFloat(txn.amount) >= 0 ? '+' : ''}${Math.abs(parseFloat(txn.amount)).toLocaleString()}
                </div>
            </div>
        `).join('');
    },

    // ==================== INVESTMENT SYSTEM ====================
    async loadInvestmentPlans() {
        try {
            console.log(' Loading investment plans...');
            
            const response = await this.apiRequest('/plans');
            
            if (response.success) {
                this.state.investmentPlans = response.data.plans;
                this.renderInvestmentPlans();
                this.renderInvestmentPlansPage();
            }
        } catch (error) {
            console.error('Failed to load investment plans:', error);
            // Use default plans as fallback
            this.state.investmentPlans = this.getDefaultPlans();
            this.renderInvestmentPlans();
        }
    },

    getDefaultPlans() {
        return [
            {
                _id: '1',
                name: 'Cocoa Beans',
                description: 'Invest in premium cocoa beans with stable returns',
                min_amount: 3500,
                daily_interest: 2.5,
                total_interest: 75,
                duration: 30,
                risk_level: 'low',
                color: '#f59e0b',
                icon: 'seedling',
                is_popular: true
            },
            {
                _id: '2',
                name: 'Gold',
                description: 'Precious metal investment with high liquidity',
                min_amount: 50000,
                daily_interest: 3.2,
                total_interest: 96,
                duration: 30,
                risk_level: 'medium',
                color: '#FFD700',
                icon: 'gem',
                is_popular: true
            },
            {
                _id: '3',
                name: 'Crude Oil',
                description: 'Energy sector investment with premium returns',
                min_amount: 100000,
                daily_interest: 4.1,
                total_interest: 123,
                duration: 30,
                risk_level: 'high',
                color: '#000000',
                icon: 'oil-can',
                is_popular: false
            }
        ];
    },

    renderInvestmentPlans() {
        const container = document.getElementById('plans-container');
        if (!container || !this.state.investmentPlans.length) return;
        
        container.innerHTML = this.state.investmentPlans.map(plan => `
            <div class="plan-card">
                ${plan.is_popular ? '<div class="plan-badge">Most Popular</div>' : ''}
                <div class="plan-header">
                    <h3 class="plan-name">${plan.name}</h3>
                    <div class="plan-price">${plan.min_amount.toLocaleString()}</div>
                    <div class="plan-period">Minimum Investment</div>
                </div>
                <div class="plan-features">
                    <div class="plan-feature">
                        <i class="fas fa-chart-line"></i>
                        <span>Daily Returns: ${plan.daily_interest}%</span>
                    </div>
                    <div class="plan-feature">
                        <i class="fas fa-percentage"></i>
                        <span>Total Returns: ${plan.total_interest}%</span>
                    </div>
                    <div class="plan-feature">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Duration: ${plan.duration} Days</span>
                    </div>
                    <div class="plan-feature">
                        <i class="fas fa-shield-alt"></i>
                        <span>Risk Level: ${plan.risk_level}</span>
                    </div>
                </div>
                <button class="btn btn-primary plan-button" onclick="app.openInvestmentModal('${plan._id}')">
                    Invest Now
                </button>
            </div>
        `).join('');
    },

    renderInvestmentPlansPage() {
        const container = document.getElementById('investment-plans-list');
        if (!container || !this.state.investmentPlans.length) return;
        
        container.innerHTML = this.state.investmentPlans.map(plan => `
            <div class="plan-card detailed">
                ${plan.is_popular ? '<div class="plan-badge">Recommended</div>' : ''}
                <div class="plan-icon" style="background: ${plan.color}20; border-color: ${plan.color};">
                    <i class="fas fa-${plan.icon}" style="color: ${plan.color};"></i>
                </div>
                <div class="plan-content">
                    <h3 class="plan-name">${plan.name}</h3>
                    <p class="plan-description">${plan.description}</p>
                    
                    <div class="plan-stats">
                        <div class="plan-stat">
                            <span class="stat-label">Min Investment</span>
                            <span class="stat-value">${plan.min_amount.toLocaleString()}</span>
                        </div>
                        <div class="plan-stat">
                            <span class="stat-label">Daily Return</span>
                            <span class="stat-value" style="color: ${plan.color};">${plan.daily_interest}%</span>
                        </div>
                        <div class="plan-stat">
                            <span class="stat-label">Total Return</span>
                            <span class="stat-value">${plan.total_interest}%</span>
                        </div>
                        <div class="plan-stat">
                            <span class="stat-label">Duration</span>
                            <span class="stat-value">${plan.duration} days</span>
                        </div>
                    </div>
                    
                    <div class="plan-risk">
                        <span class="risk-label">Risk Level:</span>
                        <div class="risk-meter">
                            <div class="risk-fill ${plan.risk_level}" 
                                 style="width: ${plan.risk_level === 'low' ? '33%' : plan.risk_level === 'medium' ? '66%' : '100%'};"></div>
                        </div>
                        <span class="risk-text">${plan.risk_level.toUpperCase()}</span>
                    </div>
                    
                    <div class="plan-features-detailed">
                        <h4>Features:</h4>
                        <ul>
                            <li><i class="fas fa-check"></i> Daily compounding interest</li>
                            <li><i class="fas fa-check"></i> Early withdrawal option</li>
                            <li><i class="fas fa-check"></i> Capital protection</li>
                            <li><i class="fas fa-check"></i> 24/7 support</li>
                        </ul>
                    </div>
                    
                    <button class="btn btn-primary plan-button-full" onclick="app.openInvestmentModal('${plan._id}')">
                        <i class="fas fa-gem"></i> Invest in ${plan.name}
                    </button>
                </div>
            </div>
        `).join('');
    },

    async handleInvestment(e) {
        e.preventDefault();
        console.log(' Processing investment...');
        
        if (!this.state.isAuthenticated) {
            this.showToast('Please login to make an investment', 'error');
            this.showPage('login');
            return;
        }
        
        const form = e.target;
        const formData = new FormData(form);
        
        // Validate investment
        const amount = parseFloat(formData.get('amount'));
        const planId = formData.get('plan_id');
        
        if (!this.validateInvestment(amount, planId)) {
            return;
        }
        
        this.setLoadingState('invest-submit-btn', true);
        
        try {
            const response = await this.apiRequest('/investments', {
                method: 'POST',
                body: formData
            });
            
            if (response.success) {
                this.showToast('Investment submitted successfully!', 'success');
                this.closeModal('invest-modal');
                this.updateDashboard();
            }
        } catch (error) {
            console.error('Investment failed:', error);
        } finally {
            this.setLoadingState('invest-submit-btn', false);
        }
    },

    validateInvestment(amount, planId) {
        const plan = this.state.investmentPlans.find(p => p._id === planId);
        
        if (!plan) {
            this.showToast('Please select a valid investment plan', 'error');
            return false;
        }
        
        if (amount < plan.min_amount) {
            this.showToast(`Minimum investment for ${plan.name} is ${plan.min_amount.toLocaleString()}`, 'error');
            return false;
        }
        
        if (amount > (this.state.currentUser.balance || 0)) {
            this.showToast('Insufficient balance for this investment', 'error');
            return false;
        }
        
        return true;
    },

    // ==================== TRANSACTION SYSTEM ====================
    async handleDeposit(e) {
        e.preventDefault();
        console.log(' Processing deposit...');
        
        if (!this.state.isAuthenticated) {
            this.showToast('Please login to make a deposit', 'error');
            this.showPage('login');
            return;
        }
        
        const form = e.target;
        const formData = new FormData(form);
        
        this.setLoadingState('deposit-submit-btn', true);
        
        try {
            const response = await this.apiRequest('/deposits', {
                method: 'POST',
                body: formData
            });
            
            if (response.success) {
                this.showToast('Deposit request submitted successfully!', 'success');
                this.closeModal('deposit-modal');
                this.updateDashboard();
            }
        } catch (error) {
            console.error('Deposit failed:', error);
        } finally {
            this.setLoadingState('deposit-submit-btn', false);
        }
    },

    async handleWithdrawal(e) {
        e.preventDefault();
        console.log(' Processing withdrawal...');
        
        if (!this.state.isAuthenticated) {
            this.showToast('Please login to make a withdrawal', 'error');
            this.showPage('login');
            return;
        }
        
        const form = e.target;
        const formData = new FormData(form);
        const amount = parseFloat(formData.get('amount'));
        
        // Validate withdrawal
        if (!this.validateWithdrawal(amount)) {
            return;
        }
        
        this.setLoadingState('withdraw-submit-btn', true);
        
        try {
            const response = await this.apiRequest('/withdrawals', {
                method: 'POST',
                body: {
                    amount: amount,
                    payment_method: formData.get('payment_method')
                }
            });
            
            if (response.success) {
                this.showToast('Withdrawal request submitted successfully!', 'success');
                this.closeModal('withdraw-modal');
                this.updateDashboard();
            }
        } catch (error) {
            console.error('Withdrawal failed:', error);
        } finally {
            this.setLoadingState('withdraw-submit-btn', false);
        }
    },

    validateWithdrawal(amount) {
        if (amount < this.config.MIN_WITHDRAWAL) {
            this.showToast(`Minimum withdrawal is ${this.config.MIN_WITHDRAWAL.toLocaleString()}`, 'error');
            return false;
        }
        
        if (amount > (this.state.currentUser.balance || 0)) {
            this.showToast('Insufficient balance for withdrawal', 'error');
            return false;
        }
        
        return true;
    },

    // ==================== PROFILE MANAGEMENT ====================
    async loadProfileData() {
        if (!this.state.isAuthenticated) return;
        
        try {
            const response = await this.apiRequest('/profile');
            
            if (response.success) {
                const user = response.data.user;
                
                // Update form fields
                this.updateProfileForm(user);
                
                // Update KYC status
                this.updateKYCStatus(user);
                
                // Update bank details
                this.updateBankDetails(user);
            }
        } catch (error) {
            console.error('Failed to load profile data:', error);
        }
    },

    updateProfileForm(user) {
        const fields = [
            { id: 'profile-fullname', value: user.full_name },
            { id: 'profile-email', value: user.email },
            { id: 'profile-phone', value: user.phone || '' },
            { id: 'profile-country', value: user.country || 'ng' }
        ];
        
        fields.forEach(field => {
            const element = document.getElementById(field.id);
            if (element) element.value = field.value;
        });
    },

    async handleProfileUpdate(e) {
        e.preventDefault();
        console.log(' Updating profile...');
        
        const form = e.target;
        const formData = new FormData(form);
        
        this.setLoadingState(form.querySelector('button[type="submit"]').id, true);
        
        try {
            let endpoint = '/profile';
            let method = 'PUT';
            
            // Determine endpoint based on form
            if (form.id === 'bank-form') {
                endpoint = '/profile/bank';
            } else if (form.id === 'kyc-form') {
                endpoint = '/kyc';
                method = 'POST';
            } else if (form.id === 'password-change-form') {
                endpoint = '/profile/password';
            }
            
            const response = await this.apiRequest(endpoint, {
                method: method,
                body: formData
            });
            
            if (response.success) {
                this.showToast('Profile updated successfully!', 'success');
                form.reset();
                
                // Refresh profile data
                this.loadProfileData();
            }
        } catch (error) {
            console.error('Profile update failed:', error);
        } finally {
            this.setLoadingState(form.querySelector('button[type="submit"]').id, false);
        }
    },

    // ==================== REFERRAL SYSTEM ====================
    async loadReferralData() {
        if (!this.state.isAuthenticated) return;
        
        try {
            const response = await this.apiRequest('/referrals/stats');
            
            if (response.success) {
                const stats = response.data.stats || {};
                const referralCode = this.state.currentUser.referral_code;
                const referralLink = `${window.location.origin}/register?ref=${referralCode}`;
                
                // Update UI
                this.updateReferralUI(stats, referralLink, referralCode);
            }
        } catch (error) {
            console.error('Failed to load referral data:', error);
        }
    },

    updateReferralUI(stats, referralLink, referralCode) {
        // Update stats
        const elements = {
            'total-referrals': stats.total_referrals || 0,
            'active-referrals': stats.active_referrals || 0,
            'total-referral-earnings': `${(stats.total_earnings || 0).toLocaleString()}`,
            'pending-referral-earnings': `${(stats.pending_earnings || 0).toLocaleString()}`,
            'today-referral-earnings': `${(stats.today_earnings || 0).toLocaleString()}`
        };
        
        Object.entries(elements).forEach(([id, value]) => {
            const element = document.getElementById(id);
            if (element) element.textContent = value;
        });
        
        // Update referral link and code
        const linkInput = document.getElementById('referral-link');
        const codeInput = document.getElementById('referral-code');
        
        if (linkInput) linkInput.value = referralLink;
        if (codeInput) codeInput.value = referralCode;
    },

    copyReferralLink() {
        const linkInput = document.getElementById('referral-link');
        if (!linkInput) return;
        
        linkInput.select();
        linkInput.setSelectionRange(0, 99999);
        
        try {
            document.execCommand('copy');
            this.showToast('Referral link copied to clipboard!', 'success');
        } catch (error) {
            console.error('Failed to copy:', error);
            this.showToast('Failed to copy link', 'error');
        }
    },

    // ==================== ADMIN SYSTEM ====================
    async updateAdminDashboard() {
        if (!this.state.isAdmin) return;
        
        console.log(' Updating admin dashboard...');
        
        try {
            const response = await this.apiRequest('/admin/dashboard');
            
            if (response.success) {
                const stats = response.data.stats || {};
                
                // Update admin stats
                this.updateAdminStats(stats);
                
                // Load admin tables
                this.loadAdminTables();
            }
        } catch (error) {
            console.error('Failed to update admin dashboard:', error);
        }
    },

    updateAdminStats(stats) {
        const elements = {
            'admin-total-users': stats.total_users || 0,
            'admin-total-invested': `${(stats.total_investments || 0).toLocaleString()}`,
            'admin-total-withdrawn': `${(stats.total_withdrawals || 0).toLocaleString()}`,
            'admin-pending-requests': stats.total_pending || 0,
            'admin-platform-earnings': `${(stats.platform_earnings || 0).toLocaleString()}`,
            'admin-active-investments': stats.active_investments || 0,
            'admin-today-deposits': `${(stats.today_deposits || 0).toLocaleString()}`,
            'admin-today-withdrawals': `${(stats.today_withdrawals || 0).toLocaleString()}`
        };
        
        Object.entries(elements).forEach(([id, value]) => {
            const element = document.getElementById(id);
            if (element) element.textContent = value;
        });
    },

    async loadAdminTables() {
        try {
            // Load users
            const usersResponse = await this.apiRequest('/admin/users?limit=10');
            if (usersResponse.success) {
                this.renderAdminUsers(usersResponse.data.users);
            }
            
            // Load pending investments
            const investmentsResponse = await this.apiRequest('/admin/pending-investments');
            if (investmentsResponse.success) {
                this.renderAdminInvestments(investmentsResponse.data.investments);
            }
            
            // Load pending deposits
            const depositsResponse = await this.apiRequest('/admin/pending-deposits');
            if (depositsResponse.success) {
                this.renderAdminDeposits(depositsResponse.data.deposits);
            }
            
            // Load pending withdrawals
            const withdrawalsResponse = await this.apiRequest('/admin/pending-withdrawals');
            if (withdrawalsResponse.success) {
                this.renderAdminWithdrawals(withdrawalsResponse.data.withdrawals);
            }
            
        } catch (error) {
            console.error('Failed to load admin tables:', error);
        }
    },

    // ==================== AI-POWERED FEATURES ====================
    initAIFeatures() {
        console.log(' Initializing AI features...');
        
        // Generate initial insights
        this.generateAIInsights();
        
        // Setup AI recommendation engine
        this.setupAIRecommendationEngine();
        
        // Setup predictive analytics
        this.setupPredictiveAnalytics();
    },

    generateAIInsights(dashboardData = null) {
        if (!this.state.isAuthenticated) return;
        
        console.log(' Generating AI insights...');
        
        const data = dashboardData || this.state.userStats;
        
        // Analyze investment patterns
        const insights = this.analyzeInvestmentPatterns(data);
        
        // Generate recommendations
        const recommendations = this.generateRecommendations(data);
        
        // Calculate risk assessment
        const riskAssessment = this.calculateRiskAssessment(data);
        
        // Update state
        this.state.aiInsights = {
            insights,
            recommendations,
            riskAssessment,
            generatedAt: new Date().toISOString()
        };
        
        // Update UI if on dashboard
        if (document.getElementById('dashboard-page')?.style.display === 'flex') {
            this.updateAIInsightsUI();
        }
    },

    analyzeInvestmentPatterns(data) {
        const patterns = [];
        
        // Check diversification
        if (Object.keys(data.portfolioDiversification || {}).length < 3) {
            patterns.push({
                type: 'diversification',
                message: 'Consider diversifying your portfolio across more raw materials',
                priority: 'medium',
                action: 'Explore different investment plans'
            });
        }
        
        // Check investment frequency
        if (data.metrics?.totalInvestments < 2) {
            patterns.push({
                type: 'frequency',
                message: 'Regular investments can compound returns faster',
                priority: 'low',
                action: 'Set up recurring investments'
            });
        }
        
        // Check ROI
        if (data.roiPercentage < 50) {
            patterns.push({
                type: 'roi',
                message: 'Your ROI can be optimized with different strategies',
                priority: 'high',
                action: 'Review investment strategies'
            });
        }
        
        return patterns;
    },

    generateRecommendations(data) {
        const recommendations = [];
        
        // Based on balance
        if (data.totalBalance > 100000) {
            recommendations.push({
                type: 'premium',
                title: 'Gold Investment',
                description: 'Consider upgrading to Gold plan for higher returns',
                potentialReturn: 'Up to 96% total return',
                risk: 'Medium',
                amount: '50,000+'
            });
        }
        
        // Based on investment count
        if (data.metrics?.totalInvestments >= 3) {
            recommendations.push({
                type: 'compound',
                title: 'Compound Strategy',
                description: 'Reinvest earnings to maximize compound growth',
                potentialReturn: 'Additional 15-25% annually',
                risk: 'Low',
                amount: 'Auto-reinvest'
            });
        }
        
        // Time-based recommendations
        const hour = new Date().getHours();
        if (hour >= 9 && hour <= 17) {
            recommendations.push({
                type: 'market',
                title: 'Market Hours',
                description: 'Best time to make new investments during market hours',
                potentialReturn: 'Immediate processing',
                risk: 'Low',
                amount: 'Any amount'
            });
        }
        
        return recommendations;
    },

    updateAIInsightsUI() {
        const container = document.getElementById('ai-insights-container');
        if (!container) return;
        
        const insights = this.state.aiInsights;
        
        container.innerHTML = `
            <div class="ai-insights-section">
                <h3><i class="fas fa-brain"></i> AI Insights</h3>
                
                <div class="insights-grid">
                    ${insights.insights?.map(insight => `
                        <div class="insight-card ${insight.priority}">
                            <div class="insight-header">
                                <i class="fas fa-${insight.type === 'diversification' ? 'layer-group' : 
                                                  insight.type === 'frequency' ? 'calendar' : 
                                                  insight.type === 'roi' ? 'chart-line' : 'lightbulb'}"></i>
                                <span class="insight-priority">${insight.priority}</span>
                            </div>
                            <div class="insight-message">${insight.message}</div>
                            <div class="insight-action">${insight.action}</div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="recommendations-section">
                    <h4><i class="fas fa-bullseye"></i> Recommended Actions</h4>
                    ${insights.recommendations?.map(rec => `
                        <div class="recommendation-card">
                            <div class="rec-header">
                                <span class="rec-type ${rec.type}">${rec.type}</span>
                                <h5>${rec.title}</h5>
                            </div>
                            <p class="rec-description">${rec.description}</p>
                            <div class="rec-details">
                                <span class="rec-return"><i class="fas fa-chart-line"></i> ${rec.potentialReturn}</span>
                                <span class="rec-risk"><i class="fas fa-shield-alt"></i> ${rec.risk}</span>
                                <span class="rec-amount"><i class="fas fa-coins"></i> ${rec.amount}</span>
                            </div>
                            <button class="btn btn-outline" onclick="app.followRecommendation('${rec.type}')">
                                Take Action
                            </button>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    },

    // ==================== REAL-TIME UPDATES ====================
    initRealTimeUpdates() {
        if (!this.config.LIVE_UPDATES_ENABLED) return;
        
        console.log(' Initializing real-time updates...');
        
        // Setup WebSocket connection if available
        this.initWebSocket();
        
        // Setup polling for updates
        this.startPollingUpdates();
        
        // Listen for visibility changes
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                this.stopRealTimeUpdates();
            } else {
                this.startRealTimeUpdates();
            }
        });
    },

    startPollingUpdates() {
        if (this.state.liveUpdates.interval) {
            clearInterval(this.state.liveUpdates.interval);
        }
        
        this.state.liveUpdates.interval = setInterval(() => {
            if (this.state.isAuthenticated && !document.hidden) {
                this.checkForUpdates();
            }
        }, this.config.AUTO_REFRESH_INTERVAL);
    },

    async checkForUpdates() {
        try {
            const response = await this.apiRequest('/notifications/unread');
            
            if (response.success && response.data.notifications?.length > 0) {
                this.handleNewNotifications(response.data.notifications);
            }
            
            // Refresh dashboard if visible
            if (document.getElementById('dashboard-page')?.style.display === 'flex') {
                this.updateDashboard();
            }
            
            this.state.liveUpdates.lastUpdate = new Date();
            
        } catch (error) {
            console.error('Failed to check for updates:', error);
        }
    },

    handleNewNotifications(notifications) {
        notifications.forEach(notification => {
            this.showNotification(notification);
        });
        
        // Update notification count
        this.updateNotificationCount(notifications.length);
    },

    showNotification(notification) {
        // Create notification element
        const notificationElement = document.createElement('div');
        notificationElement.className = `notification ${notification.type}`;
        notificationElement.innerHTML = `
            <i class="fas fa-${this.getNotificationIcon(notification.type)}"></i>
            <div class="notification-content">
                <div class="notification-title">${notification.title}</div>
                <div class="notification-message">${notification.message}</div>
                <div class="notification-time">${this.getTimeAgo(notification.createdAt)}</div>
            </div>
            <button class="notification-close" onclick="this.parentElement.remove()">
                <i class="fas fa-times"></i>
            </button>
        `;
        
        // Add to notification container
        const container = document.getElementById('notification-container');
        if (!container) {
            // Create container if it doesn't exist
            const newContainer = document.createElement('div');
            newContainer.id = 'notification-container';
            newContainer.className = 'notification-container';
            document.body.appendChild(newContainer);
            container = newContainer;
        }
        
        container.appendChild(notificationElement);
        
        // Auto-remove after 5 seconds
        setTimeout(() => {
            if (notificationElement.parentNode) {
                notificationElement.remove();
            }
        }, 5000);
    },

    // ==================== CACHING SYSTEM ====================
    cacheDashboardData(data) {
        try {
            const cacheData = {
                data: data,
                timestamp: Date.now(),
                userId: this.state.currentUser?._id,
                version: '2.0'
            };
            
            localStorage.setItem('dashboard_cache', JSON.stringify(cacheData));
            this.state.dashboardCache = cacheData;
            
            console.log(' Dashboard data cached');
        } catch (error) {
            console.error('Failed to cache dashboard data:', error);
        }
    },

    loadCachedDashboard() {
        try {
            const cached = localStorage.getItem('dashboard_cache');
            if (!cached) return false;
            
            const cacheData = JSON.parse(cached);
            
            // Check if cache is valid
            const cacheAge = Date.now() - cacheData.timestamp;
            const isValid = cacheAge < this.config.CACHE_DURATION && 
                          cacheData.userId === this.state.currentUser?._id;
            
            if (isValid) {
                console.log(' Loading from cache...');
                this.updateDashboardUI(cacheData.data);
                this.state.dashboardCache = cacheData;
                return true;
            } else {
                console.log(' Cache expired or invalid');
                localStorage.removeItem('dashboard_cache');
                return false;
            }
        } catch (error) {
            console.error('Failed to load cached dashboard:', error);
            return false;
        }
    },

    clearCache() {
        localStorage.removeItem('dashboard_cache');
        this.state.dashboardCache = null;
        this.showToast('Cache cleared successfully', 'success');
    },

    // ==================== UI MANAGEMENT ====================
    showPage(page) {
        console.log(` Showing page: ${page}`);
        
        // Hide all pages
        const pages = [
            'home-page', 'registration-page', 'login-page', 'dashboard-page',
            'investment-plans-page', 'profile-page', 'referral-page', 
            'support-page', 'admin-page'
        ];
        
        pages.forEach(pageId => {
            const element = document.getElementById(pageId);
            if (element) element.style.display = 'none';
        });
        
        // Show requested page
        let pageElement;
        switch(page) {
            case 'home':
                pageElement = document.getElementById('home-page');
                if (pageElement) {
                    pageElement.style.display = 'block';
                    this.animateHeroSection();
                }
                break;
                
            case 'register':
                pageElement = document.getElementById('registration-page');
                if (pageElement) pageElement.style.display = 'flex';
                break;
                
            case 'login':
                pageElement = document.getElementById('login-page');
                if (pageElement) pageElement.style.display = 'flex';
                break;
                
            case 'dashboard':
                pageElement = document.getElementById('dashboard-page');
                if (pageElement) {
                    pageElement.style.display = 'flex';
                    this.updateDashboard();
                }
                break;
                
            case 'investment-plans':
                pageElement = document.getElementById('investment-plans-page');
                if (pageElement) {
                    pageElement.style.display = 'flex';
                    this.renderInvestmentPlansPage();
                }
                break;
                
            case 'profile':
                pageElement = document.getElementById('profile-page');
                if (pageElement) {
                    pageElement.style.display = 'flex';
                    this.loadProfileData();
                }
                break;
                
            case 'referral':
                pageElement = document.getElementById('referral-page');
                if (pageElement) {
                    pageElement.style.display = 'flex';
                    this.loadReferralData();
                }
                break;
                
            case 'support':
                pageElement = document.getElementById('support-page');
                if (pageElement) pageElement.style.display = 'flex';
                break;
                
            case 'admin':
                pageElement = document.getElementById('admin-page');
                if (pageElement) {
                    pageElement.style.display = 'flex';
                    this.updateAdminDashboard();
                }
                break;
        }
        
        // Update active state
        this.updateActiveNavigation(page);
        
        // Close mobile menu
        this.closeMobileMenu();
        
        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // Update state
        this.state.activePage = page;
        
        // Track page view
        this.trackPageView(page);
    },

    updateActiveNavigation(page) {
        // Update desktop navigation
        const navLinks = document.querySelectorAll('.nav-links a');
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('onclick')?.includes(`'${page}'`)) {
                link.classList.add('active');
            }
        });
        
        // Update mobile navigation
        const mobileLinks = document.querySelectorAll('.mobile-menu-links a');
        mobileLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('onclick')?.includes(`'${page}'`)) {
                link.classList.add('active');
            }
        });
    },

    openModal(modalId) {
        const modal = document.getElementById(modalId);
        if (!modal) return;
        
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        // Focus first input
        const firstInput = modal.querySelector('input, select, textarea');
        if (firstInput) firstInput.focus();
        
        // Special setup for specific modals
        switch(modalId) {
            case 'invest-modal':
                this.setupInvestModal();
                break;
            case 'withdraw-modal':
                this.setupWithdrawModal();
                break;
            case 'calculator-modal':
                this.setupCalculatorModal();
                break;
        }
        
        console.log(` Opened modal: ${modalId}`);
    },

    closeModal(modalId) {
        const modal = document.getElementById(modalId);
        if (!modal) return;
        
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
        
        // Reset form
        const form = modal.querySelector('form');
        if (form) form.reset();
        
        // Clear previews
        modal.querySelectorAll('.file-preview').forEach(preview => {
            preview.style.display = 'none';
            preview.src = '';
        });
        
        console.log(` Closed modal: ${modalId}`);
    },

    toggleTheme() {
        const body = document.body;
        const icon = document.querySelector('#theme-toggle i');
        
        if (body.classList.contains('light-mode')) {
            // Switch to dark mode
            body.classList.remove('light-mode');
            icon.classList.remove('fa-sun');
            icon.classList.add('fa-moon');
            localStorage.setItem('theme', 'dark');
            this.state.theme = 'dark';
            this.showToast('Switched to dark mode', 'info');
        } else {
            // Switch to light mode
            body.classList.add('light-mode');
            icon.classList.remove('fa-moon');
            icon.classList.add('fa-sun');
            localStorage.setItem('theme', 'light');
            this.state.theme = 'light';
            this.showToast('Switched to light mode', 'info');
        }
        
        // Update charts if any
        this.updateChartThemes();
    },

    initTheme() {
        const savedTheme = localStorage.getItem('theme') || 'dark';
        const body = document.body;
        const icon = document.querySelector('#theme-toggle i');
        
        if (savedTheme === 'light') {
            body.classList.add('light-mode');
            icon.classList.remove('fa-moon');
            icon.classList.add('fa-sun');
        } else {
            body.classList.remove('light-mode');
            icon.classList.remove('fa-sun');
            icon.classList.add('fa-moon');
        }
        
        this.state.theme = savedTheme;
    },

    toggleMobileMenu() {
        const menu = document.getElementById('mobile-menu');
        const overlay = document.getElementById('mobile-menu-overlay');
        
        if (menu.classList.contains('active')) {
            this.closeMobileMenu();
        } else {
            menu.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
            this.state.mobileMenuOpen = true;
        }
    },

    closeMobileMenu() {
        const menu = document.getElementById('mobile-menu');
        const overlay = document.getElementById('mobile-menu-overlay');
        
        menu.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = 'auto';
        this.state.mobileMenuOpen = false;
    },

    handleScroll() {
        const navbar = document.querySelector('.navbar');
        const backToTop = document.getElementById('back-to-top');
        
        // Update navbar
        if (navbar) {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        }
        
        // Update back to top button
        if (backToTop) {
            if (window.scrollY > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        }
    },

    scrollToTop() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    },

    // ==================== FORM HANDLING ====================
    initFormValidation() {
        // Password strength
        const passwordInput = document.getElementById('password');
        if (passwordInput) {
            passwordInput.addEventListener('input', () => {
                this.updatePasswordStrength(passwordInput.value);
            });
        }
        
        // Investment amount validation
        const investAmount = document.getElementById('investment-amount');
        if (investAmount) {
            investAmount.addEventListener('input', () => {
                this.validateInvestmentAmount();
            });
        }
        
        // Withdrawal amount validation
        const withdrawAmount = document.getElementById('withdraw-amount');
        if (withdrawAmount) {
            withdrawAmount.addEventListener('input', () => {
                this.updateWithdrawalFee();
            });
        }
    },

    updatePasswordStrength(password) {
        const strengthBar = document.getElementById('password-strength');
        if (!strengthBar) return;
        
        let strength = 0;
        
        // Length check
        if (password.length >= 8) strength++;
        
        // Complexity checks
        if (/[A-Z]/.test(password)) strength++;
        if (/[a-z]/.test(password)) strength++;
        if (/[0-9]/.test(password)) strength++;
        if (/[^A-Za-z0-9]/.test(password)) strength++;
        
        // Update UI
        strengthBar.className = 'password-strength';
        
        if (strength === 0) {
            strengthBar.style.width = '0%';
        } else if (strength <= 2) {
            strengthBar.className += ' weak';
            strengthBar.style.width = '33%';
        } else if (strength <= 4) {
            strengthBar.className += ' medium';
            strengthBar.style.width = '66%';
        } else {
            strengthBar.className += ' strong';
            strengthBar.style.width = '100%';
        }
    },

    initPasswordToggles() {
        document.querySelectorAll('.password-toggle').forEach(toggle => {
            toggle.addEventListener('click', function() {
                const input = this.previousElementSibling;
                const icon = this.querySelector('i');
                
                if (input.type === 'password') {
                    input.type = 'text';
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                } else {
                    input.type = 'password';
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                }
            });
        });
    },

    initFileUploadPreviews() {
        const fileInputs = [
            { input: 'investment-proof', preview: 'investment-preview' },
            { input: 'deposit-proof', preview: 'deposit-preview' },
            { input: 'id-front', preview: 'id-front-preview' },
            { input: 'id-back', preview: 'id-back-preview' },
            { input: 'selfie-with-id', preview: 'selfie-with-id-preview' }
        ];
        
        fileInputs.forEach(({ input, preview }) => {
            const inputElement = document.getElementById(input);
            const previewElement = document.getElementById(preview);
            
            if (inputElement && previewElement) {
                inputElement.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        // Validate file size
                        if (file.size > this.config.FILE_SIZE_LIMIT) {
                            this.showToast('File size too large (max 10MB)', 'error');
                            inputElement.value = '';
                            return;
                        }
                        
                        // Validate file type
                        if (!file.type.startsWith('image/')) {
                            this.showToast('Please upload an image file', 'error');
                            inputElement.value = '';
                            return;
                        }
                        
                        // Show preview
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            previewElement.src = e.target.result;
                            previewElement.style.display = 'block';
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
        });
    },

    // ==================== UTILITY FUNCTIONS ====================
    async apiRequest(endpoint, options = {}) {
        const url = this.config.API_BASE_URL + endpoint;
        
        const headers = {
            'Content-Type': 'application/json',
            'Accept': 'application/json',
            ...options.headers
        };
        
        if (this.state.token) {
            headers['Authorization'] = `Bearer ${this.state.token}`;
        }
        
        const config = {
            method: options.method || 'GET',
            headers: headers,
            mode: 'cors',
            credentials: 'include',
            ...options
        };
        
        // Handle FormData
        if (options.body instanceof FormData) {
            delete config.headers['Content-Type'];
            config.body = options.body;
        } else if (options.body && typeof options.body === 'object') {
            config.body = JSON.stringify(options.body);
        }
        
        let retries = 0;
        const maxRetries = this.config.RETRY_ATTEMPTS;
        
        const makeRequest = async () => {
            try {
                this.showLoadingSpinner(true);
                
                const response = await fetch(url, config);
                
                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    throw new Error(errorData.message || `HTTP ${response.status}`);
                }
                
                const data = await response.json();
                
                if (!data.success) {
                    throw new Error(data.message || 'Request failed');
                }
                
                this.showLoadingSpinner(false);
                this.state.retryCount = 0;
                return data;
                
            } catch (error) {
                this.showLoadingSpinner(false);
                
                if (retries < maxRetries) {
                    retries++;
                    const delay = this.config.RETRY_DELAY * Math.pow(2, retries - 1);
                    console.log(`Retry ${retries}/${maxRetries} in ${delay}ms`);
                    await this.sleep(delay);
                    return makeRequest();
                }
                
                console.error('API Request Failed:', error);
                
                if (error.message.includes('401') || error.message.includes('token')) {
                    this.handleTokenExpired();
                } else if (error.message.includes('Network')) {
                    this.showToast('Network error. Please check your connection.', 'error');
                } else {
                    this.showToast(error.message || 'An error occurred. Please try again.', 'error');
                }
                
                throw error;
            }
        };
        
        return makeRequest();
    },

    showLoadingSpinner(show) {
        const spinner = document.getElementById('loading-spinner');
        if (spinner) {
            spinner.style.display = show ? 'flex' : 'none';
        }
    },

    setLoadingState(buttonId, isLoading) {
        const button = document.getElementById(buttonId);
        if (!button) return;
        
        const buttonText = button.querySelector('.btn-text');
        const buttonLoading = button.querySelector('.btn-loading');
        
        if (isLoading) {
            button.disabled = true;
            if (buttonText) buttonText.style.display = 'none';
            if (buttonLoading) buttonLoading.style.display = 'flex';
        } else {
            button.disabled = false;
            if (buttonText) buttonText.style.display = 'block';
            if (buttonLoading) buttonLoading.style.display = 'none';
        }
    },

    showToast(message, type = 'info', duration = 3000) {
        const container = document.getElementById('toast-container');
        if (!container) return;
        
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        
        const icons = {
            success: 'check-circle',
            error: 'exclamation-circle',
            warning: 'exclamation-triangle',
            info: 'info-circle'
        };
        
        toast.innerHTML = `
            <i class="fas fa-${icons[type] || 'info-circle'}"></i>
            <span>${message}</span>
        `;
        
        container.appendChild(toast);
        
        // Remove after duration
        setTimeout(() => {
            if (toast.parentNode === container) {
                container.removeChild(toast);
            }
        }, duration);
        
        // Auto-remove on click
        toast.addEventListener('click', () => {
            if (toast.parentNode === container) {
                container.removeChild(toast);
            }
        });
    },

    sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    },

    validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
    },

    validatePhone(phone) {
        const re = /^[\+]?[1-9][\d]{0,15}$/;
        return re.test(phone.replace(/\D/g, ''));
    },

    getTimeAgo(dateString) {
        const date = new Date(dateString);
        const now = new Date();
        const diffMs = now - date;
        const diffMins = Math.floor(diffMs / 60000);
        const diffHours = Math.floor(diffMs / 3600000);
        const diffDays = Math.floor(diffMs / 86400000);
        
        if (diffMins < 1) return 'just now';
        if (diffMins < 60) return `${diffMins}m ago`;
        if (diffHours < 24) return `${diffHours}h ago`;
        if (diffDays === 1) return 'yesterday';
        if (diffDays < 7) return `${diffDays}d ago`;
        return date.toLocaleDateString();
    },

    formatCurrency(amount) {
        return new Intl.NumberFormat('en-NG', {
            style: 'currency',
            currency: 'NGN',
            minimumFractionDigits: 2
        }).format(amount);
    },

    getPlanIcon(planId) {
        const icons = {
            '1': 'seedling',      // Cocoa
            '2': 'gem',           // Gold
            '3': 'oil-can',       // Oil
            '4': 'cube',          // Diamond
            '5': 'bolt',          // Energy
            '6': 'water'          // Water
        };
        return icons[planId] || 'chart-line';
    },

    getTransactionIcon(type) {
        const icons = {
            'deposit': 'plus-circle',
            'withdrawal': 'minus-circle',
            'investment': 'chart-line',
            'earning': 'coins',
            'interest': 'percentage',
            'referral_bonus': 'user-friends',
            'bonus': 'gift',
            'fee': 'receipt'
        };
        return icons[type] || 'exchange-alt';
    },

    getTransactionTypeClass(type) {
        const classes = {
            'deposit': 'deposit',
            'withdrawal': 'withdrawal',
            'investment': 'investment',
            'earning': 'earning',
            'interest': 'earning',
            'referral_bonus': 'bonus',
            'bonus': 'bonus',
            'fee': 'fee'
        };
        return classes[type] || 'default';
    },

    getNotificationIcon(type) {
        const icons = {
            'success': 'check-circle',
            'error': 'exclamation-circle',
            'warning': 'exclamation-triangle',
            'info': 'info-circle',
            'investment': 'chart-line',
            'withdrawal': 'money-bill-wave',
            'deposit': 'wallet',
            'referral': 'user-friends'
        };
        return icons[type] || 'bell';
    },

    // ==================== SESSION & NETWORK MANAGEMENT ====================
    initSessionMonitor() {
        // Reset activity timer on user interaction
        const resetActivityTimer = () => {
            this.state.lastActivity = Date.now();
        };
        
        // Add event listeners for user activity
        ['mousemove', 'keypress', 'click', 'scroll'].forEach(event => {
            document.addEventListener(event, resetActivityTimer);
        });
        
        // Check for inactivity
        setInterval(() => {
            if (!this.state.isAuthenticated) return;
            
            const idleTime = Date.now() - this.state.lastActivity;
            
            if (idleTime > this.config.SESSION_TIMEOUT) {
                this.showToast('Session expired due to inactivity', 'warning');
                this.logout();
            } else if (idleTime > (this.config.SESSION_TIMEOUT * 0.8)) {
                // Warn user 80% through session
                const timeLeft = Math.ceil((this.config.SESSION_TIMEOUT - idleTime) / 60000);
                this.showToast(`Session will expire in ${timeLeft} minutes`, 'warning');
            }
        }, 60000); // Check every minute
    },

    initNetworkMonitor() {
        window.addEventListener('online', () => {
            this.state.networkOnline = true;
            this.showToast('You are back online', 'success');
            
            // Refresh data
            if (this.state.isAuthenticated) {
                this.updateDashboard();
            }
        });
        
        window.addEventListener('offline', () => {
            this.state.networkOnline = false;
            this.showToast('You are offline. Some features may not work.', 'warning');
        });
    },

    handleTokenExpired() {
        this.showToast('Your session has expired. Please login again.', 'warning');
        this.logout();
    },

    // ==================== ANIMATIONS & EFFECTS ====================
    initAnimations() {
        // Intersection Observer for scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate__animated', 'animate__fadeInUp');
                }
            });
        }, { threshold: 0.1 });
        
        // Observe elements for animation
        document.querySelectorAll('.feature, .plan-card, .step, .testimonial-card').forEach(el => {
            observer.observe(el);
        });
        
        // Animate hero stats
        this.animateHeroStats();
        
        // Add hover effects
        this.initHoverEffects();
    },

    animateHeroStats() {
        const stats = [
            { id: 'total-invested-stat', value: 2500000000, suffix: '+' },
            { id: 'active-investors-stat', value: 15240, suffix: '+' },
            { id: 'user-rating-stat', value: 4.9, suffix: '/5' }
        ];
        
        stats.forEach(stat => {
            const element = document.getElementById(stat.id);
            if (element) {
                this.animateCounter(element, 0, stat.value, 2000, stat.suffix);
            }
        });
    },

    animateCounter(element, start, end, duration, suffix = '') {
        let startTimestamp = null;
        
        const step = (timestamp) => {
            if (!startTimestamp) startTimestamp = timestamp;
            const progress = Math.min((timestamp - startTimestamp) / duration, 1);
            
            // Ease out function
            const easeOut = 1 - Math.pow(1 - progress, 3);
            const value = Math.floor(easeOut * (end - start) + start);
            
            if (element.id === 'user-rating-stat') {
                element.textContent = value.toFixed(1) + suffix;
            } else if (end >= 1000000) {
                element.textContent = '' + (value / 1000000).toFixed(1) + 'M' + suffix;
            } else {
                element.textContent = '' + value.toLocaleString() + suffix;
            }
            
            if (progress < 1) {
                window.requestAnimationFrame(step);
            }
        };
        
        window.requestAnimationFrame(step);
    },

    initHoverEffects() {
        // Add hover effects to cards
        document.querySelectorAll('.card-hover').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
        
        // Add ripple effect to buttons
        document.querySelectorAll('.btn').forEach(button => {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                
                ripple.className = 'ripple';
                ripple.style.width = ripple.style.height = Math.max(rect.width, rect.height) + 'px';
                ripple.style.left = e.clientX - rect.left - ripple.offsetWidth / 2 + 'px';
                ripple.style.top = e.clientY - rect.top - ripple.offsetHeight / 2 + 'px';
                
                this.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });
        });
    },

    // ==================== PERFORMANCE TRACKING ====================
    initPerformanceTracker() {
        // Track page load times
        window.addEventListener('load', () => {
            const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
            this.state.performanceMetrics.pageLoadTimes.initial = loadTime;
            
            console.log(` Page loaded in ${loadTime}ms`);
        });
        
        // Track API response times
        const originalFetch = window.fetch;
        window.fetch = async function(...args) {
            const startTime = Date.now();
            
            try {
                const response = await originalFetch.apply(this, args);
                const endTime = Date.now();
                const duration = endTime - startTime;
                
                // Log slow requests
                if (duration > 1000) {
                    console.warn(` Slow API request: ${args[0]} took ${duration}ms`);
                }
                
                return response;
            } catch (error) {
                console.error('Fetch error:', error);
                throw error;
            }
        };
        
        // Track user actions
        document.addEventListener('click', (e) => {
            const target = e.target;
            const action = target.getAttribute('onclick') || 
                          target.getAttribute('href') || 
                          target.tagName + ' ' + target.className;
            
            this.state.performanceMetrics.userActions.push({
                action: action,
                timestamp: Date.now(),
                page: this.state.activePage
            });
            
            // Keep only last 100 actions
            if (this.state.performanceMetrics.userActions.length > 100) {
                this.state.performanceMetrics.userActions.shift();
            }
        });
    },

    trackPageView(page) {
        if (typeof gtag !== 'undefined') {
            gtag('config', 'GA_MEASUREMENT_ID', {
                page_path: `/${page}`
            });
        }
        
        // Send to analytics endpoint
        if (this.state.isAuthenticated) {
            this.apiRequest('/analytics/pageview', {
                method: 'POST',
                body: {
                    page: page,
                    timestamp: Date.now()
                }
            }).catch(() => {}); // Silent fail for analytics
        }
    },

    // ==================== ERROR HANDLING ====================
    initErrorHandling() {
        // Global error handler
        window.addEventListener('error', (e) => {
            console.error('Global error:', e.error);
            this.showToast('An unexpected error occurred. Please refresh the page.', 'error');
            
            // Send to error tracking
            this.trackError(e.error);
        });
        
        // Unhandled promise rejections
        window.addEventListener('unhandledrejection', (e) => {
            console.error('Unhandled promise rejection:', e.reason);
            this.showToast('An error occurred. Please try again.', 'error');
            
            this.trackError(e.reason);
        });
    },

    trackError(error) {
        const errorData = {
            message: error.message,
            stack: error.stack,
            url: window.location.href,
            userAgent: navigator.userAgent,
            timestamp: Date.now()
        };
        
        // Send to error tracking service
        if (this.state.isAuthenticated) {
            this.apiRequest('/analytics/error', {
                method: 'POST',
                body: errorData
            }).catch(() => {}); // Silent fail for error tracking
        }
    },

    // ==================== SECURITY FUNCTIONS ====================
    validateRegistration(data) {
        // Validate email
        if (!this.validateEmail(data.email)) {
            this.showToast('Please enter a valid email address', 'error');
            return false;
        }
        
        // Validate phone
        if (!this.validatePhone(data.phone)) {
            this.showToast('Please enter a valid phone number', 'error');
            return false;
        }
        
        // Validate password
        if (data.password.length < 6) {
            this.showToast('Password must be at least 6 characters', 'error');
            return false;
        }
        
        // Validate password match
        if (data.password !== data.confirm_password) {
            this.showToast('Passwords do not match', 'error');
            return false;
        }
        
        return true;
    },

    // ==================== INITIALIZATION HELPERS ====================
    checkReferralFromURL() {
        const urlParams = new URLSearchParams(window.location.search);
        const referralCode = urlParams.get('ref');
        
        if (referralCode) {
            const referralInput = document.getElementById('referral');
            if (referralInput) {
                referralInput.value = referralCode;
            }
        }
    },

    checkSessionRestore() {
        const restoreSession = localStorage.getItem('restore_session');
        if (restoreSession === 'true' && this.state.token) {
            this.showToast('Restoring your session...', 'info');
            this.verifyToken();
        }
    },

    showWelcomeMessage() {
        const isFirstVisit = !localStorage.getItem('has_visited');
        
        if (isFirstVisit) {
            this.showToast('Welcome to Raw Wealthy Investment Platform!', 'info', 5000);
            localStorage.setItem('has_visited', 'true');
        }
    },

    updateUserUI() {
        if (!this.state.currentUser) return;
        
        // Update user name
        const userNameElements = document.querySelectorAll('#user-name, .user-name');
        userNameElements.forEach(element => {
            element.textContent = this.state.currentUser.full_name;
        });
        
        // Update user avatar
        const avatarElement = document.getElementById('user-avatar');
        if (avatarElement) {
            const initials = this.getUserInitials(this.state.currentUser.full_name);
            avatarElement.textContent = initials;
        }
        
        // Update user tier
        const tierElement = document.getElementById('user-tier');
        if (tierElement) {
            const tier = this.getUserTier(this.state.currentUser.balance || 0);
            tierElement.textContent = tier;
        }
    },

    getUserInitials(name) {
        return name
            .split(' ')
            .map(n => n[0])
            .join('')
            .toUpperCase()
            .slice(0, 2);
    },

    getUserTier(balance) {
        if (balance >= 1000000) return 'Gold Investor';
        if (balance >= 500000) return 'Silver Investor';
        if (balance >= 100000) return 'Bronze Investor';
        return 'Standard Investor';
    },

    // ==================== MODAL SETUP FUNCTIONS ====================
    setupInvestModal() {
        // Populate plan select
        const planSelect = document.getElementById('investment-plan');
        if (planSelect && this.state.investmentPlans.length > 0) {
            planSelect.innerHTML = '<option value="">Select Investment Plan</option>' +
                this.state.investmentPlans.map(plan => `
                    <option value="${plan._id}">
                        ${plan.name} - ${plan.min_amount.toLocaleString()} Minimum
                    </option>
                `).join('');
        }
        
        // Update amount placeholder based on selected plan
        if (planSelect) {
            planSelect.addEventListener('change', (e) => {
                const planId = e.target.value;
                const plan = this.state.investmentPlans.find(p => p._id === planId);
                const amountInput = document.getElementById('investment-amount');
                
                if (plan && amountInput) {
                    amountInput.min = plan.min_amount;
                    amountInput.placeholder = `Minimum: ${plan.min_amount.toLocaleString()}`;
                    amountInput.value = plan.min_amount;
                }
            });
        }
    },

    setupWithdrawModal() {
        // Update available balance
        const availableBalance = document.getElementById('available-balance');
        if (availableBalance && this.state.currentUser) {
            availableBalance.textContent = `${(this.state.currentUser.balance || 0).toLocaleString()}`;
        }
        
        // Calculate withdrawal fee
        const amountInput = document.getElementById('withdraw-amount');
        if (amountInput) {
            amountInput.addEventListener('input', () => {
                this.updateWithdrawalFee();
            });
        }
    },

    updateWithdrawalFee() {
        const amountInput = document.getElementById('withdraw-amount');
        const feeDisplay = document.getElementById('withdrawal-fee');
        const netDisplay = document.getElementById('net-amount');
        
        if (!amountInput || !feeDisplay || !netDisplay) return;
        
        const amount = parseFloat(amountInput.value) || 0;
        const fee = amount * (this.config.PLATFORM_FEE_PERCENT / 100);
        const netAmount = amount - fee;
        
        feeDisplay.textContent = `${fee.toLocaleString()}`;
        netDisplay.textContent = `${netAmount.toLocaleString()}`;
    },

    setupCalculatorModal() {
        const amountInput = document.getElementById('calc-investment-amount');
        const planSelect = document.getElementById('calc-plan');
        const durationSlider = document.getElementById('calc-duration');
        const durationValue = document.getElementById('calc-duration-value');
        
        if (!amountInput || !planSelect || !durationSlider || !durationValue) return;
        
        // Update duration display
        durationSlider.addEventListener('input', () => {
            durationValue.textContent = `${durationSlider.value} days`;
            this.updateCalculator();
        });
        
        // Update on any change
        [amountInput, planSelect, durationSlider].forEach(element => {
            element.addEventListener('input', () => {
                this.updateCalculator();
            });
        });
        
        // Initial calculation
        this.updateCalculator();
    },

    updateCalculator() {
        const amount = parseFloat(document.getElementById('calc-investment-amount').value) || 3500;
        const planValue = document.getElementById('calc-plan').value;
        const duration = parseInt(document.getElementById('calc-duration').value) || 90;
        
        // Get plan details
        const plan = this.state.investmentPlans.find(p => p.name.toLowerCase().includes(planValue)) || 
                    this.state.investmentPlans[0];
        
        if (!plan) return;
        
        const dailyRate = plan.daily_interest || 2.5;
        const dailyEarning = (amount * dailyRate) / 100;
        const totalEarnings = dailyEarning * duration;
        const totalReturn = amount + totalEarnings;
        const roi = (totalEarnings / amount) * 100;
        
        // Update display
        const elements = {
            'calc-total-return': `${totalReturn.toLocaleString()}`,
            'calc-daily-earnings': `${dailyEarning.toLocaleString()}`,
            'calc-monthly-earnings': `${(dailyEarning * 30).toLocaleString()}`,
            'calc-total-profit': `${totalEarnings.toLocaleString()}`,
            'calc-roi': `${roi.toFixed(2)}%`,
            'calc-duration-display': duration
        };
        
        Object.entries(elements).forEach(([id, value]) => {
            const element = document.getElementById(id);
            if (element) element.textContent = value;
        });
    },

    // ==================== CHART FUNCTIONS ====================
    updateCharts(data) {
        // Update earnings chart
        this.updateEarningsChart(data);
        
        // Update portfolio chart
        this.updatePortfolioChart(data.portfolioDiversification);
    },

    updateEarningsChart(data) {
        const ctx = document.getElementById('earnings-chart');
        if (!ctx) return;
        
        // Destroy existing chart
        if (this.state.charts.earnings) {
            this.state.charts.earnings.destroy();
        }
        
        // Generate sample data for last 7 days
        const labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
        const earningsData = labels.map(() => Math.random() * 10000 + 5000);
        
        // Create new chart
        this.state.charts.earnings = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Daily Earnings',
                    data: earningsData,
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    borderWidth: 2,
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '' + value.toLocaleString();
                            }
                        }
                    },
                    x: {
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    }
                }
            }
        });
    },

    updatePortfolioChart(diversification) {
        const ctx = document.getElementById('portfolio-chart');
        if (!ctx) return;
        
        // Destroy existing chart
        if (this.state.charts.portfolio) {
            this.state.charts.portfolio.destroy();
        }
        
        // Prepare data
        const labels = Object.keys(diversification);
        const data = Object.values(diversification);
        const colors = ['#f59e0b', '#10b981', '#3b82f6', '#8b5cf6', '#ef4444'];
        
        // Create chart if we have data
        if (labels.length > 0) {
            this.state.charts.portfolio = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: colors,
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }
    },

    updateChartThemes() {
        // Update all charts when theme changes
        Object.values(this.state.charts).forEach(chart => {
            if (chart) {
                chart.update();
            }
        });
    },

    // ==================== EVENT HANDLERS ====================
    handleResize() {
        // Update charts on resize
        Object.values(this.state.charts).forEach(chart => {
            if (chart) {
                chart.resize();
            }
        });
    },

    handleKeyboardShortcuts(e) {
        // Escape key closes modals
        if (e.key === 'Escape') {
            const openModal = document.querySelector('.modal[style*="display: flex"]');
            if (openModal) {
                this.closeModal(openModal.id);
            }
        }
        
        // Ctrl/Cmd + D for dashboard
        if ((e.ctrlKey || e.metaKey) && e.key === 'd') {
            e.preventDefault();
            if (this.state.isAuthenticated) {
                this.showPage('dashboard');
            }
        }
        
        // Ctrl/Cmd + I for investments
        if ((e.ctrlKey || e.metaKey) && e.key === 'i') {
            e.preventDefault();
            this.showPage('investment-plans');
        }
    },

    handleOutsideClick(e) {
        // Close mobile menu when clicking outside
        if (this.state.mobileMenuOpen && 
            !e.target.closest('.mobile-menu') && 
            !e.target.closest('#hamburger')) {
            this.closeMobileMenu();
        }
        
        // Close modals when clicking outside
        if (e.target.classList.contains('modal')) {
            this.closeModal(e.target.id);
        }
    },

    // ==================== NOTIFICATION SYSTEM ====================
    initNotifications() {
        // Create notification container if it doesn't exist
        if (!document.getElementById('notification-container')) {
            const container = document.createElement('div');
            container.id = 'notification-container';
            container.className = 'notification-container';
            document.body.appendChild(container);
        }
    },

    updateNotificationCount(count) {
        const badge = document.getElementById('notification-badge');
        if (!badge) return;
        
        if (count > 0) {
            badge.textContent = count > 99 ? '99+' : count;
            badge.style.display = 'flex';
        } else {
            badge.style.display = 'none';
        }
    },

    // ==================== MARKET DATA ====================
    async loadMarketData() {
        try {
            const response = await this.apiRequest('/market/data');
            
            if (response.success) {
                this.state.marketData = response.data;
                this.updateMarketUI();
            }
        } catch (error) {
            console.error('Failed to load market data:', error);
        }
    },

    updateMarketUI() {
        // Update market indicators on dashboard
        const container = document.getElementById('market-indicators');
        if (!container || !this.state.marketData) return;
        
        container.innerHTML = `
            <div class="market-indicators">
                <h4><i class="fas fa-chart-bar"></i> Market Overview</h4>
                <div class="indicators-grid">
                    ${this.state.marketData.indicators?.map(indicator => `
                        <div class="indicator ${indicator.trend}">
                            <span class="indicator-name">${indicator.name}</span>
                            <span class="indicator-value">${indicator.value}</span>
                            <span class="indicator-change ${indicator.change >= 0 ? 'positive' : 'negative'}">
                                <i class="fas fa-${indicator.change >= 0 ? 'caret-up' : 'caret-down'}"></i>
                                ${Math.abs(indicator.change)}%
                            </span>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    },

    // ==================== SUPPORT SYSTEM ====================
    async handleSupportRequest(e) {
        e.preventDefault();
        
        const form = e.target;
        const formData = new FormData(form);
        
        this.setLoadingState('support-submit-btn', true);
        
        try {
            const response = await this.apiRequest('/support', {
                method: 'POST',
                body: Object.fromEntries(formData)
            });
            
            if (response.success) {
                this.showToast('Support ticket submitted successfully!', 'success');
                form.reset();
            }
        } catch (error) {
            console.error('Support request failed:', error);
        } finally {
            this.setLoadingState('support-submit-btn', false);
        }
    },

    // ==================== ADMIN FUNCTIONS ====================
    async handleAdminUpdate(e) {
        e.preventDefault();
        
        const form = e.target;
        const formData = new FormData(form);
        
        this.setLoadingState('admin-settings-btn', true);
        
        try {
            const response = await this.apiRequest('/admin/settings', {
                method: 'PUT',
                body: Object.fromEntries(formData)
            });
            
            if (response.success) {
                this.showToast('Settings updated successfully!', 'success');
            }
        } catch (error) {
            console.error('Admin update failed:', error);
        } finally {
            this.setLoadingState('admin-settings-btn', false);
        }
    },

    // ==================== COMPLETE THE APP ====================
    
    // Add any missing helper functions
    calculateProgress(investment) {
        if (!investment.start_date || !investment.duration) return 0;
        
        const start = new Date(investment.start_date);
        const now = new Date();
        const totalDays = investment.duration;
        const elapsedDays = Math.floor((now - start) / (1000 * 60 * 60 * 24));
        
        return Math.min(Math.max((elapsedDays / totalDays) * 100, 0), 100);
    },

    calculateDailyEarning(investment) {
        if (!investment.amount || !investment.daily_interest) return 0;
        return (parseFloat(investment.amount) * parseFloat(investment.daily_interest)) / 100;
    },

    calculateSuccessRate(transactions) {
        const completed = transactions.filter(t => t.status === 'completed').length;
        const total = transactions.length;
        
        return total > 0 ? Math.round((completed / total) * 100) : 0;
    },

    calculateAverageDailyReturn(investments) {
        if (!investments.length) return 0;
        
        const totalReturn = investments.reduce((sum, inv) => {
            return sum + (this.calculateDailyEarning(inv) || 0);
        }, 0);
        
        return totalReturn / investments.length;
    },

    calculatePendingWithdrawals(transactions) {
        return transactions.reduce((total, txn) => {
            if (txn.type === 'withdrawal' && txn.status === 'pending') {
                return total + (parseFloat(txn.amount) || 0);
            }
            return total;
        }, 0);
    },

    calculateReferralEarnings(transactions, referralStats) {
        if (referralStats?.total_earnings) {
            return parseFloat(referralStats.total_earnings) || 0;
        }
        
        return transactions.reduce((total, txn) => {
            if (txn.type === 'referral_bonus' || 
                (txn.description && txn.description.toLowerCase().includes('referral'))) {
                return total + (parseFloat(txn.amount) || 0);
            }
            return total;
        }, 0);
    },

    validateInvestmentAmount() {
        const amountInput = document.getElementById('investment-amount');
        const planSelect = document.getElementById('investment-plan');
        
        if (!amountInput || !planSelect) return;
        
        const planId = planSelect.value;
        const amount = parseFloat(amountInput.value) || 0;
        
        if (!planId) {
            this.showToast('Please select an investment plan first', 'warning');
            return;
        }
        
        const plan = this.state.investmentPlans.find(p => p._id === planId);
        if (plan && amount < plan.min_amount) {
            amountInput.style.borderColor = '#ef4444';
            this.showToast(`Minimum investment is ${plan.min_amount.toLocaleString()}`, 'warning');
        } else {
            amountInput.style.borderColor = '';
        }
    },

    followRecommendation(type) {
        switch(type) {
            case 'premium':
                this.showPage('investment-plans');
                break;
            case 'compound':
                this.openModal('invest-modal');
                break;
            case 'market':
                this.openModal('invest-modal');
                break;
            default:
                this.showPage('dashboard');
        }
    },

    startRealTimeUpdates() {
        if (this.state.liveUpdates.enabled && !this.state.liveUpdates.interval) {
            this.state.liveUpdates.interval = setInterval(() => {
                this.checkForUpdates();
            }, this.config.AUTO_REFRESH_INTERVAL);
        }
    },

    stopRealTimeUpdates() {
        if (this.state.liveUpdates.interval) {
            clearInterval(this.state.liveUpdates.interval);
            this.state.liveUpdates.interval = null;
        }
    },

    initWebSocket() {
        // WebSocket implementation would go here
        // This is a placeholder for future implementation
        console.log('WebSocket support coming soon...');
    },

    initRealTimeListeners() {
        // Listen for custom events or WebSocket messages
        window.addEventListener('investment-updated', (e) => {
            this.showToast('Investment status updated', 'info');
            this.updateDashboard();
        });
        
        window.addEventListener('balance-changed', (e) => {
            this.updateDashboard();
        });
    },

    animateHeroSection() {
        const heroVisual = document.querySelector('.hero-visual');
        if (heroVisual) {
            heroVisual.style.animation = 'float 6s ease-in-out infinite';
        }
    },

    renderAdminUsers(users) {
        const table = document.getElementById('admin-users-table');
        if (!table) return;
        
        table.innerHTML = users.map(user => `
            <tr>
                <td>
                    <div class="user-cell">
                        <div class="user-avatar-small">${this.getUserInitials(user.full_name)}</div>
                        <div>
                            <div class="user-name">${user.full_name}</div>
                            <div class="user-email">${user.email}</div>
                        </div>
                    </div>
                </td>
                <td>${new Date(user.createdAt).toLocaleDateString()}</td>
                <td>
                    <span class="status-badge ${user.kyc_verified ? 'approved' : 'pending'}">
                        ${user.kyc_verified ? 'Verified' : 'Pending'}
                    </span>
                </td>
                <td>${(user.balance || 0).toLocaleString()}</td>
                <td>
                    <div class="admin-actions">
                        <button class="btn-icon" onclick="app.viewUser('${user._id}')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-icon" onclick="app.editUser('${user._id}')">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </td>
            </tr>
        `).join('');
    },

    renderAdminInvestments(investments) {
        const table = document.getElementById('admin-investments-table');
        if (!table) return;
        
        table.innerHTML = investments.map(inv => `
            <tr>
                <td>${inv.user?.full_name || 'Unknown'}</td>
                <td>${inv.plan?.name || 'Unknown'}</td>
                <td>${(inv.amount || 0).toLocaleString()}</td>
                <td>${new Date(inv.createdAt).toLocaleDateString()}</td>
                <td><span class="status-badge ${inv.status}">${inv.status}</span></td>
                <td>
                    <div class="admin-actions">
                        ${inv.status === 'pending' ? `
                            <button class="btn-icon success" onclick="app.approveInvestment('${inv._id}')">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn-icon error" onclick="app.rejectInvestment('${inv._id}')">
                                <i class="fas fa-times"></i>
                            </button>
                        ` : `
                            <button class="btn-icon" onclick="app.viewInvestment('${inv._id}')">
                                <i class="fas fa-eye"></i>
                            </button>
                        `}
                    </div>
                </td>
            </tr>
        `).join('');
    },

    renderAdminDeposits(deposits) {
        const table = document.getElementById('admin-deposits-table');
        if (!table) return;
        
        table.innerHTML = deposits.map(deposit => `
            <tr>
                <td>${deposit.user?.full_name || 'Unknown'}</td>
                <td>${(deposit.amount || 0).toLocaleString()}</td>
                <td>${deposit.payment_method || 'Bank Transfer'}</td>
                <td>${new Date(deposit.createdAt).toLocaleDateString()}</td>
                <td><span class="status-badge ${deposit.status}">${deposit.status}</span></td>
                <td>
                    <div class="admin-actions">
                        ${deposit.status === 'pending' ? `
                            <button class="btn-icon success" onclick="app.approveDeposit('${deposit._id}')">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn-icon error" onclick="app.rejectDeposit('${deposit._id}')">
                                <i class="fas fa-times"></i>
                            </button>
                        ` : `
                            <button class="btn-icon" onclick="app.viewDeposit('${deposit._id}')">
                                <i class="fas fa-eye"></i>
                            </button>
                        `}
                    </div>
                </td>
            </tr>
        `).join('');
    },

    renderAdminWithdrawals(withdrawals) {
        const table = document.getElementById('admin-withdrawals-table');
        if (!table) return;
        
        table.innerHTML = withdrawals.map(withdrawal => `
            <tr>
                <td>${withdrawal.user?.full_name || 'Unknown'}</td>
                <td>${(withdrawal.amount || 0).toLocaleString()}</td>
                <td>${(withdrawal.platform_fee || 0).toLocaleString()}</td>
                <td>${(withdrawal.net_amount || 0).toLocaleString()}</td>
                <td>${new Date(withdrawal.createdAt).toLocaleDateString()}</td>
                <td><span class="status-badge ${withdrawal.status}">${withdrawal.status}</span></td>
                <td>
                    <div class="admin-actions">
                        ${withdrawal.status === 'pending' ? `
                            <button class="btn-icon success" onclick="app.approveWithdrawal('${withdrawal._id}')">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn-icon error" onclick="app.rejectWithdrawal('${withdrawal._id}')">
                                <i class="fas fa-times"></i>
                            </button>
                        ` : `
                            <button class="btn-icon" onclick="app.viewWithdrawal('${withdrawal._id}')">
                                <i class="fas fa-eye"></i>
                            </button>
                        `}
                    </div>
                </td>
            </tr>
        `).join('');
    },

    // Admin action functions (stubs for now)
    viewUser(userId) {
        console.log('View user:', userId);
        this.showToast('View user feature coming soon', 'info');
    },

    editUser(userId) {
        console.log('Edit user:', userId);
        this.showToast('Edit user feature coming soon', 'info');
    },

    approveInvestment(investmentId) {
        console.log('Approve investment:', investmentId);
        this.showToast('Approve investment feature coming soon', 'info');
    },

    rejectInvestment(investmentId) {
        console.log('Reject investment:', investmentId);
        this.showToast('Reject investment feature coming soon', 'info');
    },

    approveDeposit(depositId) {
        console.log('Approve deposit:', depositId);
        this.showToast('Approve deposit feature coming soon', 'info');
    },

    rejectDeposit(depositId) {
        console.log('Reject deposit:', depositId);
        this.showToast('Reject deposit feature coming soon', 'info');
    },

    approveWithdrawal(withdrawalId) {
        console.log('Approve withdrawal:', withdrawalId);
        this.showToast('Approve withdrawal feature coming soon', 'info');
    },

    rejectWithdrawal(withdrawalId) {
        console.log('Reject withdrawal:', withdrawalId);
        this.showToast('Reject withdrawal feature coming soon', 'info');
    },

    viewInvestment(investmentId) {
        console.log('View investment:', investmentId);
        this.showToast('View investment feature coming soon', 'info');
    },

    viewDeposit(depositId) {
        console.log('View deposit:', depositId);
        this.showToast('View deposit feature coming soon', 'info');
    },

    viewWithdrawal(withdrawalId) {
        console.log('View withdrawal:', withdrawalId);
        this.showToast('View withdrawal feature coming soon', 'info');
    },

    viewInvestmentDetails(investmentId) {
        console.log('View investment details:', investmentId);
        this.showToast('Investment details feature coming soon', 'info');
    },

    viewTransactionDetails(transactionId) {
        console.log('View transaction details:', transactionId);
        this.showToast('Transaction details feature coming soon', 'info');
    },

    // Setup AI recommendation engine (stub)
    setupAIRecommendationEngine() {
        console.log('AI recommendation engine initialized');
    },

    // Setup predictive analytics (stub)
    setupPredictiveAnalytics() {
        console.log('Predictive analytics initialized');
    },

    // Calculate risk assessment (stub)
    calculateRiskAssessment(data) {
        return {
            level: 'moderate',
            score: 65,
            recommendations: [
                'Diversify across 3+ materials',
                'Maintain 20% cash reserve',
                'Consider longer-term investments'
            ]
        };
    }
};

// Initialize the application when DOM is loaded
window.addEventListener('DOMContentLoaded', () => {
    app.init();
    
    // Add global error handler
    window.addEventListener('error', (e) => {
        console.error('Global error caught:', e.error);
        app.showToast('An unexpected error occurred', 'error');
    });
});

// Add CSS for new elements
const additionalStyles = `
    .card-hover {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    
    .ripple {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.5);
        transform: scale(0);
        animation: ripple 0.6s linear;
    }
    
    @keyframes ripple {
        to {
            transform: scale(4);
            opacity: 0;
        }
    }
    
    .notification-container {
        position: fixed;
        top: 100px;
        right: 20px;
        z-index: 9999;
        max-width: 350px;
    }
    
    .notification {
        background: var(--primary);
        border-left: 4px solid var(--accent-emerald);
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1rem;
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        box-shadow: var(--shadow);
        animation: slideInRight 0.3s ease;
    }
    
    .notification.success {
        border-left-color: var(--success);
    }
    
    .notification.error {
        border-left-color: var(--error);
    }
    
    .notification.warning {
        border-left-color: var(--warning);
    }
    
    .notification i {
        font-size: 1.2rem;
        margin-top: 0.2rem;
    }
    
    .notification-content {
        flex: 1;
    }
    
    .notification-title {
        font-weight: 600;
        margin-bottom: 0.3rem;
    }
    
    .notification-message {
        color: var(--text-muted);
        font-size: 0.9rem;
    }
    
    .notification-time {
        color: var(--text-muted);
        font-size: 0.8rem;
        margin-top: 0.5rem;
    }
    
    .notification-close {
        background: none;
        border: none;
        color: var(--text-muted);
        cursor: pointer;
        padding: 0.2rem;
    }
    
    @keyframes slideInRight {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
    
    .ai-insights-section {
        background: var(--secondary);
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 2rem;
    }
    
    .insights-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin: 1rem 0;
    }
    
    .insight-card {
        background: var(--primary);
        border-radius: 8px;
        padding: 1rem;
        border-left: 4px solid var(--accent-gold);
    }
    
    .insight-card.high {
        border-left-color: var(--error);
    }
    
    .insight-card.medium {
        border-left-color: var(--warning);
    }
    
    .insight-card.low {
        border-left-color: var(--success);
    }
    
    .insight-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
    }
    
    .insight-priority {
        font-size: 0.7rem;
        padding: 0.2rem 0.5rem;
        border-radius: 10px;
        background: var(--secondary);
    }
    
    .insight-message {
        margin-bottom: 0.5rem;
    }
    
    .insight-action {
        font-size: 0.9rem;
        color: var(--accent-emerald);
    }
    
    .recommendation-card {
        background: var(--primary);
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .rec-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.5rem;
    }
    
    .rec-type {
        font-size: 0.7rem;
        padding: 0.2rem 0.5rem;
        border-radius: 10px;
        background: var(--secondary);
    }
    
    .rec-type.premium {
        background: rgba(245, 158, 11, 0.2);
        color: var(--accent-gold);
    }
    
    .rec-type.compound {
        background: rgba(16, 185, 129, 0.2);
        color: var(--accent-emerald);
    }
    
    .rec-type.market {
        background: rgba(59, 130, 246, 0.2);
        color: var(--accent-blue);
    }
    
    .rec-details {
        display: flex;
        gap: 1rem;
        margin: 1rem 0;
        font-size: 0.9rem;
    }
    
    .rec-details span {
        display: flex;
        align-items: center;
        gap: 0.3rem;
    }
    
    .market-indicators {
        background: var(--secondary);
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 2rem;
    }
    
    .indicators-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
    }
    
    .indicator {
        background: var(--primary);
        border-radius: 8px;
        padding: 1rem;
        text-align: center;
    }
    
    .indicator-name {
        display: block;
        font-size: 0.9rem;
        color: var(--text-muted);
        margin-bottom: 0.5rem;
    }
    
    .indicator-value {
        display: block;
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 0.3rem;
    }
    
    .indicator-change {
        display: block;
        font-size: 0.8rem;
    }
    
    .indicator-change.positive {
        color: var(--success);
    }
    
    .indicator-change.negative {
        color: var(--error);
    }
    
    .user-cell {
        display: flex;
        align-items: center;
        gap: 0.8rem;
    }
    
    .user-avatar-small {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: var(--accent-emerald);
        color: var(--primary);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 0.9rem;
    }
    
    .user-email {
        font-size: 0.8rem;
        color: var(--text-muted);
    }
    
    .admin-actions {
        display: flex;
        gap: 0.5rem;
    }
    
    .btn-icon {
        width: 32px;
        height: 32px;
        border-radius: 6px;
        background: var(--secondary);
        border: none;
        color: var(--text-light);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
    }
    
    .btn-icon:hover {
        background: var(--accent-emerald);
        color: var(--primary);
    }
    
    .btn-icon.success:hover {
        background: var(--success);
    }
    
    .btn-icon.error:hover {
        background: var(--error);
    }
    
    .empty-state {
        text-align: center;
        padding: 3rem 1rem;
        color: var(--text-muted);
    }
    
    .empty-state i {
        margin-bottom: 1rem;
        opacity: 0.5;
    }
    
    .empty-state h4 {
        margin-bottom: 0.5rem;
        color: var(--text-light);
    }
    
    .investment-progress {
        margin-top: 0.5rem;
    }
    
    .progress-bar {
        height: 6px;
        background: var(--secondary);
        border-radius: 3px;
        overflow: hidden;
        margin-bottom: 0.3rem;
    }
    
    .progress-fill {
        height: 100%;
        background: var(--accent-emerald);
        border-radius: 3px;
        transition: width 0.3s ease;
    }
    
    .progress-text {
        font-size: 0.8rem;
        color: var(--text-muted);
    }
    
    .transaction-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
    }
    
    .transaction-icon.deposit {
        background: rgba(16, 185, 129, 0.2);
        color: var(--accent-emerald);
    }
    
    .transaction-icon.withdrawal {
        background: rgba(239, 68, 68, 0.2);
        color: var(--error);
    }
    
    .transaction-icon.investment {
        background: rgba(245, 158, 11, 0.2);
        color: var(--accent-gold);
    }
    
    .transaction-icon.earning {
        background: rgba(59, 130, 246, 0.2);
        color: var(--accent-blue);
    }
    
    .transaction-icon.bonus {
        background: rgba(139, 92, 246, 0.2);
        color: var(--accent-purple);
    }
    
    .transaction-amount.positive {
        color: var(--success);
        font-weight: 600;
    }
    
    .transaction-amount.negative {
        color: var(--error);
        font-weight: 600;
    }
    
    .plan-card.detailed {
        padding: 2rem;
    }
    
    .plan-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        margin-bottom: 1.5rem;
        border: 2px solid;
    }
    
    .plan-stats {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
        margin: 1.5rem 0;
    }
    
    .plan-stat {
        text-align: center;
        padding: 1rem;
        background: var(--secondary);
        border-radius: 8px;
    }
    
    .stat-label {
        display: block;
        font-size: 0.9rem;
        color: var(--text-muted);
        margin-bottom: 0.3rem;
    }
    
    .stat-value {
        display: block;
        font-size: 1.2rem;
        font-weight: 600;
    }
    
    .plan-risk {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin: 1.5rem 0;
        padding: 1rem;
        background: var(--secondary);
        border-radius: 8px;
    }
    
    .risk-meter {
        flex: 1;
        height: 6px;
        background: var(--primary);
        border-radius: 3px;
        overflow: hidden;
    }
    
    .risk-fill {
        height: 100%;
        border-radius: 3px;
    }
    
    .risk-fill.low {
        background: var(--success);
        width: 33%;
    }
    
    .risk-fill.medium {
        background: var(--warning);
        width: 66%;
    }
    
    .risk-fill.high {
        background: var(--error);
        width: 100%;
    }
    
    .risk-text {
        font-weight: 600;
        min-width: 60px;
    }
    
    .plan-features-detailed ul {
        list-style: none;
        padding: 0;
        margin: 1rem 0;
    }
    
    .plan-features-detailed li {
        padding: 0.5rem 0;
        display: flex;
        align-items: center;
        gap: 0.8rem;
    }
    
    .plan-features-detailed i {
        color: var(--accent-emerald);
    }
    
    .plan-button-full {
        width: 100%;
        padding: 1rem;
        font-size: 1.1rem;
        margin-top: 1.5rem;
    }
    
    @media (max-width: 768px) {
        .plan-stats {
            grid-template-columns: 1fr;
        }
        
        .indicators-grid {
            grid-template-columns: 1fr;
        }
        
        .insights-grid {
            grid-template-columns: 1fr;
        }
    }
`;

// Add the styles to the document
const styleSheet = document.createElement('style');
styleSheet.textContent = additionalStyles;
document.head.appendChild(styleSheet);

// Export the app for debugging
window.app = app;

console.log(' Raw Wealthy Investment Platform v50.0 Loaded Successfully!');</script>
</body>
</html>
